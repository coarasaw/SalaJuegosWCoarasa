(self.webpackChunksala_juegos=self.webpackChunksala_juegos||[]).push([[179],{8255:yt=>{function Me(R){return Promise.resolve().then(()=>{var b=new Error("Cannot find module '"+R+"'");throw b.code="MODULE_NOT_FOUND",b})}Me.keys=()=>[],Me.resolve=Me,Me.id=8255,yt.exports=Me},7238:(yt,Me,R)=>{"use strict";R.d(Me,{l3:()=>se,_j:()=>b,LC:()=>O,ZN:()=>me,jt:()=>L,vP:()=>de,SB:()=>J,oB:()=>q,eR:()=>ue,X$:()=>oe,ZE:()=>_t,k1:()=>sn});class b{}class O{}const se="*";function oe(bt,Ge){return{type:7,name:bt,definitions:Ge,options:{}}}function L(bt,Ge=null){return{type:4,styles:Ge,timings:bt}}function de(bt,Ge=null){return{type:2,steps:bt,options:Ge}}function q(bt){return{type:6,styles:bt,offset:null}}function J(bt,Ge,$t){return{type:0,name:bt,styles:Ge,options:$t}}function ue(bt,Ge,$t=null){return{type:1,expr:bt,animation:Ge,options:$t}}function Xe(bt){Promise.resolve(null).then(bt)}class me{constructor(Ge=0,$t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Ge+$t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ge=>Ge()),this._onDoneFns=[])}onStart(Ge){this._onStartFns.push(Ge)}onDone(Ge){this._onDoneFns.push(Ge)}onDestroy(Ge){this._onDestroyFns.push(Ge)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Xe(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Ge=>Ge()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Ge=>Ge()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(Ge){this._position=this.totalTime?Ge*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Ge){const $t="start"==Ge?this._onStartFns:this._onDoneFns;$t.forEach(We=>We()),$t.length=0}}class _t{constructor(Ge){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Ge;let $t=0,We=0,Rt=0;const Ot=this.players.length;0==Ot?Xe(()=>this._onFinish()):this.players.forEach(xe=>{xe.onDone(()=>{++$t==Ot&&this._onFinish()}),xe.onDestroy(()=>{++We==Ot&&this._onDestroy()}),xe.onStart(()=>{++Rt==Ot&&this._onStart()})}),this.totalTime=this.players.reduce((xe,$e)=>Math.max(xe,$e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ge=>Ge()),this._onDoneFns=[])}init(){this.players.forEach(Ge=>Ge.init())}onStart(Ge){this._onStartFns.push(Ge)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Ge=>Ge()),this._onStartFns=[])}onDone(Ge){this._onDoneFns.push(Ge)}onDestroy(Ge){this._onDestroyFns.push(Ge)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Ge=>Ge.play())}pause(){this.players.forEach(Ge=>Ge.pause())}restart(){this.players.forEach(Ge=>Ge.restart())}finish(){this._onFinish(),this.players.forEach(Ge=>Ge.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Ge=>Ge.destroy()),this._onDestroyFns.forEach(Ge=>Ge()),this._onDestroyFns=[])}reset(){this.players.forEach(Ge=>Ge.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Ge){const $t=Ge*this.totalTime;this.players.forEach(We=>{const Rt=We.totalTime?Math.min(1,$t/We.totalTime):1;We.setPosition(Rt)})}getPosition(){const Ge=this.players.reduce(($t,We)=>null===$t||We.totalTime>$t.totalTime?We:$t,null);return null!=Ge?Ge.getPosition():0}beforeDestroy(){this.players.forEach(Ge=>{Ge.beforeDestroy&&Ge.beforeDestroy()})}triggerCallback(Ge){const $t="start"==Ge?this._onStartFns:this._onDoneFns;$t.forEach(We=>We()),$t.length=0}}const sn="!"},8583:(yt,Me,R)=>{"use strict";R.d(Me,{mr:()=>_t,ez:()=>Xr,K0:()=>de,Do:()=>bt,V_:()=>Q,Ye:()=>Ge,S$:()=>Xe,sg:()=>Gn,O5:()=>_s,b0:()=>sn,lw:()=>q,EM:()=>tt,JF:()=>ko,PM:()=>G,w_:()=>re,bD:()=>bs,q:()=>se,Mx:()=>zr,HT:()=>L});var b=R(7716);let O=null;function se(){return O}function L(U){O||(O=U)}class re{}const de=new b.OlP("DocumentToken");let q=(()=>{class U{historyGo($){throw new Error("Not implemented")}}return U.\u0275fac=function($){return new($||U)},U.\u0275prov=(0,b.Yz7)({factory:J,token:U,providedIn:"platform"}),U})();function J(){return(0,b.LFG)(ue)}const Q=new b.OlP("Location Initialized");let ue=(()=>{class U extends q{constructor($){super(),this._doc=$,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return se().getBaseHref(this._doc)}onPopState($){const ae=se().getGlobalEventTarget(this._doc,"window");return ae.addEventListener("popstate",$,!1),()=>ae.removeEventListener("popstate",$)}onHashChange($){const ae=se().getGlobalEventTarget(this._doc,"window");return ae.addEventListener("hashchange",$,!1),()=>ae.removeEventListener("hashchange",$)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname($){this.location.pathname=$}pushState($,ae,Ie){X()?this._history.pushState($,ae,Ie):this.location.hash=Ie}replaceState($,ae,Ie){X()?this._history.replaceState($,ae,Ie):this.location.hash=Ie}forward(){this._history.forward()}back(){this._history.back()}historyGo($=0){this._history.go($)}getState(){return this._history.state}}return U.\u0275fac=function($){return new($||U)(b.LFG(de))},U.\u0275prov=(0,b.Yz7)({factory:fe,token:U,providedIn:"platform"}),U})();function X(){return!!window.history.pushState}function fe(){return new ue((0,b.LFG)(de))}function ye(U,ee){if(0==U.length)return ee;if(0==ee.length)return U;let $=0;return U.endsWith("/")&&$++,ee.startsWith("/")&&$++,2==$?U+ee.substring(1):1==$?U+ee:U+"/"+ee}function Pe(U){const ee=U.match(/#|\?|$/),$=ee&&ee.index||U.length;return U.slice(0,$-("/"===U[$-1]?1:0))+U.slice($)}function Ze(U){return U&&"?"!==U[0]?"?"+U:U}let Xe=(()=>{class U{historyGo($){throw new Error("Not implemented")}}return U.\u0275fac=function($){return new($||U)},U.\u0275prov=(0,b.Yz7)({factory:me,token:U,providedIn:"root"}),U})();function me(U){const ee=(0,b.LFG)(de).location;return new sn((0,b.LFG)(q),ee&&ee.origin||"")}const _t=new b.OlP("appBaseHref");let sn=(()=>{class U extends Xe{constructor($,ae){if(super(),this._platformLocation=$,this._removeListenerFns=[],null==ae&&(ae=this._platformLocation.getBaseHrefFromDOM()),null==ae)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=ae}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}prepareExternalUrl($){return ye(this._baseHref,$)}path($=!1){const ae=this._platformLocation.pathname+Ze(this._platformLocation.search),Ie=this._platformLocation.hash;return Ie&&$?`${ae}${Ie}`:ae}pushState($,ae,Ie,at){const ht=this.prepareExternalUrl(Ie+Ze(at));this._platformLocation.pushState($,ae,ht)}replaceState($,ae,Ie,at){const ht=this.prepareExternalUrl(Ie+Ze(at));this._platformLocation.replaceState($,ae,ht)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo($=0){var ae,Ie;null===(Ie=(ae=this._platformLocation).historyGo)||void 0===Ie||Ie.call(ae,$)}}return U.\u0275fac=function($){return new($||U)(b.LFG(q),b.LFG(_t,8))},U.\u0275prov=b.Yz7({token:U,factory:U.\u0275fac}),U})(),bt=(()=>{class U extends Xe{constructor($,ae){super(),this._platformLocation=$,this._baseHref="",this._removeListenerFns=[],null!=ae&&(this._baseHref=ae)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}path($=!1){let ae=this._platformLocation.hash;return null==ae&&(ae="#"),ae.length>0?ae.substring(1):ae}prepareExternalUrl($){const ae=ye(this._baseHref,$);return ae.length>0?"#"+ae:ae}pushState($,ae,Ie,at){let ht=this.prepareExternalUrl(Ie+Ze(at));0==ht.length&&(ht=this._platformLocation.pathname),this._platformLocation.pushState($,ae,ht)}replaceState($,ae,Ie,at){let ht=this.prepareExternalUrl(Ie+Ze(at));0==ht.length&&(ht=this._platformLocation.pathname),this._platformLocation.replaceState($,ae,ht)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo($=0){var ae,Ie;null===(Ie=(ae=this._platformLocation).historyGo)||void 0===Ie||Ie.call(ae,$)}}return U.\u0275fac=function($){return new($||U)(b.LFG(q),b.LFG(_t,8))},U.\u0275prov=b.Yz7({token:U,factory:U.\u0275fac}),U})(),Ge=(()=>{class U{constructor($,ae){this._subject=new b.vpe,this._urlChangeListeners=[],this._platformStrategy=$;const Ie=this._platformStrategy.getBaseHref();this._platformLocation=ae,this._baseHref=Pe(Rt(Ie)),this._platformStrategy.onPopState(at=>{this._subject.emit({url:this.path(!0),pop:!0,state:at.state,type:at.type})})}path($=!1){return this.normalize(this._platformStrategy.path($))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo($,ae=""){return this.path()==this.normalize($+Ze(ae))}normalize($){return U.stripTrailingSlash(function(U,ee){return U&&ee.startsWith(U)?ee.substring(U.length):ee}(this._baseHref,Rt($)))}prepareExternalUrl($){return $&&"/"!==$[0]&&($="/"+$),this._platformStrategy.prepareExternalUrl($)}go($,ae="",Ie=null){this._platformStrategy.pushState(Ie,"",$,ae),this._notifyUrlChangeListeners(this.prepareExternalUrl($+Ze(ae)),Ie)}replaceState($,ae="",Ie=null){this._platformStrategy.replaceState(Ie,"",$,ae),this._notifyUrlChangeListeners(this.prepareExternalUrl($+Ze(ae)),Ie)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo($=0){var ae,Ie;null===(Ie=(ae=this._platformStrategy).historyGo)||void 0===Ie||Ie.call(ae,$)}onUrlChange($){this._urlChangeListeners.push($),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ae=>{this._notifyUrlChangeListeners(ae.url,ae.state)}))}_notifyUrlChangeListeners($="",ae){this._urlChangeListeners.forEach(Ie=>Ie($,ae))}subscribe($,ae,Ie){return this._subject.subscribe({next:$,error:ae,complete:Ie})}}return U.\u0275fac=function($){return new($||U)(b.LFG(Xe),b.LFG(q))},U.normalizeQueryParams=Ze,U.joinWithSlash=ye,U.stripTrailingSlash=Pe,U.\u0275prov=(0,b.Yz7)({factory:$t,token:U,providedIn:"root"}),U})();function $t(){return new Ge((0,b.LFG)(Xe),(0,b.LFG)(q))}function Rt(U){return U.replace(/\/index.html$/,"")}var $e=(()=>(($e=$e||{})[$e.Zero=0]="Zero",$e[$e.One=1]="One",$e[$e.Two=2]="Two",$e[$e.Few=3]="Few",$e[$e.Many=4]="Many",$e[$e.Other=5]="Other",$e))();const Sr=b.kL8;class Zi{}let ss=(()=>{class U extends Zi{constructor($){super(),this.locale=$}getPluralCategory($,ae){switch(Sr(ae||this.locale)($)){case $e.Zero:return"zero";case $e.One:return"one";case $e.Two:return"two";case $e.Few:return"few";case $e.Many:return"many";default:return"other"}}}return U.\u0275fac=function($){return new($||U)(b.LFG(b.soG))},U.\u0275prov=b.Yz7({token:U,factory:U.\u0275fac}),U})();function zr(U,ee){ee=encodeURIComponent(ee);for(const $ of U.split(";")){const ae=$.indexOf("="),[Ie,at]=-1==ae?[$,""]:[$.slice(0,ae),$.slice(ae+1)];if(Ie.trim()===ee)return decodeURIComponent(at)}return null}class Kr{constructor(ee,$,ae,Ie){this.$implicit=ee,this.ngForOf=$,this.index=ae,this.count=Ie}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Gn=(()=>{class U{constructor($,ae,Ie){this._viewContainer=$,this._template=ae,this._differs=Ie,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf($){this._ngForOf=$,this._ngForOfDirty=!0}set ngForTrackBy($){this._trackByFn=$}get ngForTrackBy(){return this._trackByFn}set ngForTemplate($){$&&(this._template=$)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const $=this._ngForOf;if(!this._differ&&$)try{this._differ=this._differs.find($).create(this.ngForTrackBy)}catch(ae){throw new Error(`Cannot find a differ supporting object '${$}' of type '${function(U){return U.name||typeof U}($)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const $=this._differ.diff(this._ngForOf);$&&this._applyChanges($)}}_applyChanges($){const ae=[];$.forEachOperation((Ie,at,ht)=>{if(null==Ie.previousIndex){const zt=this._viewContainer.createEmbeddedView(this._template,new Kr(null,this._ngForOf,-1,-1),null===ht?void 0:ht),vn=new Yi(Ie,zt);ae.push(vn)}else if(null==ht)this._viewContainer.remove(null===at?void 0:at);else if(null!==at){const zt=this._viewContainer.get(at);this._viewContainer.move(zt,ht);const vn=new Yi(Ie,zt);ae.push(vn)}});for(let Ie=0;Ie<ae.length;Ie++)this._perViewChange(ae[Ie].view,ae[Ie].record);for(let Ie=0,at=this._viewContainer.length;Ie<at;Ie++){const ht=this._viewContainer.get(Ie);ht.context.index=Ie,ht.context.count=at,ht.context.ngForOf=this._ngForOf}$.forEachIdentityChange(Ie=>{this._viewContainer.get(Ie.currentIndex).context.$implicit=Ie.item})}_perViewChange($,ae){$.context.$implicit=ae.item}static ngTemplateContextGuard($,ae){return!0}}return U.\u0275fac=function($){return new($||U)(b.Y36(b.s_b),b.Y36(b.Rgc),b.Y36(b.ZZ4))},U.\u0275dir=b.lG2({type:U,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),U})();class Yi{constructor(ee,$){this.record=ee,this.view=$}}let _s=(()=>{class U{constructor($,ae){this._viewContainer=$,this._context=new Qs,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ae}set ngIf($){this._context.$implicit=this._context.ngIf=$,this._updateView()}set ngIfThen($){ci("ngIfThen",$),this._thenTemplateRef=$,this._thenViewRef=null,this._updateView()}set ngIfElse($){ci("ngIfElse",$),this._elseTemplateRef=$,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard($,ae){return!0}}return U.\u0275fac=function($){return new($||U)(b.Y36(b.s_b),b.Y36(b.Rgc))},U.\u0275dir=b.lG2({type:U,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),U})();class Qs{constructor(){this.$implicit=null,this.ngIf=null}}function ci(U,ee){if(ee&&!ee.createEmbeddedView)throw new Error(`${U} must be a TemplateRef, but received '${(0,b.AaK)(ee)}'.`)}let Xr=(()=>{class U{}return U.\u0275fac=function($){return new($||U)},U.\u0275mod=b.oAB({type:U}),U.\u0275inj=b.cJS({providers:[{provide:Zi,useClass:ss}]}),U})();const bs="browser";function G(U){return"server"===U}let tt=(()=>{class U{}return U.\u0275prov=(0,b.Yz7)({token:U,providedIn:"root",factory:()=>new Gt((0,b.LFG)(de),window)}),U})();class Gt{constructor(ee,$){this.document=ee,this.window=$,this.offset=()=>[0,0]}setOffset(ee){this.offset=Array.isArray(ee)?()=>ee:ee}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ee){this.supportsScrolling()&&this.window.scrollTo(ee[0],ee[1])}scrollToAnchor(ee){if(!this.supportsScrolling())return;const $=function(U,ee){const $=U.getElementById(ee)||U.getElementsByName(ee)[0];if($)return $;if("function"==typeof U.createTreeWalker&&U.body&&(U.body.createShadowRoot||U.body.attachShadow)){const ae=U.createTreeWalker(U.body,NodeFilter.SHOW_ELEMENT);let Ie=ae.currentNode;for(;Ie;){const at=Ie.shadowRoot;if(at){const ht=at.getElementById(ee)||at.querySelector(`[name="${ee}"]`);if(ht)return ht}Ie=ae.nextNode()}}return null}(this.document,ee);$&&(this.scrollToElement($),this.attemptFocus($))}setHistoryScrollRestoration(ee){if(this.supportScrollRestoration()){const $=this.window.history;$&&$.scrollRestoration&&($.scrollRestoration=ee)}}scrollToElement(ee){const $=ee.getBoundingClientRect(),ae=$.left+this.window.pageXOffset,Ie=$.top+this.window.pageYOffset,at=this.offset();this.window.scrollTo(ae-at[0],Ie-at[1])}attemptFocus(ee){return ee.focus(),this.document.activeElement===ee}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ee=sr(this.window.history)||sr(Object.getPrototypeOf(this.window.history));return!(!ee||!ee.writable&&!ee.set)}catch(ee){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(ee){return!1}}}function sr(U){return Object.getOwnPropertyDescriptor(U,"scrollRestoration")}class ko{}},1841:(yt,Me,R)=>{"use strict";R.d(Me,{eN:()=>Ne,JF:()=>bn});var b=R(8583),O=R(7716),se=R(5917),oe=R(9897),L=R(4612),re=R(5435),de=R(8002);class q{}class J{}class Q{constructor(we){this.normalizedNames=new Map,this.lazyUpdate=null,we?this.lazyInit="string"==typeof we?()=>{this.headers=new Map,we.split("\n").forEach(Ce=>{const nt=Ce.indexOf(":");if(nt>0){const gt=Ce.slice(0,nt),Lt=gt.toLowerCase(),mt=Ce.slice(nt+1).trim();this.maybeSetNormalizedName(gt,Lt),this.headers.has(Lt)?this.headers.get(Lt).push(mt):this.headers.set(Lt,[mt])}})}:()=>{this.headers=new Map,Object.keys(we).forEach(Ce=>{let nt=we[Ce];const gt=Ce.toLowerCase();"string"==typeof nt&&(nt=[nt]),nt.length>0&&(this.headers.set(gt,nt),this.maybeSetNormalizedName(Ce,gt))})}:this.headers=new Map}has(we){return this.init(),this.headers.has(we.toLowerCase())}get(we){this.init();const Ce=this.headers.get(we.toLowerCase());return Ce&&Ce.length>0?Ce[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(we){return this.init(),this.headers.get(we.toLowerCase())||null}append(we,Ce){return this.clone({name:we,value:Ce,op:"a"})}set(we,Ce){return this.clone({name:we,value:Ce,op:"s"})}delete(we,Ce){return this.clone({name:we,value:Ce,op:"d"})}maybeSetNormalizedName(we,Ce){this.normalizedNames.has(Ce)||this.normalizedNames.set(Ce,we)}init(){this.lazyInit&&(this.lazyInit instanceof Q?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(we=>this.applyUpdate(we)),this.lazyUpdate=null))}copyFrom(we){we.init(),Array.from(we.headers.keys()).forEach(Ce=>{this.headers.set(Ce,we.headers.get(Ce)),this.normalizedNames.set(Ce,we.normalizedNames.get(Ce))})}clone(we){const Ce=new Q;return Ce.lazyInit=this.lazyInit&&this.lazyInit instanceof Q?this.lazyInit:this,Ce.lazyUpdate=(this.lazyUpdate||[]).concat([we]),Ce}applyUpdate(we){const Ce=we.name.toLowerCase();switch(we.op){case"a":case"s":let nt=we.value;if("string"==typeof nt&&(nt=[nt]),0===nt.length)return;this.maybeSetNormalizedName(we.name,Ce);const gt=("a"===we.op?this.headers.get(Ce):void 0)||[];gt.push(...nt),this.headers.set(Ce,gt);break;case"d":const Lt=we.value;if(Lt){let mt=this.headers.get(Ce);if(!mt)return;mt=mt.filter(Ft=>-1===Lt.indexOf(Ft)),0===mt.length?(this.headers.delete(Ce),this.normalizedNames.delete(Ce)):this.headers.set(Ce,mt)}else this.headers.delete(Ce),this.normalizedNames.delete(Ce)}}forEach(we){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ce=>we(this.normalizedNames.get(Ce),this.headers.get(Ce)))}}class ue{encodeKey(we){return Pe(we)}encodeValue(we){return Pe(we)}decodeKey(we){return decodeURIComponent(we)}decodeValue(we){return decodeURIComponent(we)}}const fe=/%(\d[a-f0-9])/gi,ye={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Pe(qe){return encodeURIComponent(qe).replace(fe,(we,Ce)=>{var nt;return null!==(nt=ye[Ce])&&void 0!==nt?nt:we})}function Ze(qe){return`${qe}`}class Xe{constructor(we={}){if(this.updates=null,this.cloneFrom=null,this.encoder=we.encoder||new ue,we.fromString){if(we.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(qe,we){const Ce=new Map;return qe.length>0&&qe.replace(/^\?/,"").split("&").forEach(gt=>{const Lt=gt.indexOf("="),[mt,Ft]=-1==Lt?[we.decodeKey(gt),""]:[we.decodeKey(gt.slice(0,Lt)),we.decodeValue(gt.slice(Lt+1))],On=Ce.get(mt)||[];On.push(Ft),Ce.set(mt,On)}),Ce}(we.fromString,this.encoder)}else we.fromObject?(this.map=new Map,Object.keys(we.fromObject).forEach(Ce=>{const nt=we.fromObject[Ce];this.map.set(Ce,Array.isArray(nt)?nt:[nt])})):this.map=null}has(we){return this.init(),this.map.has(we)}get(we){this.init();const Ce=this.map.get(we);return Ce?Ce[0]:null}getAll(we){return this.init(),this.map.get(we)||null}keys(){return this.init(),Array.from(this.map.keys())}append(we,Ce){return this.clone({param:we,value:Ce,op:"a"})}appendAll(we){const Ce=[];return Object.keys(we).forEach(nt=>{const gt=we[nt];Array.isArray(gt)?gt.forEach(Lt=>{Ce.push({param:nt,value:Lt,op:"a"})}):Ce.push({param:nt,value:gt,op:"a"})}),this.clone(Ce)}set(we,Ce){return this.clone({param:we,value:Ce,op:"s"})}delete(we,Ce){return this.clone({param:we,value:Ce,op:"d"})}toString(){return this.init(),this.keys().map(we=>{const Ce=this.encoder.encodeKey(we);return this.map.get(we).map(nt=>Ce+"="+this.encoder.encodeValue(nt)).join("&")}).filter(we=>""!==we).join("&")}clone(we){const Ce=new Xe({encoder:this.encoder});return Ce.cloneFrom=this.cloneFrom||this,Ce.updates=(this.updates||[]).concat(we),Ce}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(we=>this.map.set(we,this.cloneFrom.map.get(we))),this.updates.forEach(we=>{switch(we.op){case"a":case"s":const Ce=("a"===we.op?this.map.get(we.param):void 0)||[];Ce.push(Ze(we.value)),this.map.set(we.param,Ce);break;case"d":if(void 0===we.value){this.map.delete(we.param);break}{let nt=this.map.get(we.param)||[];const gt=nt.indexOf(Ze(we.value));-1!==gt&&nt.splice(gt,1),nt.length>0?this.map.set(we.param,nt):this.map.delete(we.param)}}}),this.cloneFrom=this.updates=null)}}class _t{constructor(){this.map=new Map}set(we,Ce){return this.map.set(we,Ce),this}get(we){return this.map.has(we)||this.map.set(we,we.defaultValue()),this.map.get(we)}delete(we){return this.map.delete(we),this}keys(){return this.map.keys()}}function bt(qe){return"undefined"!=typeof ArrayBuffer&&qe instanceof ArrayBuffer}function Ge(qe){return"undefined"!=typeof Blob&&qe instanceof Blob}function $t(qe){return"undefined"!=typeof FormData&&qe instanceof FormData}class Rt{constructor(we,Ce,nt,gt){let Lt;if(this.url=Ce,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=we.toUpperCase(),function(qe){switch(qe){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||gt?(this.body=void 0!==nt?nt:null,Lt=gt):Lt=nt,Lt&&(this.reportProgress=!!Lt.reportProgress,this.withCredentials=!!Lt.withCredentials,Lt.responseType&&(this.responseType=Lt.responseType),Lt.headers&&(this.headers=Lt.headers),Lt.context&&(this.context=Lt.context),Lt.params&&(this.params=Lt.params)),this.headers||(this.headers=new Q),this.context||(this.context=new _t),this.params){const mt=this.params.toString();if(0===mt.length)this.urlWithParams=Ce;else{const Ft=Ce.indexOf("?");this.urlWithParams=Ce+(-1===Ft?"?":Ft<Ce.length-1?"&":"")+mt}}else this.params=new Xe,this.urlWithParams=Ce}serializeBody(){return null===this.body?null:bt(this.body)||Ge(this.body)||$t(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof Xe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||$t(this.body)?null:Ge(this.body)?this.body.type||null:bt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Xe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(we={}){var Ce;const nt=we.method||this.method,gt=we.url||this.url,Lt=we.responseType||this.responseType,mt=void 0!==we.body?we.body:this.body,Ft=void 0!==we.withCredentials?we.withCredentials:this.withCredentials,On=void 0!==we.reportProgress?we.reportProgress:this.reportProgress;let Cr=we.headers||this.headers,Ar=we.params||this.params;const An=null!==(Ce=we.context)&&void 0!==Ce?Ce:this.context;return void 0!==we.setHeaders&&(Cr=Object.keys(we.setHeaders).reduce((Ir,Nn)=>Ir.set(Nn,we.setHeaders[Nn]),Cr)),we.setParams&&(Ar=Object.keys(we.setParams).reduce((Ir,Nn)=>Ir.set(Nn,we.setParams[Nn]),Ar)),new Rt(nt,gt,mt,{params:Ar,headers:Cr,context:An,reportProgress:On,responseType:Lt,withCredentials:Ft})}}var Ot=(()=>((Ot=Ot||{})[Ot.Sent=0]="Sent",Ot[Ot.UploadProgress=1]="UploadProgress",Ot[Ot.ResponseHeader=2]="ResponseHeader",Ot[Ot.DownloadProgress=3]="DownloadProgress",Ot[Ot.Response=4]="Response",Ot[Ot.User=5]="User",Ot))();class xe{constructor(we,Ce=200,nt="OK"){this.headers=we.headers||new Q,this.status=void 0!==we.status?we.status:Ce,this.statusText=we.statusText||nt,this.url=we.url||null,this.ok=this.status>=200&&this.status<300}}class $e extends xe{constructor(we={}){super(we),this.type=Ot.ResponseHeader}clone(we={}){return new $e({headers:we.headers||this.headers,status:void 0!==we.status?we.status:this.status,statusText:we.statusText||this.statusText,url:we.url||this.url||void 0})}}class Re extends xe{constructor(we={}){super(we),this.type=Ot.Response,this.body=void 0!==we.body?we.body:null}clone(we={}){return new Re({body:void 0!==we.body?we.body:this.body,headers:we.headers||this.headers,status:void 0!==we.status?we.status:this.status,statusText:we.statusText||this.statusText,url:we.url||this.url||void 0})}}class Qe extends xe{constructor(we){super(we,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${we.url||"(unknown url)"}`:`Http failure response for ${we.url||"(unknown url)"}: ${we.status} ${we.statusText}`,this.error=we.error||null}}function Ye(qe,we){return{body:we,headers:qe.headers,context:qe.context,observe:qe.observe,params:qe.params,reportProgress:qe.reportProgress,responseType:qe.responseType,withCredentials:qe.withCredentials}}let Ne=(()=>{class qe{constructor(Ce){this.handler=Ce}request(Ce,nt,gt={}){let Lt;if(Ce instanceof Rt)Lt=Ce;else{let On,Cr;On=gt.headers instanceof Q?gt.headers:new Q(gt.headers),gt.params&&(Cr=gt.params instanceof Xe?gt.params:new Xe({fromObject:gt.params})),Lt=new Rt(Ce,nt,void 0!==gt.body?gt.body:null,{headers:On,context:gt.context,params:Cr,reportProgress:gt.reportProgress,responseType:gt.responseType||"json",withCredentials:gt.withCredentials})}const mt=(0,se.of)(Lt).pipe((0,L.b)(On=>this.handler.handle(On)));if(Ce instanceof Rt||"events"===gt.observe)return mt;const Ft=mt.pipe((0,re.h)(On=>On instanceof Re));switch(gt.observe||"body"){case"body":switch(Lt.responseType){case"arraybuffer":return Ft.pipe((0,de.U)(On=>{if(null!==On.body&&!(On.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return On.body}));case"blob":return Ft.pipe((0,de.U)(On=>{if(null!==On.body&&!(On.body instanceof Blob))throw new Error("Response is not a Blob.");return On.body}));case"text":return Ft.pipe((0,de.U)(On=>{if(null!==On.body&&"string"!=typeof On.body)throw new Error("Response is not a string.");return On.body}));case"json":default:return Ft.pipe((0,de.U)(On=>On.body))}case"response":return Ft;default:throw new Error(`Unreachable: unhandled observe type ${gt.observe}}`)}}delete(Ce,nt={}){return this.request("DELETE",Ce,nt)}get(Ce,nt={}){return this.request("GET",Ce,nt)}head(Ce,nt={}){return this.request("HEAD",Ce,nt)}jsonp(Ce,nt){return this.request("JSONP",Ce,{params:(new Xe).append(nt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ce,nt={}){return this.request("OPTIONS",Ce,nt)}patch(Ce,nt,gt={}){return this.request("PATCH",Ce,Ye(gt,nt))}post(Ce,nt,gt={}){return this.request("POST",Ce,Ye(gt,nt))}put(Ce,nt,gt={}){return this.request("PUT",Ce,Ye(gt,nt))}}return qe.\u0275fac=function(Ce){return new(Ce||qe)(O.LFG(q))},qe.\u0275prov=O.Yz7({token:qe,factory:qe.\u0275fac}),qe})();class Dt{constructor(we,Ce){this.next=we,this.interceptor=Ce}handle(we){return this.interceptor.intercept(we,this.next)}}const Zt=new O.OlP("HTTP_INTERCEPTORS");let ot=(()=>{class qe{intercept(Ce,nt){return nt.handle(Ce)}}return qe.\u0275fac=function(Ce){return new(Ce||qe)},qe.\u0275prov=O.Yz7({token:qe,factory:qe.\u0275fac}),qe})();const cr=/^\)\]\}',?\n/;let qn=(()=>{class qe{constructor(Ce){this.xhrFactory=Ce}handle(Ce){if("JSONP"===Ce.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new oe.y(nt=>{const gt=this.xhrFactory.build();if(gt.open(Ce.method,Ce.urlWithParams),Ce.withCredentials&&(gt.withCredentials=!0),Ce.headers.forEach((Nn,en)=>gt.setRequestHeader(Nn,en.join(","))),Ce.headers.has("Accept")||gt.setRequestHeader("Accept","application/json, text/plain, */*"),!Ce.headers.has("Content-Type")){const Nn=Ce.detectContentTypeHeader();null!==Nn&&gt.setRequestHeader("Content-Type",Nn)}if(Ce.responseType){const Nn=Ce.responseType.toLowerCase();gt.responseType="json"!==Nn?Nn:"text"}const Lt=Ce.serializeBody();let mt=null;const Ft=()=>{if(null!==mt)return mt;const Nn=1223===gt.status?204:gt.status,en=gt.statusText||"OK",ve=new Q(gt.getAllResponseHeaders()),be=function(qe){return"responseURL"in qe&&qe.responseURL?qe.responseURL:/^X-Request-URL:/m.test(qe.getAllResponseHeaders())?qe.getResponseHeader("X-Request-URL"):null}(gt)||Ce.url;return mt=new $e({headers:ve,status:Nn,statusText:en,url:be}),mt},On=()=>{let{headers:Nn,status:en,statusText:ve,url:be}=Ft(),Ve=null;204!==en&&(Ve=void 0===gt.response?gt.responseText:gt.response),0===en&&(en=Ve?200:0);let ze=en>=200&&en<300;if("json"===Ce.responseType&&"string"==typeof Ve){const He=Ve;Ve=Ve.replace(cr,"");try{Ve=""!==Ve?JSON.parse(Ve):null}catch(Mt){Ve=He,ze&&(ze=!1,Ve={error:Mt,text:Ve})}}ze?(nt.next(new Re({body:Ve,headers:Nn,status:en,statusText:ve,url:be||void 0})),nt.complete()):nt.error(new Qe({error:Ve,headers:Nn,status:en,statusText:ve,url:be||void 0}))},Cr=Nn=>{const{url:en}=Ft(),ve=new Qe({error:Nn,status:gt.status||0,statusText:gt.statusText||"Unknown Error",url:en||void 0});nt.error(ve)};let Ar=!1;const An=Nn=>{Ar||(nt.next(Ft()),Ar=!0);let en={type:Ot.DownloadProgress,loaded:Nn.loaded};Nn.lengthComputable&&(en.total=Nn.total),"text"===Ce.responseType&&!!gt.responseText&&(en.partialText=gt.responseText),nt.next(en)},Ir=Nn=>{let en={type:Ot.UploadProgress,loaded:Nn.loaded};Nn.lengthComputable&&(en.total=Nn.total),nt.next(en)};return gt.addEventListener("load",On),gt.addEventListener("error",Cr),gt.addEventListener("timeout",Cr),gt.addEventListener("abort",Cr),Ce.reportProgress&&(gt.addEventListener("progress",An),null!==Lt&&gt.upload&&gt.upload.addEventListener("progress",Ir)),gt.send(Lt),nt.next({type:Ot.Sent}),()=>{gt.removeEventListener("error",Cr),gt.removeEventListener("abort",Cr),gt.removeEventListener("load",On),gt.removeEventListener("timeout",Cr),Ce.reportProgress&&(gt.removeEventListener("progress",An),null!==Lt&&gt.upload&&gt.upload.removeEventListener("progress",Ir)),gt.readyState!==gt.DONE&&gt.abort()}})}}return qe.\u0275fac=function(Ce){return new(Ce||qe)(O.LFG(b.JF))},qe.\u0275prov=O.Yz7({token:qe,factory:qe.\u0275fac}),qe})();const yn=new O.OlP("XSRF_COOKIE_NAME"),qt=new O.OlP("XSRF_HEADER_NAME");class Vn{}let Er=(()=>{class qe{constructor(Ce,nt,gt){this.doc=Ce,this.platform=nt,this.cookieName=gt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ce=this.doc.cookie||"";return Ce!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,b.Mx)(Ce,this.cookieName),this.lastCookieString=Ce),this.lastToken}}return qe.\u0275fac=function(Ce){return new(Ce||qe)(O.LFG(b.K0),O.LFG(O.Lbi),O.LFG(yn))},qe.\u0275prov=O.Yz7({token:qe,factory:qe.\u0275fac}),qe})(),Sr=(()=>{class qe{constructor(Ce,nt){this.tokenService=Ce,this.headerName=nt}intercept(Ce,nt){const gt=Ce.url.toLowerCase();if("GET"===Ce.method||"HEAD"===Ce.method||gt.startsWith("http://")||gt.startsWith("https://"))return nt.handle(Ce);const Lt=this.tokenService.getToken();return null!==Lt&&!Ce.headers.has(this.headerName)&&(Ce=Ce.clone({headers:Ce.headers.set(this.headerName,Lt)})),nt.handle(Ce)}}return qe.\u0275fac=function(Ce){return new(Ce||qe)(O.LFG(Vn),O.LFG(qt))},qe.\u0275prov=O.Yz7({token:qe,factory:qe.\u0275fac}),qe})(),dr=(()=>{class qe{constructor(Ce,nt){this.backend=Ce,this.injector=nt,this.chain=null}handle(Ce){if(null===this.chain){const nt=this.injector.get(Zt,[]);this.chain=nt.reduceRight((gt,Lt)=>new Dt(gt,Lt),this.backend)}return this.chain.handle(Ce)}}return qe.\u0275fac=function(Ce){return new(Ce||qe)(O.LFG(J),O.LFG(O.zs3))},qe.\u0275prov=O.Yz7({token:qe,factory:qe.\u0275fac}),qe})(),Qt=(()=>{class qe{static disable(){return{ngModule:qe,providers:[{provide:Sr,useClass:ot}]}}static withOptions(Ce={}){return{ngModule:qe,providers:[Ce.cookieName?{provide:yn,useValue:Ce.cookieName}:[],Ce.headerName?{provide:qt,useValue:Ce.headerName}:[]]}}}return qe.\u0275fac=function(Ce){return new(Ce||qe)},qe.\u0275mod=O.oAB({type:qe}),qe.\u0275inj=O.cJS({providers:[Sr,{provide:Zt,useExisting:Sr,multi:!0},{provide:Vn,useClass:Er},{provide:yn,useValue:"XSRF-TOKEN"},{provide:qt,useValue:"X-XSRF-TOKEN"}]}),qe})(),bn=(()=>{class qe{}return qe.\u0275fac=function(Ce){return new(Ce||qe)},qe.\u0275mod=O.oAB({type:qe}),qe.\u0275inj=O.cJS({providers:[Ne,{provide:q,useClass:dr},qn,{provide:J,useExisting:qn}],imports:[[Qt.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),qe})()},7716:(yt,Me,R)=>{"use strict";R.d(Me,{deG:()=>Bu,tb:()=>ew,AFp:()=>Qb,ip1:()=>oE,CZH:()=>Vf,hGG:()=>VS,z2F:()=>Xg,sBO:()=>CI,Sil:()=>Jg,_Vd:()=>ah,EJc:()=>nw,SBq:()=>Ul,qLn:()=>S,vpe:()=>Bl,gxx:()=>Rl,tBr:()=>Xn,XFs:()=>Qt,OlP:()=>or,zs3:()=>Yr,ZZ4:()=>Zy,aQg:()=>qy,soG:()=>o_,YKP:()=>z0,v3s:()=>yS,h0i:()=>uh,PXZ:()=>dS,R0b:()=>lu,FiY:()=>Gr,Lbi:()=>Xb,g9A:()=>Jb,Qsj:()=>uI,FYo:()=>Ky,JOm:()=>ta,Tiy:()=>Nv,q3G:()=>Fr,tp0:()=>oi,EAV:()=>bS,Rgc:()=>Bg,dDg:()=>ow,DyG:()=>Io,q4F:()=>Pv,GfV:()=>U0,s_b:()=>Jy,ifc:()=>mt,eFA:()=>dw,G48:()=>iS,Gpc:()=>ue,X6Q:()=>fE,_c5:()=>OS,VLi:()=>rS,c2e:()=>tw,zSh:()=>hc,wAp:()=>$n,vHH:()=>Pe,EiD:()=>Rc,mCW:()=>Wl,qzn:()=>El,JVY:()=>vr,pB0:()=>Mc,eBb:()=>xc,L6k:()=>_h,LAX:()=>fs,cg1:()=>Iv,Tjo:()=>xS,kL8:()=>a0,yhl:()=>Gi,dqk:()=>An,sIi:()=>mf,CqO:()=>Dg,QGY:()=>Ig,F4k:()=>Ty,RDi:()=>Zr,AaK:()=>q,z3N:()=>Fs,qOj:()=>qs,TTD:()=>Xr,_Bn:()=>P0,xp6:()=>lp,uIk:()=>ay,Gre:()=>ia,ekj:()=>sh,Suo:()=>xb,Xpm:()=>_n,lG2:()=>Kt,Yz7:()=>tn,cJS:()=>jn,oAB:()=>it,Yjl:()=>Tn,Y36:()=>Qd,_UZ:()=>wy,qZA:()=>Tf,TgZ:()=>wg,EpF:()=>Dy,n5z:()=>Ls,Ikx:()=>Cv,LFG:()=>_r,$8M:()=>ga,NdJ:()=>Sy,CRH:()=>Mb,oxw:()=>Tg,Q6J:()=>If,s9C:()=>Ag,MGl:()=>eh,DdM:()=>Eb,iGM:()=>Ab,CHM:()=>Da,LSH:()=>nu,kYT:()=>St,YNc:()=>cy,_uU:()=>De,Oqu:()=>Le,hij:()=>lt,AsE:()=>Ct});var b=R(9765),O=R(826),se=R(9897),oe=R(6682),L=R(8345);function re(i){for(let s in i)if(i[s]===re)return s;throw Error("Could not find renamed property on target object.")}function de(i,s){for(const o in s)s.hasOwnProperty(o)&&!i.hasOwnProperty(o)&&(i[o]=s[o])}function q(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(q).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function J(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const Q=re({__forward_ref__:re});function ue(i){return i.__forward_ref__=ue,i.toString=function(){return q(this())},i}function X(i){return fe(i)?i():i}function fe(i){return"function"==typeof i&&i.hasOwnProperty(Q)&&i.__forward_ref__===ue}class Pe extends Error{constructor(s,o){super(function(i,s){return`${i?`NG0${i}: `:""}${s}`}(s,o)),this.code=s}}function me(i){return"string"==typeof i?i:null==i?"":String(i)}function _t(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():me(i)}function $t(i,s){const o=s?` in ${s}`:"";throw new Pe("201",`No provider for ${_t(i)} found${o}`)}function ke(i,s){null==i&&function(i,s,o,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${o} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function tn(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function jn(i){return{providers:i.providers||[],imports:i.imports||[]}}function qn(i){return yn(i,Sr)||yn(i,Ki)}function yn(i,s){return i.hasOwnProperty(s)?i[s]:null}function Er(i){return i&&(i.hasOwnProperty(dr)||i.hasOwnProperty(mr))?i[dr]:null}const Sr=re({\u0275prov:re}),dr=re({\u0275inj:re}),Ki=re({ngInjectableDef:re}),mr=re({ngInjectorDef:re});var Qt=(()=>((Qt=Qt||{})[Qt.Default=0]="Default",Qt[Qt.Host=1]="Host",Qt[Qt.Self=2]="Self",Qt[Qt.SkipSelf=4]="SkipSelf",Qt[Qt.Optional=8]="Optional",Qt))();let bn;function ur(i){const s=bn;return bn=i,s}function qe(i,s,o){const l=qn(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&Qt.Optional?null:void 0!==s?s:void $t(q(i),"Injector")}function Ce(i){return{toString:i}.toString()}var nt=(()=>((nt=nt||{})[nt.OnPush=0]="OnPush",nt[nt.Default=1]="Default",nt))(),mt=(()=>((mt=mt||{})[mt.Emulated=0]="Emulated",mt[mt.None=2]="None",mt[mt.ShadowDom=3]="ShadowDom",mt))();const Ft="undefined"!=typeof globalThis&&globalThis,On="undefined"!=typeof window&&window,Cr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ar="undefined"!=typeof global&&global,An=Ft||Ar||On||Cr,en={},ve=[],be=re({\u0275cmp:re}),Ve=re({\u0275dir:re}),ze=re({\u0275pipe:re}),He=re({\u0275mod:re}),Mt=re({\u0275loc:re}),Nt=re({\u0275fac:re}),wn=re({__NG_ELEMENT_ID__:re});let Rn=0;function _n(i){return Ce(()=>{const o={},l={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===nt.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||ve,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||mt.Emulated,id:"c",styles:i.styles||ve,_:null,setInput:null,schemas:i.schemas||null,tView:null},d=i.directives,f=i.features,v=i.pipes;return l.id+=Rn++,l.inputs=Tt(i.inputs,o),l.outputs=Tt(i.outputs),f&&f.forEach(w=>w(l)),l.directiveDefs=d?()=>("function"==typeof d?d():d).map(Pr):null,l.pipeDefs=v?()=>("function"==typeof v?v():v).map(rt):null,l})}function Pr(i){return Xt(i)||function(i){return i[Ve]||null}(i)}function rt(i){return function(i){return i[ze]||null}(i)}const et={};function it(i){return Ce(()=>{const s={type:i.type,bootstrap:i.bootstrap||ve,declarations:i.declarations||ve,imports:i.imports||ve,exports:i.exports||ve,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(et[i.id]=i.type),s})}function St(i,s){return Ce(()=>{const o=Wn(i,!0);o.declarations=s.declarations||ve,o.imports=s.imports||ve,o.exports=s.exports||ve})}function Tt(i,s){if(null==i)return en;const o={};for(const l in i)if(i.hasOwnProperty(l)){let d=i[l],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),o[d]=l,s&&(s[d]=f)}return o}const Kt=_n;function Tn(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Xt(i){return i[be]||null}function Wn(i,s){const o=i[He]||null;if(!o&&!0===s)throw new Error(`Type ${q(i)} does not have '\u0275mod' property.`);return o}function Pi(i){return Array.isArray(i)&&"object"==typeof i[1]}function _i(i){return Array.isArray(i)&&!0===i[1]}function xi(i){return 0!=(8&i.flags)}function vi(i){return 2==(2&i.flags)}function Li(i){return 1==(1&i.flags)}function Vr(i){return null!==i.template}function Fn(i){return 0!=(512&i[2])}function Ji(i,s){return i.hasOwnProperty(Nt)?i[Nt]:null}class Xi{constructor(s,o,l){this.previousValue=s,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function Xr(){return bs}function bs(i){return i.type.prototype.ngOnChanges&&(i.setInput=as),$s}function $s(){const i=Ei(this),s=null==i?void 0:i.current;if(s){const o=i.previous;if(o===en)i.previous=s;else for(let l in s)o[l]=s[l];i.current=null,this.ngOnChanges(s)}}function as(i,s,o,l){const d=Ei(i)||function(i,s){return i[us]=s}(i,{previous:en,current:null}),f=d.current||(d.current={}),v=d.previous,w=this.declaredInputs[o],x=v[w];f[w]=new Xi(x&&x.currentValue,s,v===en),i[l]=s}Xr.ngInherit=!0;const us="__ngSimpleChanges__";function Ei(i){return i[us]||null}let sr;function Zr(i){sr=i}function U(i){return!!i.listen}const $={createRenderer:(i,s)=>void 0!==sr?sr:"undefined"!=typeof document?document:void 0};function Ie(i){for(;Array.isArray(i);)i=i[0];return i}function zt(i,s){return Ie(s[i])}function vn(i,s){return Ie(s[i.index])}function lr(i,s){return i.data[s]}function fr(i,s){const o=s[i];return Pi(o)?o:o[0]}function nr(i){return 4==(4&i[2])}function qr(i){return 128==(128&i[2])}function kr(i,s){return null==s?null:i[s]}function no(i){i[18]=0}function bi(i,s){i[5]+=s;let o=i,l=i[3];for(;null!==l&&(1===s&&1===o[5]||-1===s&&0===o[5]);)l[5]+=s,o=l,l=l[3]}const dn={lFrame:ro(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ia(){return dn.bindingsEnabled}function It(){return dn.lFrame.lView}function Jn(){return dn.lFrame.tView}function Da(i){return dn.lFrame.contextLView=i,i[8]}function jr(){let i=Ko();for(;null!==i&&64===i.type;)i=i.parent;return i}function Ko(){return dn.lFrame.currentTNode}function ls(i,s){const o=dn.lFrame;o.currentTNode=i,o.isParent=s}function Zo(){return dn.lFrame.isParent}function ws(){return dn.isInCheckNoChangesMode}function mo(i){dn.isInCheckNoChangesMode=i}function $i(){return dn.lFrame.bindingIndex++}function Wi(i){const s=dn.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,o}function qo(i,s){const o=dn.lFrame;o.bindingIndex=o.bindingRootIndex=i,ua(s)}function ua(i){dn.lFrame.currentDirectiveIndex=i}function Yo(){return dn.lFrame.currentQueryIndex}function _o(i){dn.lFrame.currentQueryIndex=i}function la(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function vo(i,s,o){if(o&Qt.SkipSelf){let d=s,f=i;for(;!(d=d.parent,null!==d||o&Qt.Host||(d=la(f),null===d||(f=f[15],10&d.type))););if(null===d)return!1;s=d,i=f}const l=dn.lFrame=Wa();return l.currentTNode=s,l.lView=i,!0}function Ws(i){const s=Wa(),o=i[1];dn.lFrame=s,s.currentTNode=o.firstChild,s.lView=i,s.tView=o,s.contextLView=i,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function Wa(){const i=dn.lFrame,s=null===i?null:i.child;return null===s?ro(i):s}function ro(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function gi(){const i=dn.lFrame;return dn.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Fu=gi;function Gs(){const i=gi();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function ei(){return dn.lFrame.selectedIndex}function Ps(i){dn.lFrame.selectedIndex=i}function Br(){const i=dn.lFrame;return lr(i.tView,i.selectedIndex)}function wo(i,s){for(let o=s.directiveStart,l=s.directiveEnd;o<l;o++){const f=i.data[o].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:w,ngAfterViewInit:x,ngAfterViewChecked:V,ngOnDestroy:K}=f;v&&(i.contentHooks||(i.contentHooks=[])).push(-o,v),w&&((i.contentHooks||(i.contentHooks=[])).push(o,w),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(o,w)),x&&(i.viewHooks||(i.viewHooks=[])).push(-o,x),V&&((i.viewHooks||(i.viewHooks=[])).push(o,V),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(o,V)),null!=K&&(i.destroyHooks||(i.destroyHooks=[])).push(o,K)}}function ha(i,s,o){Uo(i,s,3,o)}function Cs(i,s,o,l){(3&i[2])===o&&Uo(i,s,o,l)}function Co(i,s){let o=i[2];(3&o)===s&&(o&=2047,o+=1,i[2]=o)}function Uo(i,s,o,l){const f=null!=l?l:-1,v=s.length-1;let w=0;for(let x=void 0!==l?65535&i[18]:0;x<v;x++)if("number"==typeof s[x+1]){if(w=s[x],null!=l&&w>=l)break}else s[x]<0&&(i[18]+=65536),(w<f||-1==f)&&(Oa(i,o,s,x),i[18]=(4294901760&i[18])+x+2),x++}function Oa(i,s,o,l){const d=o[l]<0,f=o[l+1],w=i[d?-o[l]:o[l]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{f.call(w)}finally{}}}else try{f.call(w)}finally{}}class Is{constructor(s,o,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function $r(i,s,o){const l=U(i);let d=0;for(;d<o.length;){const f=o[d];if("number"==typeof f){if(0!==f)break;d++;const v=o[d++],w=o[d++],x=o[d++];l?i.setAttribute(s,w,x,v):s.setAttributeNS(v,w,x)}else{const v=f,w=o[++d];so(v)?l&&i.setProperty(s,v,w):l?i.setAttribute(s,v,w):s.setAttribute(v,w),d++}}return d}function io(i){return 3===i||4===i||6===i}function so(i){return 64===i.charCodeAt(0)}function xr(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let o=-1;for(let l=0;l<s.length;l++){const d=s[l];"number"==typeof d?o=d:0===o||ul(i,o,d,null,-1===o||2===o?s[++l]:null)}}return i}function ul(i,s,o,l,d){let f=0,v=i.length;if(-1===s)v=-1;else for(;f<i.length;){const w=i[f++];if("number"==typeof w){if(w===s){v=-1;break}if(w>s){v=f-1;break}}}for(;f<i.length;){const w=i[f];if("number"==typeof w)break;if(w===o){if(null===l)return void(null!==d&&(i[f+1]=d));if(l===i[f+1])return void(i[f+2]=d)}f++,null!==l&&f++,null!==d&&f++}-1!==v&&(i.splice(v,0,s),f=v+1),i.splice(f++,0,o),null!==l&&i.splice(f++,0,l),null!==d&&i.splice(f++,0,d)}function P(i){return-1!==i}function M(i){return 32767&i}function H(i,s){let o=function(i){return i>>16}(i),l=s;for(;o>0;)l=l[15],o--;return l}let Z=!0;function ie(i){const s=Z;return Z=i,s}let Wt=0;function zn(i,s){const o=mn(i,s);if(-1!==o)return o;const l=s[1];l.firstCreatePass&&(i.injectorIndex=s.length,wt(l.data,i),wt(s,null),wt(l.blueprint,null));const d=wi(i,s),f=i.injectorIndex;if(P(d)){const v=M(d),w=H(d,s),x=w[1].data;for(let V=0;V<8;V++)s[f+V]=w[v+V]|x[v+V]}return s[f+8]=d,f}function wt(i,s){i.push(0,0,0,0,0,0,0,0,s)}function mn(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function wi(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let o=0,l=null,d=s;for(;null!==d;){const f=d[1],v=f.type;if(l=2===v?f.declTNode:1===v?d[6]:null,null===l)return-1;if(o++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return-1}function ds(i,s,o){!function(i,s,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(wn)&&(l=o[wn]),null==l&&(l=o[wn]=Wt++);const d=255&l;s.data[i+(d>>5)]|=1<<d}(i,s,o)}function pn(i,s,o){if(o&Qt.Optional)return i;$t(s,"NodeInjector")}function fa(i,s,o,l){if(o&Qt.Optional&&void 0===l&&(l=null),0==(o&(Qt.Self|Qt.Host))){const d=i[9],f=ur(void 0);try{return d?d.get(s,l,o&Qt.Optional):qe(s,l,o&Qt.Optional)}finally{ur(f)}}return pn(l,s,o)}function kt(i,s,o,l=Qt.Default,d){if(null!==i){const f=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(wn)?i[wn]:void 0;return"number"==typeof s?s>=0?255&s:xt:s}(o);if("function"==typeof f){if(!vo(s,i,l))return l&Qt.Host?pn(d,o,l):fa(s,o,l,d);try{const v=f(l);if(null!=v||l&Qt.Optional)return v;$t(o)}finally{Fu()}}else if("number"==typeof f){let v=null,w=mn(i,s),x=-1,V=l&Qt.Host?s[16][6]:null;for((-1===w||l&Qt.SkipSelf)&&(x=-1===w?wi(i,s):s[w+8],-1!==x&&ll(l,!1)?(v=s[1],w=M(x),s=H(x,s)):w=-1);-1!==w;){const K=s[1];if(Cc(f,w,K.data)){const le=ts(w,s,o,v,l,V);if(le!==st)return le}x=s[w+8],-1!==x&&ll(l,s[1].data[w+8]===V)&&Cc(f,w,s)?(v=K,w=M(x),s=H(x,s)):w=-1}}}return fa(s,o,l,d)}const st={};function xt(){return new pa(jr(),It())}function ts(i,s,o,l,d,f){const v=s[1],w=v.data[i+8],K=Vu(w,v,o,null==l?vi(w)&&Z:l!=v&&0!=(3&w.type),d&Qt.Host&&f===w);return null!==K?fu(s,v,K,w):st}function Vu(i,s,o,l,d){const f=i.providerIndexes,v=s.data,w=1048575&f,x=i.directiveStart,K=f>>20,ge=d?w+K:i.directiveEnd;for(let Oe=l?w:w+K;Oe<ge;Oe++){const Ue=v[Oe];if(Oe<x&&o===Ue||Oe>=x&&Ue.type===o)return Oe}if(d){const Oe=v[x];if(Oe&&Vr(Oe)&&Oe.type===o)return x}return null}function fu(i,s,o,l){let d=i[o];const f=s.data;if(function(i){return i instanceof Is}(d)){const v=d;v.resolving&&function(i,s){throw new Pe("200",`Circular dependency in DI detected for ${i}`)}(_t(f[o]));const w=ie(v.canSeeViewProviders);v.resolving=!0;const x=v.injectImpl?ur(v.injectImpl):null;vo(i,l,Qt.Default);try{d=i[o]=v.factory(void 0,f,i,l),s.firstCreatePass&&o>=l.directiveStart&&function(i,s,o){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:f}=s.type.prototype;if(l){const v=bs(s);(o.preOrderHooks||(o.preOrderHooks=[])).push(i,v),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,v)}d&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-i,d),f&&((o.preOrderHooks||(o.preOrderHooks=[])).push(i,f),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,f))}(o,f[o],s)}finally{null!==x&&ur(x),ie(w),v.resolving=!1,Fu()}}return d}function Cc(i,s,o){return!!(o[s+(i>>5)]&1<<i)}function ll(i,s){return!(i&Qt.Self||i&Qt.Host&&s)}class pa{constructor(s,o){this._tNode=s,this._lView=o}get(s,o){return kt(this._tNode,this._lView,s,void 0,o)}}function Ls(i){return Ce(()=>{const s=i.prototype.constructor,o=s[Nt]||pu(s),l=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==l;){const f=d[Nt]||pu(d);if(f&&f!==o)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function pu(i){return fe(i)?()=>{const s=pu(X(i));return s&&s()}:Ji(i)}function ga(i){return function(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const o=i.attrs;if(o){const l=o.length;let d=0;for(;d<l;){const f=o[d];if(io(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<l&&"string"==typeof o[d];)d++;else{if(f===s)return o[d+1];d+=2}}}return null}(jr(),i)}const Bo="__parameters__";function Ra(i,s,o){return Ce(()=>{const l=function(i){return function(...o){if(i){const l=i(...o);for(const d in l)this[d]=l[d]}}}(s);function d(...f){if(this instanceof d)return l.apply(this,f),this;const v=new d(...f);return w.annotation=v,w;function w(x,V,K){const le=x.hasOwnProperty(Bo)?x[Bo]:Object.defineProperty(x,Bo,{value:[]})[Bo];for(;le.length<=K;)le.push(null);return(le[K]=le[K]||[]).push(v),x}}return o&&(d.prototype=Object.create(o.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class or{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=tn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Bu=new or("AnalyzeForEntryComponents"),Io=Function;function ks(i,s){void 0===s&&(s=i);for(let o=0;o<i.length;o++){let l=i[o];Array.isArray(l)?(s===i&&(s=i.slice(0,o)),ks(l,s)):s!==i&&s.push(l)}return s}function ao(i,s){i.forEach(o=>Array.isArray(o)?ao(o,s):s(o))}function qa(i,s,o){s>=i.length?i.push(o):i.splice(s,0,o)}function jo(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function N(i,s,o){let l=_(i,s);return l>=0?i[1|l]=o:(l=~l,function(i,s,o,l){let d=i.length;if(d==s)i.push(o,l);else if(1===d)i.push(l,i[0]),i[0]=o;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=o,i[s+1]=l}}(i,l,s,o)),l}function y(i,s){const o=_(i,s);if(o>=0)return i[1|o]}function _(i,s){return function(i,s,o){let l=0,d=i.length>>o;for(;d!==l;){const f=l+(d-l>>1),v=i[f<<o];if(s===v)return f<<o;v>s?d=f:l=f+1}return~(d<<o)}(i,s,1)}const gn={},Hn="__NG_DI_FLAG__",rr="ngTempTokenPath",ni=/\n/gm,Wr="__source",zs=re({provide:String,useValue:re});let Ci;function Ii(i){const s=Ci;return Ci=i,s}function Ho(i,s=Qt.Default){if(void 0===Ci)throw new Error("inject() must be called from an injection context");return null===Ci?qe(i,void 0,s):Ci.get(i,s&Qt.Optional?null:void 0,s)}function _r(i,s=Qt.Default){return(bn||Ho)(X(i),s)}function Ts(i){const s=[];for(let o=0;o<i.length;o++){const l=X(i[o]);if(Array.isArray(l)){if(0===l.length)throw new Error("Arguments array must have arguments.");let d,f=Qt.Default;for(let v=0;v<l.length;v++){const w=l[v],x=fl(w);"number"==typeof x?-1===x?d=w.token:f|=x:d=w}s.push(_r(d,f))}else s.push(_r(l))}return s}function Jo(i,s){return i[Hn]=s,i.prototype[Hn]=s,i}function fl(i){return i[Hn]}function nn(i,s,o,l){const d=i[rr];throw s[Wr]&&d.unshift(s[Wr]),i.message=function(i,s,o,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let d=q(s);if(Array.isArray(s))d=s.map(q).join(" -> ");else if("object"==typeof s){let f=[];for(let v in s)if(s.hasOwnProperty(v)){let w=s[v];f.push(v+":"+("string"==typeof w?JSON.stringify(w):q(w)))}d=`{${f.join(", ")}}`}return`${o}${l?"("+l+")":""}[${d}]: ${i.replace(ni,"\n  ")}`}("\n"+i.message,d,o,l),i.ngTokenPath=d,i[rr]=null,i}const Xn=Jo(Ra("Inject",i=>({token:i})),-1),Gr=Jo(Ra("Optional"),8),oi=Jo(Ra("SkipSelf"),4);let vu;function _l(i){var s;return(null===(s=function(){if(void 0===vu&&(vu=null,An.trustedTypes))try{vu=An.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return vu}())||void 0===s?void 0:s.createHTML(i))||i}class ya{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Eu extends ya{getTypeName(){return"HTML"}}class gh extends ya{getTypeName(){return"Style"}}class mh extends ya{getTypeName(){return"Script"}}class yh extends ya{getTypeName(){return"URL"}}class Ac extends ya{getTypeName(){return"ResourceURL"}}function Fs(i){return i instanceof ya?i.changingThisBreaksApplicationSecurity:i}function El(i,s){const o=Gi(i);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===s}function Gi(i){return i instanceof ya&&i.getTypeName()||null}function vr(i){return new Eu(i)}function _h(i){return new gh(i)}function xc(i){return new mh(i)}function fs(i){return new yh(i)}function Mc(i){return new Ac(i)}class Ui{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const o=(new window.DOMParser).parseFromString(_l(s),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(s):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class vh{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const l=this.inertDocument.createElement("body");o.appendChild(l)}}getInertBodyElement(s){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=_l(s),o;const l=this.inertDocument.createElement("body");return l.innerHTML=_l(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(s){const o=s.attributes;for(let d=o.length-1;0<d;d--){const v=o.item(d).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&s.removeAttribute(v)}let l=s.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const Xo=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,md=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Wl(i){return(i=String(i)).match(Xo)||i.match(md)?i:"unsafe:"+i}function _a(i){const s={};for(const o of i.split(","))s[o]=!0;return s}function wr(...i){const s={};for(const o of i)for(const l in o)o.hasOwnProperty(l)&&(s[l]=!0);return s}const Eh=_a("area,br,col,hr,img,wbr"),Gl=_a("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),bu=_a("rp,rt"),Ku=wr(Eh,wr(Gl,_a("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),wr(bu,_a("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),wr(bu,Gl)),Oc=_a("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),vd=_a("srcset"),wh=wr(Oc,vd,_a("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),_a("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Kf=_a("script,style,template");class Zf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let o=s.firstChild,l=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?l=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,l&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let d=this.checkClobberedElement(o,o.nextSibling);if(d){o=d;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(s){const o=s.nodeName.toLowerCase();if(!Ku.hasOwnProperty(o))return this.sanitizedSomething=!0,!Kf.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const l=s.attributes;for(let d=0;d<l.length;d++){const f=l.item(d),v=f.name,w=v.toLowerCase();if(!wh.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let x=f.value;Oc[w]&&(x=Wl(x)),vd[w]&&(i=x,x=(i=String(i)).split(",").map(s=>Wl(s.trim())).join(", ")),this.buf.push(" ",v,'="',Ch(x),'"')}var i;return this.buf.push(">"),!0}endElement(s){const o=s.nodeName.toLowerCase();Ku.hasOwnProperty(o)&&!Eh.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(s){this.buf.push(Ch(s))}checkClobberedElement(s,o){if(o&&(s.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return o}}const zl=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Kl=/([^\#-~ |!])/g;function Ch(i){return i.replace(/&/g,"&amp;").replace(zl,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Kl,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Bi;function Rc(i,s){let o=null;try{Bi=Bi||function(i){const s=new vh(i);return function(){try{return!!(new window.DOMParser).parseFromString(_l(""),"text/html")}catch(i){return!1}}()?new Ui(s):s}(i);let l=s?String(s):"";o=Bi.getInertBodyElement(l);let d=5,f=l;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,l=f,f=o.innerHTML,o=Bi.getInertBodyElement(l)}while(l!==f);return _l((new Zf).sanitizeChildren(Nc(o)||o))}finally{if(o){const l=Nc(o)||o;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function Nc(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var Fr=(()=>((Fr=Fr||{})[Fr.NONE=0]="NONE",Fr[Fr.HTML=1]="HTML",Fr[Fr.STYLE=2]="STYLE",Fr[Fr.SCRIPT=3]="SCRIPT",Fr[Fr.URL=4]="URL",Fr[Fr.RESOURCE_URL=5]="RESOURCE_URL",Fr))();function nu(i){const s=function(){const i=It();return i&&i[12]}();return s?s.sanitize(Fr.URL,i)||"":El(i,"URL")?Fs(i):Wl(me(i))}const La="__ngContext__";function As(i,s){i[La]=s}function Ed(i){const s=function(i){return i[La]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function C(i){return i.ngOriginalError}function m(i,...s){i.error(...s)}class S{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s),l=this._findContext(s),d=(i=s)&&i.ngErrorLogger||m;var i;d(this._console,"ERROR",s),o&&d(this._console,"ORIGINAL ERROR",o),l&&d(this._console,"ERROR CONTEXT",l)}_findContext(s){return s?s.ngDebugContext||this._findContext(C(s)):null}_findOriginalError(s){let o=s&&C(s);for(;o&&C(o);)o=C(o);return o||null}}const So=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(An))();function Us(i){return i instanceof Function?i():i}var ta=(()=>((ta=ta||{})[ta.Important=1]="Important",ta[ta.DashCase=2]="DashCase",ta))();function Iu(i,s){return undefined(i,s)}function Bc(i){const s=i[3];return _i(s)?s[3]:s}function Il(i){return ec(i[13])}function Dl(i){return ec(i[4])}function ec(i){for(;null!==i&&!_i(i);)i=i[4];return i}function tc(i,s,o,l,d){if(null!=l){let f,v=!1;_i(l)?f=l:Pi(l)&&(v=!0,l=l[0]);const w=Ie(l);0===i&&null!==o?null==d?rc(s,o,w):nc(s,o,w,d||null,!0):1===i&&null!==o?nc(s,o,w,d||null,!0):2===i?function(i,s,o){const l=Du(i,s);l&&function(i,s,o,l){U(i)?i.removeChild(s,o,l):s.removeChild(o)}(i,l,s,o)}(s,w,v):3===i&&s.destroyNode(w),null!=f&&function(i,s,o,l,d){const f=o[7];f!==Ie(o)&&tc(s,i,l,f,d);for(let w=10;w<o.length;w++){const x=o[w];ka(x[1],x,i,s,l,f)}}(s,i,f,o,d)}}function Oh(i,s,o){return U(i)?i.createElement(s,o):null===o?i.createElement(s):i.createElementNS(o,s)}function Xf(i,s){const o=i[9],l=o.indexOf(s),d=s[3];1024&s[2]&&(s[2]&=-1025,bi(d,-1)),o.splice(l,1)}function jc(i,s){if(i.length<=10)return;const o=10+s,l=i[o];if(l){const d=l[17];null!==d&&d!==i&&Xf(d,l),s>0&&(i[o-1][4]=l[4]);const f=jo(i,10+s);!function(i,s){ka(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const v=f[19];null!==v&&v.detachView(f[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function Rh(i,s){if(!(256&s[2])){const o=s[11];U(o)&&o.destroyNode&&ka(i,s,o,3,null,null),function(i){let s=i[13];if(!s)return Nh(i[1],i);for(;s;){let o=null;if(Pi(s))o=s[13];else{const l=s[10];l&&(o=l)}if(!o){for(;s&&!s[4]&&s!==i;)Pi(s)&&Nh(s[1],s),s=s[3];null===s&&(s=i),Pi(s)&&Nh(s[1],s),o=s&&s[4]}s=o}}(s)}}function Nh(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(i,s){let o;if(null!=i&&null!=(o=i.destroyHooks))for(let l=0;l<o.length;l+=2){const d=s[o[l]];if(!(d instanceof Is)){const f=o[l+1];if(Array.isArray(f))for(let v=0;v<f.length;v+=2){const w=d[f[v]],x=f[v+1];try{x.call(w)}finally{}}else try{f.call(d)}finally{}}}}(i,s),function(i,s){const o=i.cleanup,l=s[7];let d=-1;if(null!==o)for(let f=0;f<o.length-1;f+=2)if("string"==typeof o[f]){const v=o[f+1],w="function"==typeof v?v(s):Ie(s[v]),x=l[d=o[f+2]],V=o[f+3];"boolean"==typeof V?w.removeEventListener(o[f],x,V):V>=0?l[d=V]():l[d=-V].unsubscribe(),f+=2}else{const v=l[d=o[f+1]];o[f].call(v)}if(null!==l){for(let f=d+1;f<l.length;f++)l[f]();s[7]=null}}(i,s),1===s[1].type&&U(s[11])&&s[11].destroy();const o=s[17];if(null!==o&&_i(s[3])){o!==s[3]&&Xf(o,s);const l=s[19];null!==l&&l.detachView(i)}}}function ep(i,s,o){return function(i,s,o){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return o[0];if(2&l.flags){const d=i.data[l.directiveStart].encapsulation;if(d===mt.None||d===mt.Emulated)return null}return vn(l,o)}(i,s.parent,o)}function nc(i,s,o,l,d){U(i)?i.insertBefore(s,o,l,d):s.insertBefore(o,l,d)}function rc(i,s,o){U(i)?i.appendChild(s,o):s.appendChild(o)}function tp(i,s,o,l,d){null!==l?nc(i,s,o,l,d):rc(i,s,o)}function Du(i,s){return U(i)?i.parentNode(s):s.parentNode}let hm=function(i,s,o){return 40&i.type?vn(i,o):null};function ic(i,s,o,l){const d=ep(i,l,s),f=s[11],w=function(i,s,o){return hm(i,s,o)}(l.parent||s[6],l,s);if(null!=d)if(Array.isArray(o))for(let x=0;x<o.length;x++)tp(f,d,o[x],w,!1);else tp(f,d,o,w,!1)}function Yu(i,s){if(null!==s){const o=s.type;if(3&o)return vn(s,i);if(4&o)return op(-1,i[s.index]);if(8&o){const l=s.child;if(null!==l)return Yu(i,l);{const d=i[s.index];return _i(d)?op(-1,d):Ie(d)}}if(32&o)return Iu(s,i)()||Ie(i[s.index]);{const l=sp(i,s);return null!==l?Array.isArray(l)?l[0]:Yu(Bc(i[16]),l):Yu(i,s.next)}}return null}function sp(i,s){return null!==s?i[16][6].projection[s.projection]:null}function op(i,s){const o=10+i+1;if(o<s.length){const l=s[o],d=l[1].firstChild;if(null!==d)return Yu(l,d)}return s[7]}function Ph(i,s,o,l,d,f,v){for(;null!=o;){const w=l[o.index],x=o.type;if(v&&0===s&&(w&&As(Ie(w),l),o.flags|=4),64!=(64&o.flags))if(8&x)Ph(i,s,o.child,l,d,f,!1),tc(s,i,d,w,f);else if(32&x){const V=Iu(o,l);let K;for(;K=V();)tc(s,i,d,K,f);tc(s,i,d,w,f)}else 16&x?gm(i,s,l,o,d,f):tc(s,i,d,w,f);o=v?o.projectionNext:o.next}}function ka(i,s,o,l,d,f){Ph(o,l,i.firstChild,s,d,f,!1)}function gm(i,s,o,l,d,f){const v=o[16],x=v[6].projection[l.projection];if(Array.isArray(x))for(let V=0;V<x.length;V++)tc(s,i,d,x[V],f);else Ph(i,s,x,v[3],d,f,!0)}function kh(i,s,o){U(i)?i.setAttribute(s,"style",o):s.style.cssText=o}function sc(i,s,o){U(i)?""===o?i.removeAttribute(s,"class"):i.setAttribute(s,"class",o):s.className=o}function Md(i,s,o){let l=i.length;for(;;){const d=i.indexOf(s,o);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const f=s.length;if(d+f===l||i.charCodeAt(d+f)<=32)return d}o=d+1}}const _m="ng-template";function vm(i,s,o){let l=0;for(;l<i.length;){let d=i[l++];if(o&&"class"===d){if(d=i[l],-1!==Md(d.toLowerCase(),s,0))return!0}else if(1===d){for(;l<i.length&&"string"==typeof(d=i[l++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function Fh(i){return 4===i.type&&i.value!==_m}function Em(i,s,o){return s===(4!==i.type||o?i.value:_m)}function v_(i,s,o){let l=4;const d=i.attrs||[],f=function(i){for(let s=0;s<i.length;s++)if(io(i[s]))return s;return i.length}(d);let v=!1;for(let w=0;w<s.length;w++){const x=s[w];if("number"!=typeof x){if(!v)if(4&l){if(l=2|1&l,""!==x&&!Em(i,x,o)||""===x&&1===s.length){if(Fa(l))return!1;v=!0}}else{const V=8&l?x:s[++w];if(8&l&&null!==i.attrs){if(!vm(i.attrs,V,o)){if(Fa(l))return!1;v=!0}continue}const le=bm(8&l?"class":x,d,Fh(i),o);if(-1===le){if(Fa(l))return!1;v=!0;continue}if(""!==V){let ge;ge=le>f?"":d[le+1].toLowerCase();const Oe=8&l?ge:null;if(Oe&&-1!==Md(Oe,V,0)||2&l&&V!==ge){if(Fa(l))return!1;v=!0}}}}else{if(!v&&!Fa(l)&&!Fa(x))return!1;if(v&&Fa(x))continue;v=!1,l=x|1&l}}return Fa(l)||v}function Fa(i){return 0==(1&i)}function bm(i,s,o,l){if(null===s)return-1;let d=0;if(l||!o){let f=!1;for(;d<s.length;){const v=s[d];if(v===i)return d;if(3===v||6===v)f=!0;else{if(1===v||2===v){let w=s[++d];for(;"string"==typeof w;)w=s[++d];continue}if(4===v)break;if(0===v){d+=4;continue}}d+=f?1:2}return-1}return function(i,s){let o=i.indexOf(4);if(o>-1)for(o++;o<i.length;){const l=i[o];if("number"==typeof l)return-1;if(l===s)return o;o++}return-1}(s,i)}function Vh(i,s,o=!1){for(let l=0;l<s.length;l++)if(v_(i,s[l],o))return!0;return!1}function Im(i,s){return i?":not("+s.trim()+")":s}function $c(i){let s=i[0],o=1,l=2,d="",f=!1;for(;o<i.length;){let v=i[o];if("string"==typeof v)if(2&l){const w=i[++o];d+="["+v+(w.length>0?'="'+w+'"':"")+"]"}else 8&l?d+="."+v:4&l&&(d+=" "+v);else""!==d&&!Fa(v)&&(s+=Im(f,d),d=""),l=v,f=f||!Fa(l);o++}return""!==d&&(s+=Im(f,d)),s}const Zn={};function lp(i){cp(Jn(),It(),ei()+i,ws())}function cp(i,s,o,l){if(!l)if(3==(3&s[2])){const f=i.preOrderCheckHooks;null!==f&&ha(s,f,o)}else{const f=i.preOrderHooks;null!==f&&Cs(s,f,0,o)}Ps(o)}function Uh(i,s){return i<<17|s<<2}function Ea(i){return i>>17&32767}function hp(i){return 2|i}function iu(i){return(131068&i)>>2}function fp(i,s){return-131069&i|s<<2}function xs(i){return 1|i}function Ju(i,s){const o=i.contentQueries;if(null!==o)for(let l=0;l<o.length;l+=2){const d=o[l],f=o[l+1];if(-1!==f){const v=i.data[f];_o(d),v.contentQueries(2,s[f],f)}}}function ac(i,s,o,l,d,f,v,w,x,V){const K=s.blueprint.slice();return K[0]=d,K[2]=140|l,no(K),K[3]=K[15]=i,K[8]=o,K[10]=v||i&&i[10],K[11]=w||i&&i[11],K[12]=x||i&&i[12]||null,K[9]=V||i&&i[9]||null,K[6]=f,K[16]=2==s.type?i[16]:K,K}function zc(i,s,o,l,d){let f=i.data[s];if(null===f)f=function(i,s,o,l,d){const f=Ko(),v=Zo(),x=i.data[s]=function(i,s,o,l,d,f){return{type:o,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?f:f&&f.parent,o,s,l,d);return null===i.firstChild&&(i.firstChild=x),null!==f&&(v?null==f.child&&null!==x.parent&&(f.child=x):null===f.next&&(f.next=x)),x}(i,s,o,l,d),dn.lFrame.inI18n&&(f.flags|=64);else if(64&f.type){f.type=o,f.value=l,f.attrs=d;const v=function(){const i=dn.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();f.injectorIndex=null===v?-1:v.injectorIndex}return ls(f,!0),f}function Kc(i,s,o,l){if(0===o)return-1;const d=s.length;for(let f=0;f<o;f++)s.push(l),i.blueprint.push(l),i.data.push(null);return d}function uc(i,s,o){Ws(s);try{const l=i.viewQuery;null!==l&&jd(1,l,o);const d=i.template;null!==d&&Cp(i,s,d,1,o),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Ju(i,s),i.staticViewQueries&&jd(2,i.viewQuery,o);const f=i.components;null!==f&&function(i,s){for(let o=0;o<s.length;o++)Op(i,s[o])}(s,f)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[2]&=-5,Gs()}}function Xu(i,s,o,l){const d=s[2];if(256==(256&d))return;Ws(s);const f=ws();try{no(s),function(i){dn.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==o&&Cp(i,s,o,2,l);const v=3==(3&d);if(!f)if(v){const V=i.preOrderCheckHooks;null!==V&&ha(s,V,null)}else{const V=i.preOrderHooks;null!==V&&Cs(s,V,0,null),Co(s,0)}if(function(i){for(let s=Il(i);null!==s;s=Dl(s)){if(!s[2])continue;const o=s[9];for(let l=0;l<o.length;l++){const d=o[l],f=d[3];0==(1024&d[2])&&bi(f,1),d[2]|=1024}}}(s),function(i){for(let s=Il(i);null!==s;s=Dl(s))for(let o=10;o<s.length;o++){const l=s[o],d=l[1];qr(l)&&Xu(d,l,d.template,l[8])}}(s),null!==i.contentQueries&&Ju(i,s),!f)if(v){const V=i.contentCheckHooks;null!==V&&ha(s,V)}else{const V=i.contentHooks;null!==V&&Cs(s,V,1),Co(s,1)}!function(i,s){const o=i.hostBindingOpCodes;if(null!==o)try{for(let l=0;l<o.length;l++){const d=o[l];if(d<0)Ps(~d);else{const f=d,v=o[++l],w=o[++l];qo(v,f),w(2,s[f])}}}finally{Ps(-1)}}(i,s);const w=i.components;null!==w&&function(i,s){for(let o=0;o<s.length;o++)k_(i,s[o])}(s,w);const x=i.viewQuery;if(null!==x&&jd(2,x,l),!f)if(v){const V=i.viewCheckHooks;null!==V&&ha(s,V)}else{const V=i.viewHooks;null!==V&&Cs(s,V,2),Co(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),f||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,bi(s[3],-1))}finally{Gs()}}function wp(i,s,o,l){const d=s[10],f=!ws(),v=nr(s);try{f&&!v&&d.begin&&d.begin(),v&&uc(i,s,l),Xu(i,s,o,l)}finally{f&&!v&&d.end&&d.end()}}function Cp(i,s,o,l,d){const f=ei(),v=2&l;try{Ps(-1),v&&s.length>20&&cp(i,s,20,ws()),o(l,d)}finally{Ps(f)}}function Ld(i,s,o){!Ia()||(function(i,s,o,l){const d=o.directiveStart,f=o.directiveEnd;i.firstCreatePass||zn(o,s),As(l,s);const v=o.initialInputs;for(let w=d;w<f;w++){const x=i.data[w],V=Vr(x);V&&jm(s,o,x);const K=fu(s,i,w,o);As(K,s),null!==v&&Hm(0,w-d,K,x,0,v),V&&(fr(o.index,s)[8]=K)}}(i,s,o,vn(o,s)),128==(128&o.flags)&&function(i,s,o){const l=o.directiveStart,d=o.directiveEnd,v=o.index,w=dn.lFrame.currentDirectiveIndex;try{Ps(v);for(let x=l;x<d;x++){const V=i.data[x],K=s[x];ua(x),(null!==V.hostBindings||0!==V.hostVars||null!==V.hostAttrs)&&Qh(V,K)}}finally{Ps(-1),ua(w)}}(i,s,o))}function Ip(i,s,o=vn){const l=s.localNames;if(null!==l){let d=s.index+1;for(let f=0;f<l.length;f+=2){const v=l[f+1],w=-1===v?o(s,i):i[v];i[d++]=w}}}function Om(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=kd(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function kd(i,s,o,l,d,f,v,w,x,V){const K=20+l,le=K+d,ge=function(i,s){const o=[];for(let l=0;l<s;l++)o.push(l<i?null:Zn);return o}(K,le),Oe="function"==typeof V?V():V;return ge[1]={type:i,blueprint:ge,template:o,queries:null,viewQuery:w,declTNode:s,data:ge.slice().fill(null,K),bindingStartIndex:K,expandoStartIndex:le,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:x,consts:Oe,incompleteFirstPass:!1}}function qh(i,s,o,l){const d=zm(s);null===o?d.push(l):(d.push(o),i.firstCreatePass&&rf(i).push(l,d.length-1))}function Yh(i,s,o){for(let l in i)if(i.hasOwnProperty(l)){const d=i[l];(o=null===o?{}:o).hasOwnProperty(l)?o[l].push(s,d):o[l]=[s,d]}return o}function Wo(i,s,o,l,d,f,v,w){const x=vn(s,o);let K,V=s.inputs;!w&&null!=V&&(K=V[l])?(of(i,o,K,l,d),vi(s)&&function(i,s){const o=fr(s,i);16&o[2]||(o[2]|=64)}(o,s.index)):3&s.type&&(l=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),d=null!=v?v(d,s.value||"",l):d,U(f)?f.setProperty(x,l,d):so(l)||(x.setProperty?x.setProperty(l,d):x[l]=d))}function Ol(i,s,o,l){let d=!1;if(Ia()){const f=function(i,s,o){const l=i.directiveRegistry;let d=null;if(l)for(let f=0;f<l.length;f++){const v=l[f];Vh(o,v.selectors,!1)&&(d||(d=[]),ds(zn(o,s),i,v.type),Vr(v)?(Um(i,o),d.unshift(v)):d.push(v))}return d}(i,s,o),v=null===l?null:{"":-1};if(null!==f){d=!0,Jh(o,i.data.length,f.length);for(let K=0;K<f.length;K++){const le=f[K];le.providersResolver&&le.providersResolver(le)}let w=!1,x=!1,V=Kc(i,s,f.length,null);for(let K=0;K<f.length;K++){const le=f[K];o.mergedAttrs=xr(o.mergedAttrs,le.hostAttrs),Bm(i,o,s,V,le),Mp(V,le,v),null!==le.contentQueries&&(o.flags|=8),(null!==le.hostBindings||null!==le.hostAttrs||0!==le.hostVars)&&(o.flags|=128);const ge=le.type.prototype;!w&&(ge.ngOnChanges||ge.ngOnInit||ge.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(o.index),w=!0),!x&&(ge.ngOnChanges||ge.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(o.index),x=!0),V++}!function(i,s){const l=s.directiveEnd,d=i.data,f=s.attrs,v=[];let w=null,x=null;for(let V=s.directiveStart;V<l;V++){const K=d[V],le=K.inputs,ge=null===f||Fh(s)?null:$m(le,f);v.push(ge),w=Yh(le,V,w),x=Yh(K.outputs,V,x)}null!==w&&(w.hasOwnProperty("class")&&(s.flags|=16),w.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=v,s.inputs=w,s.outputs=x}(i,o)}v&&function(i,s,o){if(s){const l=i.localNames=[];for(let d=0;d<s.length;d+=2){const f=o[s[d+1]];if(null==f)throw new Pe("301",`Export of name '${s[d+1]}' not found!`);l.push(s[d],f)}}}(o,l,v)}return o.mergedAttrs=xr(o.mergedAttrs,o.attrs),d}function Vm(i,s,o,l,d,f){const v=f.hostBindings;if(v){let w=i.hostBindingOpCodes;null===w&&(w=i.hostBindingOpCodes=[]);const x=~s.index;(function(i){let s=i.length;for(;s>0;){const o=i[--s];if("number"==typeof o&&o<0)return o}return 0})(w)!=x&&w.push(x),w.push(l,d,v)}}function Qh(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function Um(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function Mp(i,s,o){if(o){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)o[s.exportAs[l]]=i;Vr(s)&&(o[""]=i)}}function Jh(i,s,o){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+o,i.providerIndexes=s}function Bm(i,s,o,l,d){i.data[l]=d;const f=d.factory||(d.factory=Ji(d.type)),v=new Is(f,Vr(d),null);i.blueprint[l]=v,o[l]=v,Vm(i,s,0,l,Kc(i,o,d.hostVars,Zn),d)}function jm(i,s,o){const l=vn(s,i),d=Om(o),f=i[10],v=ef(i,ac(i,d,null,o.onPush?64:16,l,s,f,f.createRenderer(l,o),null,null));i[s.index]=v}function Tu(i,s,o,l,d,f){const v=vn(i,s);!function(i,s,o,l,d,f,v){if(null==f)U(i)?i.removeAttribute(s,d,o):s.removeAttribute(d);else{const w=null==v?me(f):v(f,l||"",d);U(i)?i.setAttribute(s,d,w,o):o?s.setAttributeNS(o,d,w):s.setAttribute(d,w)}}(s[11],v,f,i.value,o,l,d)}function Hm(i,s,o,l,d,f){const v=f[s];if(null!==v){const w=l.setInput;for(let x=0;x<v.length;){const V=v[x++],K=v[x++],le=v[x++];null!==w?l.setInput(o,le,V,K):o[K]=le}}}function $m(i,s){let o=null,l=0;for(;l<s.length;){const d=s[l];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===o&&(o=[]),o.push(d,i[d],s[l+1])),l+=2}else l+=2;else l+=4}return o}function Wm(i,s,o,l){return new Array(i,!0,!1,s,null,0,l,o,null,null)}function k_(i,s){const o=fr(s,i);if(qr(o)){const l=o[1];80&o[2]?Xu(l,o,l.template,o[8]):o[5]>0&&Vd(o)}}function Vd(i){for(let l=Il(i);null!==l;l=Dl(l))for(let d=10;d<l.length;d++){const f=l[d];if(1024&f[2]){const v=f[1];Xu(v,f,v.template,f[8])}else f[5]>0&&Vd(f)}const o=i[1].components;if(null!==o)for(let l=0;l<o.length;l++){const d=fr(o[l],i);qr(d)&&d[5]>0&&Vd(d)}}function Op(i,s){const o=fr(s,i),l=o[1];(function(i,s){for(let o=s.length;o<i.blueprint.length;o++)s.push(i.blueprint[o])})(l,o),uc(l,o,o[8])}function ef(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function Ud(i){for(;i;){i[2]|=64;const s=Bc(i);if(Fn(i)&&!s)return i;i=s}return null}function tf(i,s,o){const l=s[10];l.begin&&l.begin();try{Xu(i,s,i.template,o)}catch(d){throw sf(s,d),d}finally{l.end&&l.end()}}function nf(i){!function(i){for(let s=0;s<i.components.length;s++){const o=i.components[s],l=Ed(o),d=l[1];wp(d,l,d.template,o)}}(i[8])}function jd(i,s,o){_o(0),s(i,o)}const Np=(()=>Promise.resolve(null))();function zm(i){return i[7]||(i[7]=[])}function rf(i){return i.cleanup||(i.cleanup=[])}function sf(i,s){const o=i[9],l=o?o.get(S,null):null;l&&l.handleError(s)}function of(i,s,o,l,d){for(let f=0;f<o.length;){const v=o[f++],w=o[f++],x=s[v],V=i.data[v];null!==V.setInput?V.setInput(x,d,l,w):x[w]=d}}function ou(i,s,o){const l=zt(s,i);!function(i,s,o){U(i)?i.setValue(s,o):s.textContent=o}(i[11],l,o)}function el(i,s,o){let l=o?i.styles:null,d=o?i.classes:null,f=0;if(null!==s)for(let v=0;v<s.length;v++){const w=s[v];"number"==typeof w?f=w:1==f?d=J(d,w):2==f&&(l=J(l,w+": "+s[++v]+";"))}o?i.styles=l:i.stylesWithoutHost=l,o?i.classes=d:i.classesWithoutHost=d}const Rl=new or("INJECTOR",-1);class Su{get(s,o=gn){if(o===gn){const l=new Error(`NullInjectorError: No provider for ${q(s)}!`);throw l.name="NullInjectorError",l}return o}}const hc=new or("Set Injector scope."),Hd={},Lp={};let kp;function qm(){return void 0===kp&&(kp=new Su),kp}function Ym(i,s=null,o=null,l){return new Vp(i,o,s||qm(),l)}class Vp{constructor(s,o,l,d=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];o&&ao(o,w=>this.processProvider(w,s,o)),ao([s],w=>this.processInjectorType(w,[],f)),this.records.set(Rl,fc(void 0,this));const v=this.records.get(hc);this.scope=null!=v?v.value:null,this.source=d||("object"==typeof s?null:q(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,o=gn,l=Qt.Default){this.assertNotDestroyed();const d=Ii(this),f=ur(void 0);try{if(!(l&Qt.SkipSelf)){let w=this.records.get(s);if(void 0===w){const x=("function"==typeof(i=s)||"object"==typeof i&&i instanceof or)&&qn(s);w=x&&this.injectableDefInScope(x)?fc(Up(s),Hd):null,this.records.set(s,w)}if(null!=w)return this.hydrate(s,w)}return(l&Qt.Self?qm():this.parent).get(s,o=l&Qt.Optional&&o===gn?null:o)}catch(v){if("NullInjectorError"===v.name){if((v[rr]=v[rr]||[]).unshift(q(s)),d)throw v;return nn(v,s,"R3InjectorError",this.source)}throw v}finally{ur(f),Ii(d)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((l,d)=>s.push(q(d))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,o,l){if(!(s=X(s)))return!1;let d=Er(s);const f=null==d&&s.ngModule||void 0,v=void 0===f?s:f,w=-1!==l.indexOf(v);if(void 0!==f&&(d=Er(f)),null==d)return!1;if(null!=d.imports&&!w){let K;l.push(v);try{ao(d.imports,le=>{this.processInjectorType(le,o,l)&&(void 0===K&&(K=[]),K.push(le))})}finally{}if(void 0!==K)for(let le=0;le<K.length;le++){const{ngModule:ge,providers:Oe}=K[le];ao(Oe,Ue=>this.processProvider(Ue,ge,Oe||ve))}}this.injectorDefTypes.add(v);const x=Ji(v)||(()=>new v);this.records.set(v,fc(x,Hd));const V=d.providers;if(null!=V&&!w){const K=s;ao(V,le=>this.processProvider(le,K,V))}return void 0!==f&&void 0!==s.providers}processProvider(s,o,l){let d=qc(s=X(s))?s:X(s&&s.provide);const f=uf(i=s)?fc(void 0,i.useValue):fc(af(i),Hd);var i;if(qc(s)||!0!==s.multi)this.records.get(d);else{let v=this.records.get(d);v||(v=fc(void 0,Hd,!0),v.factory=()=>Ts(v.multi),this.records.set(d,v)),d=s,v.multi.push(s)}this.records.set(d,f)}hydrate(s,o){return o.value===Hd&&(o.value=Lp,o.value=o.factory()),"object"==typeof o.value&&o.value&&null!==(i=o.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(o.value),o.value;var i}injectableDefInScope(s){if(!s.providedIn)return!1;const o=X(s.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function Up(i){const s=qn(i),o=null!==s?s.factory:Ji(i);if(null!==o)return o;if(i instanceof or)throw new Error(`Token ${q(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const s=i.length;if(s>0){const l=function(i,s){const o=[];for(let l=0;l<i;l++)o.push(s);return o}(s,"?");throw new Error(`Can't resolve all parameters for ${q(i)}: (${l.join(", ")}).`)}const o=function(i){const s=i&&(i[Sr]||i[Ki]);if(s){const o=function(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),s}return null}(i);return null!==o?()=>o.factory(i):()=>new i}(i);throw new Error("unreachable")}function af(i,s,o){let l;if(qc(i)){const d=X(i);return Ji(d)||Up(d)}if(uf(i))l=()=>X(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...Ts(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))l=()=>_r(X(i.useExisting));else{const d=X(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return Ji(d)||Up(d);l=()=>new d(...Ts(i.deps))}return l}function fc(i,s,o=!1){return{factory:i,value:s,multi:o?[]:void 0}}function uf(i){return null!==i&&"object"==typeof i&&zs in i}function qc(i){return"function"==typeof i}const Wp=function(i,s,o){return function(i,s=null,o=null,l){const d=Ym(i,s,o,l);return d._resolveInjectorDefTypes(),d}({name:o},s,i,o)};class Yr{static create(s,o){return Array.isArray(s)?Wp(s,o,""):Wp(s.providers,s.parent,s.name||"")}}function Wd(i,s){wo(Ed(i)[1],jr())}function qs(i){let s=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),o=!0;const l=[i];for(;s;){let d;if(Vr(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");d=s.\u0275dir}if(d){if(o){l.push(d);const v=i;v.inputs=ff(i.inputs),v.declaredInputs=ff(i.declaredInputs),v.outputs=ff(i.outputs);const w=d.hostBindings;w&&iy(i,w);const x=d.viewQuery,V=d.contentQueries;if(x&&J_(i,x),V&&pf(i,V),de(i.inputs,d.inputs),de(i.declaredInputs,d.declaredInputs),de(i.outputs,d.outputs),Vr(d)&&d.data.animation){const K=i.data;K.animation=(K.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let v=0;v<f.length;v++){const w=f[v];w&&w.ngInherit&&w(i),w===qs&&(o=!1)}}s=Object.getPrototypeOf(s)}!function(i){let s=0,o=null;for(let l=i.length-1;l>=0;l--){const d=i[l];d.hostVars=s+=d.hostVars,d.hostAttrs=xr(d.hostAttrs,o=xr(o,d.hostAttrs))}}(l)}function ff(i){return i===en?{}:i===ve?[]:i}function J_(i,s){const o=i.viewQuery;i.viewQuery=o?(l,d)=>{s(l,d),o(l,d)}:s}function pf(i,s){const o=i.contentQueries;i.contentQueries=o?(l,d,f)=>{s(l,d,f),o(l,d,f)}:s}function iy(i,s){const o=i.hostBindings;i.hostBindings=o?(l,d)=>{s(l,d),o(l,d)}:s}Yr.THROW_IF_NOT_FOUND=gn,Yr.NULL=new Su,Yr.\u0275prov=tn({token:Yr,providedIn:"any",factory:()=>_r(Rl)}),Yr.__NG_ELEMENT_ID__=-1;let gf=null;function Jc(){if(!gf){const i=An.Symbol;if(i&&i.iterator)gf=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<s.length;++o){const l=s[o];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(gf=l)}}}return gf}function mf(i){return!!og(i)&&(Array.isArray(i)||!(i instanceof Map)&&Jc()in i)}function og(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Ao(i,s,o){return!Object.is(i[s],o)&&(i[s]=o,!0)}function ay(i,s,o,l){const d=It();return Ao(d,$i(),s)&&(Jn(),Tu(Br(),d,i,s,o,l)),ay}function td(i,s,o,l){return Ao(i,$i(),o)?s+me(o)+l:Zn}function mc(i,s,o,l,d,f){const w=function(i,s,o,l){const d=Ao(i,s,o);return Ao(i,s+1,l)||d}(i,dn.lFrame.bindingIndex,o,d);return Wi(2),w?s+me(o)+l+me(d)+f:Zn}function cy(i,s,o,l,d,f,v,w){const x=It(),V=Jn(),K=i+20,le=V.firstCreatePass?function(i,s,o,l,d,f,v,w,x){const V=s.consts,K=zc(s,i,4,v||null,kr(V,w));Ol(s,o,K,kr(V,x)),wo(s,K);const le=K.tViews=kd(2,K,l,d,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,V);return null!==s.queries&&(s.queries.template(s,K),le.queries=s.queries.embeddedTView(K)),K}(K,V,x,s,o,l,d,f,v):V.data[K];ls(le,!1);const ge=x[11].createComment("");ic(V,x,ge,le),As(ge,x),ef(x,x[K]=Wm(ge,x,ge,le)),Li(le)&&Ld(V,x,le),null!=v&&Ip(x,le,w)}function Qd(i,s=Qt.Default){const o=It();return null===o?_r(i,s):kt(jr(),o,X(i),s)}function If(i,s,o){const l=It();return Ao(l,$i(),s)&&Wo(Jn(),Br(),l,i,s,l[11],o,!1),If}function Df(i,s,o,l,d){const v=d?"class":"style";of(i,o,s.inputs[v],v,l)}function wg(i,s,o,l){const d=It(),f=Jn(),v=20+i,w=d[11],x=d[v]=Oh(w,s,dn.lFrame.currentNamespace),V=f.firstCreatePass?function(i,s,o,l,d,f,v){const w=s.consts,V=zc(s,i,2,d,kr(w,f));return Ol(s,o,V,kr(w,v)),null!==V.attrs&&el(V,V.attrs,!1),null!==V.mergedAttrs&&el(V,V.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,V),V}(v,f,d,0,s,o,l):f.data[v];ls(V,!0);const K=V.mergedAttrs;null!==K&&$r(w,x,K);const le=V.classes;null!==le&&sc(w,x,le);const ge=V.styles;null!==ge&&kh(w,x,ge),64!=(64&V.flags)&&ic(f,d,x,V),0===dn.lFrame.elementDepthCount&&As(x,d),dn.lFrame.elementDepthCount++,Li(V)&&(Ld(f,d,V),function(i,s,o){if(xi(s)){const d=s.directiveEnd;for(let f=s.directiveStart;f<d;f++){const v=i.data[f];v.contentQueries&&v.contentQueries(1,o[f],f)}}}(f,V,d)),null!==l&&Ip(d,V)}function Tf(){let i=jr();Zo()?dn.lFrame.isParent=!1:(i=i.parent,ls(i,!1));const s=i;dn.lFrame.elementDepthCount--;const o=Jn();o.firstCreatePass&&(wo(o,i),xi(i)&&o.queries.elementEnd(i)),null!=s.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(s)&&Df(o,s,It(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(s)&&Df(o,s,It(),s.stylesWithoutHost,!1)}function wy(i,s,o,l){wg(i,s,o,l),Tf()}function Dy(){return It()}function Ig(i){return!!i&&"function"==typeof i.then}function Ty(i){return!!i&&"function"==typeof i.subscribe}const Dg=Ty;function Sy(i,s,o,l){const d=It(),f=Jn(),v=jr();return function(i,s,o,l,d,f,v,w){const x=Li(l),K=i.firstCreatePass&&rf(i),le=s[8],ge=zm(s);let Oe=!0;if(3&l.type||w){const Ke=vn(l,s),Pt=w?w(Ke):Ke,Et=ge.length,Dn=w?Qn=>w(Ie(Qn[l.index])):l.index;if(U(o)){let Qn=null;if(!w&&x&&(Qn=function(i,s,o,l){const d=i.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const v=d[f];if(v===o&&d[f+1]===l){const w=s[7],x=d[f+2];return w.length>x?w[x]:null}"string"==typeof v&&(f+=2)}return null}(i,s,d,l.index)),null!==Qn)(Qn.__ngLastListenerFn__||Qn).__ngNextListenerFn__=f,Qn.__ngLastListenerFn__=f,Oe=!1;else{f=Af(l,s,le,f,!1);const Mr=o.listen(Pt,d,f);ge.push(f,Mr),K&&K.push(d,Dn,Et,Et+1)}}else f=Af(l,s,le,f,!0),Pt.addEventListener(d,f,v),ge.push(f),K&&K.push(d,Dn,Et,v)}else f=Af(l,s,le,f,!1);const Ue=l.outputs;let ut;if(Oe&&null!==Ue&&(ut=Ue[d])){const Ke=ut.length;if(Ke)for(let Pt=0;Pt<Ke;Pt+=2){const co=s[ut[Pt]][ut[Pt+1]].subscribe(f),ku=ge.length;ge.push(f,co),K&&K.push(d,l.index,ku,-(ku+1))}}}(f,d,d[11],v,i,s,!!o,l),Sy}function Sf(i,s,o,l){try{return!1!==o(l)}catch(d){return sf(i,d),!1}}function Af(i,s,o,l,d){return function f(v){if(v===Function)return l;const w=2&i.flags?fr(i.index,s):s;0==(32&s[2])&&Ud(w);let x=Sf(s,0,l,v),V=f.__ngNextListenerFn__;for(;V;)x=Sf(s,0,V,v)&&x,V=V.__ngNextListenerFn__;return d&&!1===x&&(v.preventDefault(),v.returnValue=!1),x}}function Tg(i=1){return function(i){return(dn.lFrame.contextLView=function(i,s){for(;i>0;)s=s[15],i--;return s}(i,dn.lFrame.contextLView))[8]}(i)}function Ag(i,s,o){return eh(i,"",s,"",o),Ag}function eh(i,s,o,l,d){const f=It(),v=td(f,s,o,l);return v!==Zn&&Wo(Jn(),Br(),f,i,v,f[11],d,!1),eh}function Mo(i,s,o,l,d){const f=i[o+1],v=null===s;let w=l?Ea(f):iu(f),x=!1;for(;0!==w&&(!1===x||v);){const K=i[w+1];mv(i[w],s)&&(x=!0,i[w+1]=l?xs(K):hp(K)),w=l?Ea(K):iu(K)}x&&(i[o+1]=l?hp(f):xs(f))}function mv(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&_(i,s)>=0}const gs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ec(i){return i.substring(gs.key,gs.keyEnd)}function Vl(i,s){const o=gs.textEnd;return o===s?-1:(s=gs.keyEnd=function(i,s,o){for(;s<o&&i.charCodeAt(s)>32;)s++;return s}(i,gs.key=s,o),ja(i,s,o))}function ja(i,s,o){for(;s<o&&i.charCodeAt(s)<=32;)s++;return s}function sh(i,s){return function(i,s,o,l){const d=It(),f=Jn(),v=Wi(2);f.firstUpdatePass&&Vy(f,i,v,l),s!==Zn&&Ao(d,v,s)&&E(f,f.data[ei()],d,d[11],i,d[v+1]=function(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=q(Fs(i)))),i}(s,o),l,v)}(i,s,null,!0),sh}function au(i,s){for(let o=function(i){return function(i){gs.key=0,gs.keyEnd=0,gs.value=0,gs.valueEnd=0,gs.textEnd=i.length}(i),Vl(i,ja(i,0,gs.textEnd))}(s);o>=0;o=Vl(s,o))N(i,Ec(s),!0)}function Pg(i,s){return s>=i.expandoStartIndex}function Vy(i,s,o,l){const d=i.data;if(null===d[o+1]){const f=d[ei()],v=Pg(i,o);_e(f,l)&&null===s&&!v&&(s=!1),s=function(i,s,o,l){const d=function(i){const s=dn.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let f=l?s.residualClasses:s.residualStyles;if(null===d)0===(l?s.classBindings:s.styleBindings)&&(o=r(o=u(null,i,s,o,l),s.attrs,l),f=null);else{const v=s.directiveStylingLast;if(-1===v||i[v]!==d)if(o=u(d,i,s,o,l),null===f){let x=function(i,s,o){const l=o?s.classBindings:s.styleBindings;if(0!==iu(l))return i[Ea(l)]}(i,s,l);void 0!==x&&Array.isArray(x)&&(x=u(null,i,s,x[1],l),x=r(x,s.attrs,l),function(i,s,o,l){i[Ea(o?s.classBindings:s.styleBindings)]=l}(i,s,l,x))}else f=function(i,s,o){let l;const d=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<d;f++)l=r(l,i[f].hostAttrs,o);return r(l,s.attrs,o)}(i,s,l)}return void 0!==f&&(l?s.residualClasses=f:s.residualStyles=f),o}(d,f,s,l),function(i,s,o,l,d,f){let v=f?s.classBindings:s.styleBindings,w=Ea(v),x=iu(v);i[l]=o;let K,V=!1;if(Array.isArray(o)){const le=o;K=le[1],(null===K||_(le,K)>0)&&(V=!0)}else K=o;if(d)if(0!==x){const ge=Ea(i[w+1]);i[l+1]=Uh(ge,w),0!==ge&&(i[ge+1]=fp(i[ge+1],l)),i[w+1]=function(i,s){return 131071&i|s<<17}(i[w+1],l)}else i[l+1]=Uh(w,0),0!==w&&(i[w+1]=fp(i[w+1],l)),w=l;else i[l+1]=Uh(x,0),0===w?w=l:i[x+1]=fp(i[x+1],l),x=l;V&&(i[l+1]=hp(i[l+1])),Mo(i,K,l,!0),Mo(i,K,l,!1),function(i,s,o,l,d){const f=d?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof s&&_(f,s)>=0&&(o[l+1]=xs(o[l+1]))}(s,K,i,l,f),v=Uh(w,x),f?s.classBindings=v:s.styleBindings=v}(d,f,s,o,v,l)}}function u(i,s,o,l,d){let f=null;const v=o.directiveEnd;let w=o.directiveStylingLast;for(-1===w?w=o.directiveStart:w++;w<v&&(f=s[w],l=r(l,f.hostAttrs,d),f!==i);)w++;return null!==i&&(o.directiveStylingLast=w),l}function r(i,s,o){const l=o?1:2;let d=-1;if(null!==s)for(let f=0;f<s.length;f++){const v=s[f];"number"==typeof v?d=v:d===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),N(i,v,!!o||s[++f]))}return void 0===i?null:i}function E(i,s,o,l,d,f,v,w){if(!(3&s.type))return;const x=i.data,V=x[w+1];B(function(i){return 1==(1&i)}(V)?A(x,s,o,d,iu(V),v):void 0)||(B(f)||function(i){return 2==(2&i)}(V)&&(f=A(x,null,o,d,w,v)),function(i,s,o,l,d){const f=U(i);if(s)d?f?i.addClass(o,l):o.classList.add(l):f?i.removeClass(o,l):o.classList.remove(l);else{let v=-1===l.indexOf("-")?void 0:ta.DashCase;if(null==d)f?i.removeStyle(o,l,v):o.style.removeProperty(l);else{const w="string"==typeof d&&d.endsWith("!important");w&&(d=d.slice(0,-10),v|=ta.Important),f?i.setStyle(o,l,d,v):o.style.setProperty(l,d,w?"important":"")}}}(l,v,zt(ei(),o),d,f))}function A(i,s,o,l,d,f){const v=null===s;let w;for(;d>0;){const x=i[d],V=Array.isArray(x),K=V?x[1]:x,le=null===K;let ge=o[d+1];ge===Zn&&(ge=le?ve:void 0);let Oe=le?y(ge,l):K===l?ge:void 0;if(V&&!B(Oe)&&(Oe=y(x,l)),B(Oe)&&(w=Oe,v))return w;const Ue=i[d+1];d=v?Ea(Ue):iu(Ue)}if(null!==s){let x=f?s.residualClasses:s.residualStyles;null!=x&&(w=y(x,l))}return w}function B(i){return void 0!==i}function _e(i,s){return 0!=(i.flags&(s?16:32))}function De(i,s=""){const o=It(),l=Jn(),d=i+20,f=l.firstCreatePass?zc(l,d,1,s,null):l.data[d],v=o[d]=function(i,s){return U(i)?i.createText(s):i.createTextNode(s)}(o[11],s);ic(l,o,v,f),ls(f,!1)}function Le(i){return lt("",i,""),Le}function lt(i,s,o){const l=It(),d=td(l,i,s,o);return d!==Zn&&ou(l,ei(),d),lt}function Ct(i,s,o,l,d){const f=It(),v=mc(f,i,s,o,l,d);return v!==Zn&&ou(f,ei(),v),Ct}function ia(i,s,o){!function(i,s,o,l){const d=Jn(),f=Wi(2);d.firstUpdatePass&&Vy(d,null,f,l);const v=It();if(o!==Zn&&Ao(v,f,o)){const w=d.data[ei()];if(_e(w,l)&&!Pg(d,f)){let x=l?w.classesWithoutHost:w.stylesWithoutHost;null!==x&&(o=J(x,o||"")),Df(d,w,v,o,l)}else!function(i,s,o,l,d,f,v,w){d===Zn&&(d=ve);let x=0,V=0,K=0<d.length?d[0]:null,le=0<f.length?f[0]:null;for(;null!==K||null!==le;){const ge=x<d.length?d[x+1]:void 0,Oe=V<f.length?f[V+1]:void 0;let ut,Ue=null;K===le?(x+=2,V+=2,ge!==Oe&&(Ue=le,ut=Oe)):null===le||null!==K&&K<le?(x+=2,Ue=K):(V+=2,Ue=le,ut=Oe),null!==Ue&&E(i,s,o,l,Ue,ut,v,w),K=x<d.length?d[x]:null,le=V<f.length?f[V]:null}}(d,w,v,v[11],v[f+1],v[f+1]=function(i,s,o){if(null==o||""===o)return ve;const l=[],d=Fs(o);if(Array.isArray(d))for(let f=0;f<d.length;f++)i(l,d[f],!0);else if("object"==typeof d)for(const f in d)d.hasOwnProperty(f)&&i(l,f,d[f]);else"string"==typeof d&&s(l,d);return l}(i,s,o),l,f)}}(N,au,td(It(),i,s,o),!0)}function Cv(i,s,o){const l=It();return Ao(l,$i(),s)&&Wo(Jn(),Br(),l,i,s,l[11],o,!0),Cv}const oh=void 0;var iC=["en",[["a","p"],["AM","PM"],oh],[["AM","PM"],oh,oh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],oh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],oh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",oh,"{1} 'at' {0}",oh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const s=Math.floor(Math.abs(i)),o=i.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===o?1:5}];let xf={};function Iv(i){const s=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let o=u0(s);if(o)return o;const l=s.split("-")[0];if(o=u0(l),o)return o;if("en"===l)return iC;throw new Error(`Missing locale data for the locale "${i}".`)}function a0(i){return Iv(i)[$n.PluralCase]}function u0(i){return i in xf||(xf[i]=An.ng&&An.ng.common&&An.ng.common.locales&&An.ng.common.locales[i]),xf[i]}var $n=(()=>(($n=$n||{})[$n.LocaleId=0]="LocaleId",$n[$n.DayPeriodsFormat=1]="DayPeriodsFormat",$n[$n.DayPeriodsStandalone=2]="DayPeriodsStandalone",$n[$n.DaysFormat=3]="DaysFormat",$n[$n.DaysStandalone=4]="DaysStandalone",$n[$n.MonthsFormat=5]="MonthsFormat",$n[$n.MonthsStandalone=6]="MonthsStandalone",$n[$n.Eras=7]="Eras",$n[$n.FirstDayOfWeek=8]="FirstDayOfWeek",$n[$n.WeekendRange=9]="WeekendRange",$n[$n.DateFormat=10]="DateFormat",$n[$n.TimeFormat=11]="TimeFormat",$n[$n.DateTimeFormat=12]="DateTimeFormat",$n[$n.NumberSymbols=13]="NumberSymbols",$n[$n.NumberFormats=14]="NumberFormats",$n[$n.CurrencyCode=15]="CurrencyCode",$n[$n.CurrencySymbol=16]="CurrencySymbol",$n[$n.CurrencyName=17]="CurrencyName",$n[$n.Currencies=18]="Currencies",$n[$n.Directionality=19]="Directionality",$n[$n.PluralCase=20]="PluralCase",$n[$n.ExtraData=21]="ExtraData",$n))();const jy="en-US";let l0=jy;function Dv(i){ke(i,"Expected localeId to be defined"),"string"==typeof i&&(l0=i.toLowerCase().replace(/_/g,"-"))}function Av(i,s,o,l,d){if(i=X(i),Array.isArray(i))for(let f=0;f<i.length;f++)Av(i[f],s,o,l,d);else{const f=Jn(),v=It();let w=qc(i)?i:X(i.provide),x=af(i);const V=jr(),K=1048575&V.providerIndexes,le=V.directiveStart,ge=V.providerIndexes>>20;if(qc(i)||!i.multi){const Oe=new Is(x,d,Qd),Ue=Mv(w,s,d?K:K+ge,le);-1===Ue?(ds(zn(V,v),f,w),xv(f,i,s.length),s.push(w),V.directiveStart++,V.directiveEnd++,d&&(V.providerIndexes+=1048576),o.push(Oe),v.push(Oe)):(o[Ue]=Oe,v[Ue]=Oe)}else{const Oe=Mv(w,s,K+ge,le),Ue=Mv(w,s,K,K+ge),ut=Oe>=0&&o[Oe],Ke=Ue>=0&&o[Ue];if(d&&!Ke||!d&&!ut){ds(zn(V,v),f,w);const Pt=function(i,s,o,l,d){const f=new Is(i,o,Qd);return f.multi=[],f.index=s,f.componentProviders=0,N0(f,d,l&&!o),f}(d?tI:eI,o.length,d,l,x);!d&&Ke&&(o[Ue].providerFactory=Pt),xv(f,i,s.length,0),s.push(w),V.directiveStart++,V.directiveEnd++,d&&(V.providerIndexes+=1048576),o.push(Pt),v.push(Pt)}else xv(f,i,Oe>-1?Oe:Ue,N0(o[d?Ue:Oe],x,!d&&l));!d&&l&&Ke&&o[Ue].componentProviders++}}}function xv(i,s,o,l){const d=qc(s);if(d||function(i){return!!i.useClass}(s)){const v=(s.useClass||s).prototype.ngOnDestroy;if(v){const w=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const x=w.indexOf(o);-1===x?w.push(o,[l,v]):w[x+1].push(l,v)}else w.push(o,v)}}}function N0(i,s,o){return o&&i.componentProviders++,i.multi.push(s)-1}function Mv(i,s,o,l){for(let d=o;d<l;d++)if(s[d]===i)return d;return-1}function eI(i,s,o,l){return Ov(this.multi,[])}function tI(i,s,o,l){const d=this.multi;let f;if(this.providerFactory){const v=this.providerFactory.componentProviders,w=fu(o,o[1],this.providerFactory.index,l);f=w.slice(0,v),Ov(d,f);for(let x=v;x<w.length;x++)f.push(w[x])}else f=[],Ov(d,f);return f}function Ov(i,s){for(let o=0;o<i.length;o++)s.push((0,i[o])());return s}function P0(i,s=[]){return o=>{o.providersResolver=(l,d)=>function(i,s,o){const l=Jn();if(l.firstCreatePass){const d=Vr(i);Av(o,l.data,l.blueprint,d,!0),Av(s,l.data,l.blueprint,d,!1)}}(l,d?d(i):i,s)}}class L0{}const F0="ngComponent";class iI{resolveComponentFactory(s){throw function(i){const s=Error(`No component factory found for ${q(i)}. Did you add it to @NgModule.entryComponents?`);return s[F0]=i,s}(s)}}class ah{}function zy(...i){}function Of(i,s){return new Ul(vn(i,s))}ah.NULL=new iI;const aI=function(){return Of(jr(),It())};let Ul=(()=>{class i{constructor(o){this.nativeElement=o}}return i.__NG_ELEMENT_ID__=aI,i})();function V0(i){return i instanceof Ul?i.nativeElement:i}class Ky{}let uI=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>cI(),i})();const cI=function(){const i=It(),o=fr(jr().index,i);return function(i){return i[11]}(Pi(o)?o:i)};let Nv=(()=>{class i{}return i.\u0275prov=tn({token:i,providedIn:"root",factory:()=>null}),i})();class U0{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Pv=new U0("12.2.3");class B0{constructor(){}supports(s){return mf(s)}create(s){return new pI(s)}}const fI=(i,s)=>s;class pI{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||fI}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,l=this._removalsHead,d=0,f=null;for(;o||l;){const v=!l||o&&o.currentIndex<H0(l,d,f)?o:l,w=H0(v,d,f),x=v.currentIndex;if(v===l)d--,l=l._nextRemoved;else if(o=o._next,null==v.previousIndex)d++;else{f||(f=[]);const V=w-d,K=x-d;if(V!=K){for(let ge=0;ge<V;ge++){const Oe=ge<f.length?f[ge]:f[ge]=0,Ue=Oe+ge;K<=Ue&&Ue<V&&(f[ge]=Oe+1)}f[v.previousIndex]=K-V}}w!==x&&s(v,w,x)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!mf(s))throw new Error(`Error trying to diff '${q(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,f,v,o=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let w=0;w<this.length;w++)f=s[w],v=this._trackByFn(w,f),null!==o&&Object.is(o.trackById,v)?(l&&(o=this._verifyReinsertion(o,f,v,w)),Object.is(o.item,f)||this._addIdentityChange(o,f)):(o=this._mismatch(o,f,v,w),l=!0),o=o._next}else d=0,function(i,s){if(Array.isArray(i))for(let o=0;o<i.length;o++)s(i[o]);else{const o=i[Jc()]();let l;for(;!(l=o.next()).done;)s(l.value)}}(s,w=>{v=this._trackByFn(d,w),null!==o&&Object.is(o.trackById,v)?(l&&(o=this._verifyReinsertion(o,w,v,d)),Object.is(o.item,w)||this._addIdentityChange(o,w)):(o=this._mismatch(o,w,v,d),l=!0),o=o._next,d++}),this.length=d;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,l,d){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,f,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,f,d)):s=this._addAfter(new gI(o,l),f,d),s}_verifyReinsertion(s,o,l,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==f?s=this._reinsertAfter(f,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,f=s._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(s,o,l),this._addToMoves(s,l),s}_moveAfter(s,o,l){return this._unlink(s),this._insertAfter(s,o,l),this._addToMoves(s,l),s}_addAfter(s,o,l){return this._insertAfter(s,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,l){const d=null===o?this._itHead:o._next;return s._next=d,s._prev=o,null===d?this._itTail=s:d._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new j0),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,l=s._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new j0),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class gI{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class mI{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const o=s._prevDup,l=s._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class j0{constructor(){this.map=new Map}put(s){const o=s.trackById;let l=this.map.get(o);l||(l=new mI,this.map.set(o,l)),l.add(s)}get(s,o){const d=this.map.get(s);return d?d.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function H0(i,s,o){const l=i.previousIndex;if(null===l)return l;let d=0;return o&&l<o.length&&(d=o[l]),l+s+d}class $0{constructor(){}supports(s){return s instanceof Map||og(s)}create(){return new yI}}class yI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||og(s)))throw new Error(`Error trying to diff '${q(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,d)=>{if(o&&o.key===d)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const f=this._getOrCreateRecordForKey(d,l);o=this._insertBeforeOrAppend(o,f)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const l=s._prev;return o._next=s,o._prev=l,s._prev=o,l&&(l._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,o);const f=d._prev,v=d._next;return f&&(f._next=v),v&&(v._prev=f),d._next=null,d._prev=null,d}const l=new _I(s);return this._records.set(s,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(l=>o(s[l],l))}}class _I{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function W0(){return new Zy([new B0])}let Zy=(()=>{class i{constructor(o){this.factories=o}static create(o,l){if(null!=l){const d=l.factories.slice();o=o.concat(d)}return new i(o)}static extend(o){return{provide:i,useFactory:l=>i.create(o,l||W0()),deps:[[i,new oi,new Gr]]}}find(o){const l=this.factories.find(d=>d.supports(o));if(null!=l)return l;throw new Error(`Cannot find a differ supporting object '${o}' of type '${function(i){return i.name||typeof i}(o)}'`)}}return i.\u0275prov=tn({token:i,providedIn:"root",factory:W0}),i})();function G0(){return new qy([new $0])}let qy=(()=>{class i{constructor(o){this.factories=o}static create(o,l){if(l){const d=l.factories.slice();o=o.concat(d)}return new i(o)}static extend(o){return{provide:i,useFactory:l=>i.create(o,l||G0()),deps:[[i,new oi,new Gr]]}}find(o){const l=this.factories.find(d=>d.supports(o));if(l)return l;throw new Error(`Cannot find a differ supporting object '${o}'`)}}return i.\u0275prov=tn({token:i,providedIn:"root",factory:G0}),i})();function Yy(i,s,o,l,d=!1){for(;null!==o;){const f=s[o.index];if(null!==f&&l.push(Ie(f)),_i(f))for(let w=10;w<f.length;w++){const x=f[w],V=x[1].firstChild;null!==V&&Yy(x[1],x,V,l)}const v=o.type;if(8&v)Yy(i,s,o.child,l);else if(32&v){const w=Iu(o,s);let x;for(;x=w();)l.push(x)}else if(16&v){const w=sp(s,o);if(Array.isArray(w))l.push(...w);else{const x=Bc(s[16]);Yy(x[1],x,w,l,!0)}}o=d?o.projectionNext:o.next}return l}class Ug{constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,o=s[1];return Yy(o,s,o.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(_i(s)){const o=s[8],l=o?o.indexOf(this):-1;l>-1&&(jc(s,l),jo(o,l))}this._attachedToViewContainer=!1}Rh(this._lView[1],this._lView)}onDestroy(s){qh(this._lView[1],this._lView,null,s)}markForCheck(){Ud(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){tf(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,s,o){mo(!0);try{tf(i,s,o)}finally{mo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,ka(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class EI extends Ug{constructor(s){super(s),this._view=s}detectChanges(){nf(this._view)}checkNoChanges(){!function(i){mo(!0);try{nf(i)}finally{mo(!1)}}(this._view)}get context(){return null}}const wI=function(i){return function(i,s,o){if(vi(i)&&!o){const l=fr(i.index,s);return new Ug(l,l)}return 47&i.type?new Ug(s[16],s):null}(jr(),It(),16==(16&i))};let CI=(()=>{class i{}return i.__NG_ELEMENT_ID__=wI,i})();const TI=[new $0],AI=new Zy([new B0]),xI=new qy(TI),OI=function(){return Qy(jr(),It())};let Bg=(()=>{class i{}return i.__NG_ELEMENT_ID__=OI,i})();const RI=Bg,NI=class extends RI{constructor(s,o,l){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=l}createEmbeddedView(s){const o=this._declarationTContainer.tViews,l=ac(this._declarationLView,o,s,16,null,o.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(l[19]=f.createEmbeddedView(o)),uc(o,l,s),new Ug(l)}};function Qy(i,s){return 4&i.type?new NI(s,i,Of(i,s)):null}class uh{}class z0{}const kI=function(){return q0(jr(),It())};let Jy=(()=>{class i{}return i.__NG_ELEMENT_ID__=kI,i})();const VI=Jy,K0=class extends VI{constructor(s,o,l){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=l}get element(){return Of(this._hostTNode,this._hostLView)}get injector(){return new pa(this._hostTNode,this._hostLView)}get parentInjector(){const s=wi(this._hostTNode,this._hostLView);if(P(s)){const o=H(s,this._hostLView),l=M(s);return new pa(o[1].data[l+8],o)}return new pa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=Z0(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,o,l){const d=s.createEmbeddedView(o||{});return this.insert(d,l),d}createComponent(s,o,l,d,f){const v=l||this.parentInjector;if(!f&&null==s.ngModule&&v){const x=v.get(uh,null);x&&(f=x)}const w=s.create(v,d,void 0,f);return this.insert(w.hostView,o),w}insert(s,o){const l=s._lView,d=l[1];if(_i(l[3])){const K=this.indexOf(s);if(-1!==K)this.detach(K);else{const le=l[3],ge=new K0(le,le[6],le[3]);ge.detach(ge.indexOf(s))}}const f=this._adjustIndex(o),v=this._lContainer;!function(i,s,o,l){const d=10+l,f=o.length;l>0&&(o[d-1][4]=s),l<f-10?(s[4]=o[d],qa(o,10+l,s)):(o.push(s),s[4]=null),s[3]=o;const v=s[17];null!==v&&o!==v&&function(i,s){const o=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===o?i[9]=[s]:o.push(s)}(v,s);const w=s[19];null!==w&&w.insertView(i),s[2]|=128}(d,l,v,f);const w=op(f,v),x=l[11],V=Du(x,v[7]);return null!==V&&function(i,s,o,l,d,f){l[0]=d,l[6]=s,ka(i,l,o,1,d,f)}(d,v[6],x,l,V,w),s.attachToViewContainerRef(),qa(Lv(v),f,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=Z0(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),l=jc(this._lContainer,o);l&&(jo(Lv(this._lContainer),o),Rh(l[1],l))}detach(s){const o=this._adjustIndex(s,-1),l=jc(this._lContainer,o);return l&&null!=jo(Lv(this._lContainer),o)?new Ug(l):null}_adjustIndex(s,o=0){return null==s?this.length+o:s}};function Z0(i){return i[8]}function Lv(i){return i[8]||(i[8]=[])}function q0(i,s){let o;const l=s[i.index];if(_i(l))o=l;else{let d;if(8&i.type)d=Ie(l);else{const f=s[11];d=f.createComment("");const v=vn(i,s);nc(f,Du(f,v),d,function(i,s){return U(i)?i.nextSibling(s):s.nextSibling}(f,v),!1)}s[i.index]=o=Wm(l,s,d,i),ef(s,o)}return new K0(o,i,s)}const Lf={};class gb extends ah{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=Xt(s);return new yb(o,this.ngModule)}}function mb(i){const s=[];for(let o in i)i.hasOwnProperty(o)&&s.push({propName:i[o],templateName:o});return s}const PD=new or("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>So});class yb extends L0{constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=s.selectors.map($c).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return mb(this.componentDef.inputs)}get outputs(){return mb(this.componentDef.outputs)}create(s,o,l,d){const f=(d=d||this.ngModule)?function(i,s){return{get:(o,l,d)=>{const f=i.get(o,Lf,d);return f!==Lf||l===Lf?f:s.get(o,l,d)}}}(s,d.injector):s,v=f.get(Ky,$),w=f.get(Nv,null),x=v.createRenderer(null,this.componentDef),V=this.componentDef.selectors[0][0]||"div",K=l?function(i,s,o){if(U(i))return i.selectRootElement(s,o===mt.ShadowDom);let l="string"==typeof s?i.querySelector(s):s;return l.textContent="",l}(x,l,this.componentDef.encapsulation):Oh(v.createRenderer(null,this.componentDef),V,function(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(V)),le=this.componentDef.onPush?576:528,ge=function(i,s){return{components:[],scheduler:i||So,clean:Np,playerHandler:s||null,flags:0}}(),Oe=kd(0,null,null,1,0,null,null,null,null,null),Ue=ac(null,Oe,ge,le,null,null,v,x,w,f);let ut,Ke;Ws(Ue);try{const Pt=function(i,s,o,l,d,f){const v=o[1];o[20]=i;const x=zc(v,20,2,"#host",null),V=x.mergedAttrs=s.hostAttrs;null!==V&&(el(x,V,!0),null!==i&&($r(d,i,V),null!==x.classes&&sc(d,i,x.classes),null!==x.styles&&kh(d,i,x.styles)));const K=l.createRenderer(i,s),le=ac(o,Om(s),null,s.onPush?64:16,o[20],x,l,K,f||null,null);return v.firstCreatePass&&(ds(zn(x,o),v,s.type),Um(v,x),Jh(x,o.length,1)),ef(o,le),o[20]=le}(K,this.componentDef,Ue,v,x);if(K)if(l)$r(x,K,["ng-version",Pv.full]);else{const{attrs:Et,classes:Dn}=function(i){const s=[],o=[];let l=1,d=2;for(;l<i.length;){let f=i[l];if("string"==typeof f)2===d?""!==f&&s.push(f,i[++l]):8===d&&o.push(f);else{if(!Fa(d))break;d=f}l++}return{attrs:s,classes:o}}(this.componentDef.selectors[0]);Et&&$r(x,K,Et),Dn&&Dn.length>0&&sc(x,K,Dn.join(" "))}if(Ke=lr(Oe,20),void 0!==o){const Et=Ke.projection=[];for(let Dn=0;Dn<this.ngContentSelectors.length;Dn++){const Qn=o[Dn];Et.push(null!=Qn?Array.from(Qn):null)}}ut=function(i,s,o,l,d){const f=o[1],v=function(i,s,o){const l=jr();i.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),Bm(i,l,s,Kc(i,s,1,null),o));const d=fu(s,i,l.directiveStart,l);As(d,s);const f=vn(l,s);return f&&As(f,s),d}(f,o,s);if(l.components.push(v),i[8]=v,d&&d.forEach(x=>x(v,s)),s.contentQueries){const x=jr();s.contentQueries(1,v,x.directiveStart)}const w=jr();return!f.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Ps(w.index),Vm(o[1],w,0,w.directiveStart,w.directiveEnd,s),Qh(s,v)),v}(Pt,this.componentDef,Ue,ge,[Wd]),uc(Oe,Ue,null)}finally{Gs()}return new FD(this.componentType,ut,Of(Ke,Ue),Ue,Ke)}}class FD extends class{}{constructor(s,o,l,d,f){super(),this.location=l,this._rootLView=d,this._tNode=f,this.instance=o,this.hostView=this.changeDetectorRef=new EI(d),this.componentType=s}get injector(){return new pa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}const kf=new Map;class BD extends uh{constructor(s,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new gb(this);const l=Wn(s),d=s[Mt]||null;d&&Dv(d),this._bootstrapComponents=Us(l.bootstrap),this._r3Injector=Ym(s,o,[{provide:uh,useValue:this},{provide:ah,useValue:this.componentFactoryResolver}],q(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,o=Yr.THROW_IF_NOT_FOUND,l=Qt.Default){return s===Yr||s===uh||s===Rl?this:this._r3Injector.get(s,o,l)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Zv extends z0{constructor(s){super(),this.moduleType=s,null!==Wn(s)&&function(i){const s=new Set;!function o(l){const d=Wn(l,!0),f=d.id;null!==f&&(function(i,s,o){if(s&&s!==o)throw new Error(`Duplicate module registered for ${i} - ${q(s)} vs ${q(s.name)}`)}(f,kf.get(f),l),kf.set(f,l));const v=Us(d.imports);for(const w of v)s.has(w)||(s.add(w),o(w))}(i)}(s)}create(s){return new BD(this.moduleType,s)}}function Eb(i,s,o){const l=function(){const i=dn.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}()+i,d=It();return d[l]===Zn?function(i,s,o){return i[s]=o}(d,l,o?s.call(o):s()):function(i,s){return i[s]}(d,l)}function qv(i){return s=>{setTimeout(i,void 0,s)}}const Bl=class extends b.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,l){var d,f,v;let w=s,x=o||(()=>null),V=l;if(s&&"object"==typeof s){const le=s;w=null===(d=le.next)||void 0===d?void 0:d.bind(le),x=null===(f=le.error)||void 0===f?void 0:f.bind(le),V=null===(v=le.complete)||void 0===v?void 0:v.bind(le)}this.__isAsync&&(x=qv(x),w&&(w=qv(w)),V&&(V=qv(V)));const K=super.subscribe({next:w,error:x,complete:V});return s instanceof O.w&&s.add(K),K}};function iT(){return this._results[Jc()]()}class r_{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Jc(),l=r_.prototype;l[o]||(l[o]=iT)}get changes(){return this._changes||(this._changes=new Bl)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const l=this;l.dirty=!1;const d=ks(s);(this._changesDetected=!function(i,s,o){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let d=i[l],f=s[l];if(o&&(d=o(d),f=o(f)),f!==d)return!1}return!0}(l._results,d,o))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Yv{constructor(s){this.queryList=s,this.matches=null}clone(){return new Yv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Qv{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const l=null!==s.contentQueries?s.contentQueries[0]:o.length,d=[];for(let f=0;f<l;f++){const v=o.getByIndex(f);d.push(this.queries[v.indexInDeclarationView].clone())}return new Qv(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==Nb(s,o).matches&&this.queries[o].setDirty()}}class Tb{constructor(s,o,l=null){this.predicate=s,this.flags=o,this.read=l}}class Jv{constructor(s=[]){this.queries=s}elementStart(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let l=0;l<this.length;l++){const d=null!==o?o.length:0,f=this.getByIndex(l).embeddedTView(s,d);f&&(f.indexInDeclarationView=l,null!==o?o.push(f):o=[f])}return null!==o?new Jv(o):null}template(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Xv{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new Xv(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==o;)l=l.parent;return o===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const f=l[d];this.matchTNodeWithReadOption(s,o,aT(o,f)),this.matchTNodeWithReadOption(s,o,Vu(o,s,f,!1,!1))}else l===Bg?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,Vu(o,s,l,!1,!1))}matchTNodeWithReadOption(s,o,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===Ul||d===Jy||d===Bg&&4&o.type)this.addMatch(o.index,-2);else{const f=Vu(o,s,d,!1,!1);null!==f&&this.addMatch(o.index,f)}else this.addMatch(o.index,l)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function aT(i,s){const o=i.localNames;if(null!==o)for(let l=0;l<o.length;l+=2)if(o[l]===s)return o[l+1];return null}function lT(i,s,o,l){return-1===o?function(i,s){return 11&i.type?Of(i,s):4&i.type?Qy(i,s):null}(s,i):-2===o?function(i,s,o){return o===Ul?Of(s,i):o===Bg?Qy(s,i):o===Jy?q0(s,i):void 0}(i,s,l):fu(i,i[1],o,s)}function Sb(i,s,o,l){const d=s[19].queries[l];if(null===d.matches){const f=i.data,v=o.matches,w=[];for(let x=0;x<v.length;x+=2){const V=v[x];w.push(V<0?null:lT(s,f[V],v[x+1],o.metadata.read))}d.matches=w}return d.matches}function eE(i,s,o,l){const d=i.queries.getByIndex(o),f=d.matches;if(null!==f){const v=Sb(i,s,d,o);for(let w=0;w<f.length;w+=2){const x=f[w];if(x>0)l.push(v[w/2]);else{const V=f[w+1],K=s[-x];for(let le=10;le<K.length;le++){const ge=K[le];ge[17]===ge[3]&&eE(ge[1],ge,V,l)}if(null!==K[9]){const le=K[9];for(let ge=0;ge<le.length;ge++){const Oe=le[ge];eE(Oe[1],Oe,V,l)}}}}}return l}function Ab(i){const s=It(),o=Jn(),l=Yo();_o(l+1);const d=Nb(o,l);if(i.dirty&&nr(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const f=d.crossesNgTemplate?eE(o,s,l,[]):Sb(o,s,d,l);i.reset(f,V0),i.notifyOnChanges()}return!0}return!1}function xb(i,s,o,l){const d=Jn();if(d.firstCreatePass){const f=jr();(function(i,s,o){null===i.queries&&(i.queries=new Jv),i.queries.track(new Xv(s,o))})(d,new Tb(s,o,l),f.index),function(i,s){const o=i.contentQueries||(i.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(i.queries.length-1,s)}(d,i),2==(2&o)&&(d.staticContentQueries=!0)}!function(i,s,o){const l=new r_(4==(4&o));qh(i,s,l,l.destroy),null===s[19]&&(s[19]=new Qv),s[19].queries.push(new Yv(l))}(d,It(),o)}function Mb(){return i=It(),s=Yo(),i[19].queries[s].queryList;var i,s}function Nb(i,s){return i.queries.getByIndex(s)}const oE=new or("Application Initializer");let Vf=(()=>{class i{constructor(o){this.appInits=o,this.resolve=zy,this.reject=zy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const o=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const f=this.appInits[d]();if(Ig(f))o.push(f);else if(Dg(f)){const v=new Promise((w,x)=>{f.subscribe({complete:w,error:x})});o.push(v)}}Promise.all(o).then(()=>{l()}).catch(d=>{this.reject(d)}),0===o.length&&l(),this.initialized=!0}}return i.\u0275fac=function(o){return new(o||i)(_r(oE,8))},i.\u0275prov=tn({token:i,factory:i.\u0275fac}),i})();const Qb=new or("AppId"),jT={provide:Qb,useFactory:function(){return`${aE()}${aE()}${aE()}`},deps:[]};function aE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Jb=new or("Platform Initializer"),Xb=new or("Platform ID"),ew=new or("appBootstrapListener");let tw=(()=>{class i{log(o){console.log(o)}warn(o){console.warn(o)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=tn({token:i,factory:i.\u0275fac}),i})();const o_=new or("LocaleId"),nw=new or("DefaultCurrencyCode");class $T{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}const uE=function(i){return new Zv(i)},WT=uE,GT=function(i){return Promise.resolve(uE(i))},rw=function(i){const s=uE(i),l=Us(Wn(i).declarations).reduce((d,f)=>{const v=Xt(f);return v&&d.push(new yb(v)),d},[]);return new $T(s,l)},zT=rw,KT=function(i){return Promise.resolve(rw(i))};let Jg=(()=>{class i{constructor(){this.compileModuleSync=WT,this.compileModuleAsync=GT,this.compileModuleAndAllComponentsSync=zT,this.compileModuleAndAllComponentsAsync=KT}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=tn({token:i,factory:i.\u0275fac}),i})();const YT=(()=>Promise.resolve(0))();function lE(i){"undefined"==typeof Zone?YT.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class lu{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Bl(!1),this.onMicrotaskEmpty=new Bl(!1),this.onStable=new Bl(!1),this.onError=new Bl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&o,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let i=An.requestAnimationFrame,s=An.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const o=i[Zone.__symbol__("OriginalDelegate")];o&&(i=o);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(i){const s=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(An,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,dE(i),i.isCheckStableRunning=!0,cE(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),dE(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,d,f,v,w)=>{try{return iw(i),o.invokeTask(d,f,v,w)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&s(),sw(i)}},onInvoke:(o,l,d,f,v,w,x)=>{try{return iw(i),o.invoke(d,f,v,w,x)}finally{i.shouldCoalesceRunChangeDetection&&s(),sw(i)}},onHasTask:(o,l,d,f)=>{o.hasTask(d,f),l===d&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,dE(i),cE(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(o,l,d,f)=>(o.handleError(d,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!lu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(lu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,o,l){return this._inner.run(s,o,l)}runTask(s,o,l,d){const f=this._inner,v=f.scheduleEventTask("NgZoneEvent: "+d,s,JT,zy,zy);try{return f.runTask(v,o,l)}finally{f.cancelTask(v)}}runGuarded(s,o,l){return this._inner.runGuarded(s,o,l)}runOutsideAngular(s){return this._outer.run(s)}}const JT={};function cE(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function dE(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function iw(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function sw(i){i._nesting--,cE(i)}class tS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Bl,this.onMicrotaskEmpty=new Bl,this.onStable=new Bl,this.onError=new Bl}run(s,o,l){return s.apply(o,l)}runGuarded(s,o,l){return s.apply(o,l)}runOutsideAngular(s){return s()}runTask(s,o,l,d){return s.apply(o,l)}}let ow=(()=>{class i{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{lu.assertNotInAngularZone(),lE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())lE(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,d){let f=-1;l&&l>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==f),o(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:o,timeoutId:f,updateCb:d})}whenStable(o,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,l,d){return[]}}return i.\u0275fac=function(o){return new(o||i)(_r(lu))},i.\u0275prov=tn({token:i,factory:i.\u0275fac}),i})(),aw=(()=>{class i{constructor(){this._applications=new Map,hE.addToWindow(this)}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){return hE.findTestabilityInTree(this,o,l)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=tn({token:i,factory:i.\u0275fac}),i})();class nS{addToWindow(s){}findTestabilityInTree(s,o,l){return null}}function rS(i){hE=i}let hE=new nS,uw=!0,lw=!1;function fE(){return lw=!0,uw}function iS(){if(lw)throw new Error("Cannot enable prod mode after platform setup.");uw=!1}let sl;const cw=new or("AllowMultipleToken");class dS{constructor(s,o){this.name=s,this.token=o}}function dw(i,s,o=[]){const l=`Platform: ${s}`,d=new or(l);return(f=[])=>{let v=hw();if(!v||v.injector.get(cw,!1))if(i)i(o.concat(f).concat({provide:d,useValue:!0}));else{const w=o.concat(f).concat({provide:d,useValue:!0},{provide:hc,useValue:"platform"});!function(i){if(sl&&!sl.destroyed&&!sl.injector.get(cw,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");sl=i.get(fw);const s=i.get(Jb,null);s&&s.forEach(o=>o())}(Yr.create({providers:w,name:l}))}return function(i){const s=hw();if(!s)throw new Error("No platform exists!");if(!s.injector.get(i,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(d)}}function hw(){return sl&&!sl.destroyed?sl:null}let fw=(()=>{class i{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const w=function(i,s){let o;return o="noop"===i?new tS:("zone.js"===i?void 0:i)||new lu({enableLongStackTrace:fE(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),o}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),x=[{provide:lu,useValue:w}];return w.run(()=>{const V=Yr.create({providers:x,parent:this.injector,name:o.moduleType.name}),K=o.create(V),le=K.injector.get(S,null);if(!le)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return w.runOutsideAngular(()=>{const ge=w.onError.subscribe({next:Oe=>{le.handleError(Oe)}});K.onDestroy(()=>{pE(this._modules,K),ge.unsubscribe()})}),function(i,s,o){try{const l=o();return Ig(l)?l.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(le,w,()=>{const ge=K.injector.get(Vf);return ge.runInitializers(),ge.donePromise.then(()=>(Dv(K.injector.get(o_,jy)||jy),this._moduleDoBootstrap(K),K))})})}bootstrapModule(o,l=[]){const d=pw({},l);return function(i,s,o){const l=new Zv(o);return Promise.resolve(l)}(0,0,o).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(o){const l=o.injector.get(Xg);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!o.instance.ngDoBootstrap)throw new Error(`The module ${q(o.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);o.instance.ngDoBootstrap(l)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(o){return new(o||i)(_r(Yr))},i.\u0275prov=tn({token:i,factory:i.\u0275fac}),i})();function pw(i,s){return Array.isArray(s)?s.reduce(pw,i):Object.assign(Object.assign({},i),s)}let Xg=(()=>{class i{constructor(o,l,d,f,v){this._zone=o,this._injector=l,this._exceptionHandler=d,this._componentFactoryResolver=f,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new se.y(V=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{V.next(this._stable),V.complete()})}),x=new se.y(V=>{let K;this._zone.runOutsideAngular(()=>{K=this._zone.onStable.subscribe(()=>{lu.assertNotInAngularZone(),lE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,V.next(!0))})})});const le=this._zone.onUnstable.subscribe(()=>{lu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{V.next(!1)}))});return()=>{K.unsubscribe(),le.unsubscribe()}});this.isStable=(0,oe.T)(w,x.pipe((0,L.B)()))}bootstrap(o,l){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let d;d=o instanceof L0?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(d.componentType);const f=function(i){return i.isBoundToModule}(d)?void 0:this._injector.get(uh),w=d.create(Yr.NULL,[],l||d.selector,f),x=w.location.nativeElement,V=w.injector.get(ow,null),K=V&&w.injector.get(aw);return V&&K&&K.registerApplication(x,V),w.onDestroy(()=>{this.detachView(w.hostView),pE(this.components,w),K&&K.unregisterApplication(x)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;pE(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(ew,[]).concat(this._bootstrapListeners).forEach(d=>d(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(o){return new(o||i)(_r(lu),_r(Yr),_r(S),_r(ah),_r(Vf))},i.\u0275prov=tn({token:i,factory:i.\u0275fac}),i})();function pE(i,s){const o=i.indexOf(s);o>-1&&i.splice(o,1)}class yS{}class vS{}const ES={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let bS=(()=>{class i{constructor(o,l){this._compiler=o,this._config=l||ES}load(o){return this.loadAndCompile(o)}loadAndCompile(o){let[l,d]=o.split("#");return void 0===d&&(d="default"),R(8255)(l).then(f=>f[d]).then(f=>_w(f,l,d)).then(f=>this._compiler.compileModuleAsync(f))}loadFactory(o){let[l,d]=o.split("#"),f="NgFactory";return void 0===d&&(d="default",f=""),R(8255)(this._config.factoryPathPrefix+l+this._config.factoryPathSuffix).then(v=>v[d+f]).then(v=>_w(v,l,d))}}return i.\u0275fac=function(o){return new(o||i)(_r(Jg),_r(vS,8))},i.\u0275prov=tn({token:i,factory:i.\u0275fac}),i})();function _w(i,s,o){if(!i)throw new Error(`Cannot find '${o}' in '${s}'`);return i}const xS=function(i){return null},OS=dw(null,"core",[{provide:Xb,useValue:"unknown"},{provide:fw,deps:[Yr]},{provide:aw,deps:[]},{provide:tw,deps:[]}]),kS=[{provide:Xg,useClass:Xg,deps:[lu,Yr,S,ah,Vf]},{provide:PD,deps:[lu],useFactory:function(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(o){s.push(o)}}},{provide:Vf,useClass:Vf,deps:[[new Gr,oE]]},{provide:Jg,useClass:Jg,deps:[]},jT,{provide:Zy,useFactory:function(){return AI},deps:[]},{provide:qy,useFactory:function(){return xI},deps:[]},{provide:o_,useFactory:function(i){return Dv(i=i||"undefined"!=typeof $localize&&$localize.locale||jy),i},deps:[[new Xn(o_),new Gr,new oi]]},{provide:nw,useValue:"USD"}];let VS=(()=>{class i{constructor(o){}}return i.\u0275fac=function(o){return new(o||i)(_r(Xg))},i.\u0275mod=it({type:i}),i.\u0275inj=jn({providers:kS}),i})()},1325:(yt,Me,R)=>{"use strict";R.d(Me,{zQ:()=>Rt,ww:()=>Ot,rT:()=>Ge,f7:()=>We,L6:()=>sn,_Q:()=>bt,lh:()=>$t,Qv:()=>_t});var b=R(7716),O=R(9765),se=R(5917),oe=R(9897),L=R(9412),re=R(6682),de=R(9746),q=R(3190),J=R(8002),Q=R(7349),ue=R(8049),X=R(9499),fe=R(9673),ye=R(5435),Pe=R(9126),Ze=R(9958),Xe=R(8583);const _t=new b.OlP("angularfire2.auth.use-emulator"),sn=new b.OlP("angularfire2.auth.settings"),bt=new b.OlP("angularfire2.auth.tenant-id"),Ge=new b.OlP("angularfire2.auth.langugage-code"),$t=new b.OlP("angularfire2.auth.use-device-language"),We=new b.OlP("angularfire.auth.persistence");let Rt=(()=>{class xe{constructor(Re,Qe,Ye,Ne,Dt,Zt,ot,vt,ke,Je,Yt){const un=new O.xQ,ln=(0,se.of)(void 0).pipe((0,de.QV)(Dt.outsideAngular),(0,q.w)(()=>Ne.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,6300)))),(0,J.U)(()=>(0,Ze.on)(Re,Ne,Qe)),(0,J.U)(tn=>Ne.runOutsideAngular(()=>{const cr=Zt,jn=ot;return(0,Pe.cc)(`${tn.name}.auth`,"AngularFireAuth",tn.name,()=>{const qn=Ne.runOutsideAngular(()=>tn.auth());if(cr&&qn.useEmulator(...cr),vt&&(qn.tenantId=vt),qn.languageCode=ke,Je&&qn.useDeviceLanguage(),jn)for(const[yn,qt]of Object.entries(jn))qn.settings[yn]=qt;return Yt&&qn.setPersistence(Yt),qn},[cr,vt,ke,Je,jn,Yt])})),(0,Q.d)({bufferSize:1,refCount:!1}));if((0,Xe.PM)(Ye))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,se.of)(null);else{ln.pipe((0,ue.P)()).subscribe();const cr=ln.pipe((0,q.w)(yn=>yn.getRedirectResult().then(qt=>qt,()=>null)),Pe.iC,(0,Q.d)({bufferSize:1,refCount:!1})),jn=ln.pipe((0,q.w)(yn=>new oe.y(qt=>({unsubscribe:Ne.runOutsideAngular(()=>yn.onAuthStateChanged(Vn=>qt.next(Vn),Vn=>qt.error(Vn),()=>qt.complete()))})))),qn=ln.pipe((0,q.w)(yn=>new oe.y(qt=>({unsubscribe:Ne.runOutsideAngular(()=>yn.onIdTokenChanged(Vn=>qt.next(Vn),Vn=>qt.error(Vn),()=>qt.complete()))}))));this.authState=cr.pipe((0,X.c)(jn),(0,fe.R)(Dt.outsideAngular),(0,de.QV)(Dt.insideAngular)),this.user=cr.pipe((0,X.c)(qn),(0,fe.R)(Dt.outsideAngular),(0,de.QV)(Dt.insideAngular)),this.idToken=this.user.pipe((0,q.w)(yn=>yn?(0,L.D)(yn.getIdToken()):(0,se.of)(null))),this.idTokenResult=this.user.pipe((0,q.w)(yn=>yn?(0,L.D)(yn.getIdTokenResult()):(0,se.of)(null))),this.credential=(0,re.T)(cr,un,this.authState.pipe((0,ye.h)(yn=>!yn))).pipe((0,J.U)(yn=>(null==yn?void 0:yn.user)?yn:null),(0,fe.R)(Dt.outsideAngular),(0,de.QV)(Dt.insideAngular))}return(0,Ze.pX)(this,ln,Ne,{spy:{apply:(tn,cr,jn)=>{(tn.startsWith("signIn")||tn.startsWith("createUser"))&&jn.then(qn=>un.next(qn))}}})}}return xe.\u0275fac=function(Re){return new(Re||xe)(b.LFG(Ze.Dh),b.LFG(Ze.xv,8),b.LFG(b.Lbi),b.LFG(b.R0b),b.LFG(Pe.HU),b.LFG(_t,8),b.LFG(sn,8),b.LFG(bt,8),b.LFG(Ge,8),b.LFG($t,8),b.LFG(We,8))},xe.\u0275prov=b.Yz7({token:xe,factory:xe.\u0275fac,providedIn:"any"}),xe})(),Ot=(()=>{class xe{}return xe.\u0275fac=function(Re){return new(Re||xe)},xe.\u0275mod=b.oAB({type:xe}),xe.\u0275inj=b.cJS({providers:[Rt]}),xe})()},2825:(yt,Me,R)=>{"use strict";R.d(Me,{ST:()=>By,yb:()=>bv});var b=R(7716),O=R(3637),se=R(9897),oe=R(9412),L=R(5917),re=R(9126),de=R(9761),q=R(9328),J=R(8002),Q=R(2145),ue=R(7519),X=R(5435),fe=R(9746),ye=R(9958),Pe=R(8583),Xe=(R(6300),R(4486)),me=R(8239),_t=R(5452),sn=R(6034),bt=R(300),Ge=R(4685),$t=function(u,r){return($t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(a[h]=c[h])})(u,r)};function Rt(u){var r="function"==typeof Symbol&&Symbol.iterator,a=r&&u[r],c=0;if(a)return a.call(u);if(u&&"number"==typeof u.length)return{next:function(){return u&&c>=u.length&&(u=void 0),{value:u&&u[c++],done:!u}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}var xe,Ot="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},$e=$e||{},Re=Ot||self;function Qe(){}function Ye(u){var r=typeof u;return"array"==(r="object"!=r?r:u?Array.isArray(u)?"array":r:"null")||"object"==r&&"number"==typeof u.length}function Ne(u){var r=typeof u;return"object"==r&&null!=u||"function"==r}var Zt="closure_uid_"+(1e9*Math.random()>>>0),ot=0;function vt(u,r,a){return u.call.apply(u.bind,arguments)}function ke(u,r,a){if(!u)throw Error();if(2<arguments.length){var c=Array.prototype.slice.call(arguments,2);return function(){var h=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(h,c),u.apply(r,h)}}return function(){return u.apply(r,arguments)}}function Je(u,r,a){return(Je=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?vt:ke).apply(null,arguments)}function Yt(u,r){var a=Array.prototype.slice.call(arguments,1);return function(){var c=a.slice();return c.push.apply(c,arguments),u.apply(this,c)}}function un(u,r){function a(){}a.prototype=r.prototype,u.Z=r.prototype,u.prototype=new a,u.prototype.constructor=u,u.Vb=function(c,h,E){for(var A=Array(arguments.length-2),B=2;B<arguments.length;B++)A[B-2]=arguments[B];return r.prototype[h].apply(c,A)}}function ln(){this.s=this.s,this.o=this.o}var cr={};ln.prototype.s=!1,ln.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var u=function(u){return Object.prototype.hasOwnProperty.call(u,Zt)&&u[Zt]||(u[Zt]=++ot)}(this);delete cr[u]}},ln.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var jn=Array.prototype.indexOf?function(u,r){return Array.prototype.indexOf.call(u,r,void 0)}:function(u,r){if("string"==typeof u)return"string"!=typeof r||1!=r.length?-1:u.indexOf(r,0);for(var a=0;a<u.length;a++)if(a in u&&u[a]===r)return a;return-1},qn=Array.prototype.forEach?function(u,r,a){Array.prototype.forEach.call(u,r,a)}:function(u,r,a){for(var c=u.length,h="string"==typeof u?u.split(""):u,E=0;E<c;E++)E in h&&r.call(a,h[E],E,u)};function qt(u){return Array.prototype.concat.apply([],arguments)}function Vn(u){var r=u.length;if(0<r){for(var a=Array(r),c=0;c<r;c++)a[c]=u[c];return a}return[]}function Er(u){return/^[\s\xa0]*$/.test(u)}var mr,Sr=String.prototype.trim?function(u){return u.trim()}:function(u){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(u)[1]};function dr(u,r){return-1!=u.indexOf(r)}function Ki(u,r){return u<r?-1:u>r?1:0}e:{var Qt=Re.navigator;if(Qt){var bn=Qt.userAgent;if(bn){mr=bn;break e}}mr=""}function Qr(u,r,a){for(var c in u)r.call(a,u[c],c,u)}function ur(u){var r={};for(var a in u)r[a]=u[a];return r}var qe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function we(u,r){for(var a,c,h=1;h<arguments.length;h++){for(a in c=arguments[h])u[a]=c[a];for(var E=0;E<qe.length;E++)a=qe[E],Object.prototype.hasOwnProperty.call(c,a)&&(u[a]=c[a])}}function Ce(u){return Ce[" "](u),u}Ce[" "]=Qe;var An,u,gt=dr(mr,"Opera"),Lt=dr(mr,"Trident")||dr(mr,"MSIE"),mt=dr(mr,"Edge"),Ft=mt||Lt,On=dr(mr,"Gecko")&&!(dr(mr.toLowerCase(),"webkit")&&!dr(mr,"Edge"))&&!(dr(mr,"Trident")||dr(mr,"MSIE"))&&!dr(mr,"Edge"),Cr=dr(mr.toLowerCase(),"webkit")&&!dr(mr,"Edge");function Ar(){var u=Re.document;return u?u.documentMode:void 0}e:{var Ir="",Nn=(u=mr,On?/rv:([^\);]+)(\)|;)/.exec(u):mt?/Edge\/([\d\.]+)/.exec(u):Lt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(u):Cr?/WebKit\/(\S+)/.exec(u):gt?/(?:Version)[ \/]?(\S+)/.exec(u):void 0);if(Nn&&(Ir=Nn?Nn[1]:""),Lt){var en=Ar();if(null!=en&&en>parseFloat(Ir)){An=String(en);break e}}An=Ir}var ve={};function be(){return r=ve,Object.prototype.hasOwnProperty.call(r,9)?r[9]:r[9]=function(){for(var u=0,r=Sr(String(An)).split("."),a=Sr("9").split("."),c=Math.max(r.length,a.length),h=0;0==u&&h<c;h++){var E=r[h]||"",A=a[h]||"";do{if(E=/(\d*)(\D*)(.*)/.exec(E)||["","","",""],A=/(\d*)(\D*)(.*)/.exec(A)||["","","",""],0==E[0].length&&0==A[0].length)break;u=Ki(0==E[1].length?0:parseInt(E[1],10),0==A[1].length?0:parseInt(A[1],10))||Ki(0==E[2].length,0==A[2].length)||Ki(E[2],A[2]),E=E[3],A=A[3]}while(0==u)}return 0<=u}();var r}var He=Re.document&&Lt&&(Ar()||parseInt(An,10))||void 0,Mt=function(){if(!Re.addEventListener||!Object.defineProperty)return!1;var u=!1,r=Object.defineProperty({},"passive",{get:function(){u=!0}});try{Re.addEventListener("test",Qe,r),Re.removeEventListener("test",Qe,r)}catch(a){}return u}();function Nt(u,r){this.type=u,this.g=this.target=r,this.defaultPrevented=!1}function wn(u,r){if(Nt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var a=this.type=u.type,c=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=r,r=u.relatedTarget){if(On){e:{try{Ce(r.nodeName);var h=!0;break e}catch(E){}h=!1}h||(r=null)}}else"mouseover"==a?r=u.fromElement:"mouseout"==a&&(r=u.toElement);this.relatedTarget=r,c?(this.clientX=void 0!==c.clientX?c.clientX:c.pageX,this.clientY=void 0!==c.clientY?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0):(this.clientX=void 0!==u.clientX?u.clientX:u.pageX,this.clientY=void 0!==u.clientY?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType="string"==typeof u.pointerType?u.pointerType:Rn[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&wn.Z.h.call(this)}}Nt.prototype.h=function(){this.defaultPrevented=!0},un(wn,Nt);var Rn={2:"touch",3:"pen",4:"mouse"};wn.prototype.h=function(){wn.Z.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var _n="closure_listenable_"+(1e6*Math.random()|0),br=0;function Pr(u,r,a,c,h){this.listener=u,this.proxy=null,this.src=r,this.type=a,this.capture=!!c,this.ia=h,this.key=++br,this.ca=this.fa=!1}function rt(u){u.ca=!0,u.listener=null,u.proxy=null,u.src=null,u.ia=null}function et(u){this.src=u,this.g={},this.h=0}function it(u,r){var a=r.type;if(a in u.g){var E,c=u.g[a],h=jn(c,r);(E=0<=h)&&Array.prototype.splice.call(c,h,1),E&&(rt(r),0==u.g[a].length&&(delete u.g[a],u.h--))}}function St(u,r,a,c){for(var h=0;h<u.length;++h){var E=u[h];if(!E.ca&&E.listener==r&&E.capture==!!a&&E.ia==c)return h}return-1}et.prototype.add=function(u,r,a,c,h){var E=u.toString();(u=this.g[E])||(u=this.g[E]=[],this.h++);var A=St(u,r,c,h);return-1<A?(r=u[A],a||(r.fa=!1)):((r=new Pr(r,this.src,E,!!c,h)).fa=a,u.push(r)),r};var Tt="closure_lm_"+(1e6*Math.random()|0),Kt={};function Tn(u,r,a,c,h){if(c&&c.once)return xn(u,r,a,c,h);if(Array.isArray(r)){for(var E=0;E<r.length;E++)Tn(u,r[E],a,c,h);return null}return a=Jr(a),u&&u[_n]?u.N(r,a,Ne(c)?!!c.capture:!!c,h):Xt(u,r,a,!1,c,h)}function Xt(u,r,a,c,h,E){if(!r)throw Error("Invalid event type");var A=Ne(h)?!!h.capture:!!h,B=Pn(u);if(B||(u[Tt]=B=new et(u)),(a=B.add(r,a,c,A,E)).proxy)return a;if(c=function(){var r=Ht;return function u(a){return r.call(u.src,u.listener,a)}}(),a.proxy=c,c.src=u,c.listener=a,u.addEventListener)Mt||(h=A),void 0===h&&(h=!1),u.addEventListener(r.toString(),c,h);else if(u.attachEvent)u.attachEvent(ui(r.toString()),c);else{if(!u.addListener||!u.removeListener)throw Error("addEventListener and attachEvent are unavailable.");u.addListener(c)}return a}function xn(u,r,a,c,h){if(Array.isArray(r)){for(var E=0;E<r.length;E++)xn(u,r[E],a,c,h);return null}return a=Jr(a),u&&u[_n]?u.O(r,a,Ne(c)?!!c.capture:!!c,h):Xt(u,r,a,!0,c,h)}function Wn(u,r,a,c,h){if(Array.isArray(r))for(var E=0;E<r.length;E++)Wn(u,r[E],a,c,h);else c=Ne(c)?!!c.capture:!!c,a=Jr(a),u&&u[_n]?(u=u.i,(r=String(r).toString())in u.g&&-1<(a=St(E=u.g[r],a,c,h))&&(rt(E[a]),Array.prototype.splice.call(E,a,1),0==E.length&&(delete u.g[r],u.h--))):u&&(u=Pn(u))&&(r=u.g[r.toString()],u=-1,r&&(u=St(r,a,c,h)),(a=-1<u?r[u]:null)&&Si(a))}function Si(u){if("number"!=typeof u&&u&&!u.ca){var r=u.src;if(r&&r[_n])it(r.i,u);else{var a=u.type,c=u.proxy;r.removeEventListener?r.removeEventListener(a,c,u.capture):r.detachEvent?r.detachEvent(ui(a),c):r.addListener&&r.removeListener&&r.removeListener(c),(a=Pn(r))?(it(a,u),0==a.h&&(a.src=null,r[Tt]=null)):rt(u)}}}function ui(u){return u in Kt?Kt[u]:Kt[u]="on"+u}function Ht(u,r){if(u.ca)u=!0;else{r=new wn(r,this);var a=u.listener,c=u.ia||u.src;u.fa&&Si(u),u=a.call(c,r)}return u}function Pn(u){return(u=u[Tt])instanceof et?u:null}var Cn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jr(u){return"function"==typeof u?u:(u[Cn]||(u[Cn]=function(r){return u.handleEvent(r)}),u[Cn])}function tr(){ln.call(this),this.i=new et(this),this.P=this,this.I=null}function Ln(u,r){var a,c=u.I;if(c)for(a=[];c;c=c.I)a.push(c);if(u=u.P,c=r.type||r,"string"==typeof r)r=new Nt(r,u);else if(r instanceof Nt)r.target=r.target||u;else{var h=r;we(r=new Nt(c,u),h)}if(h=!0,a)for(var E=a.length-1;0<=E;E--){var A=r.g=a[E];h=Ai(A,c,!0,r)&&h}if(h=Ai(A=r.g=u,c,!0,r)&&h,h=Ai(A,c,!1,r)&&h,a)for(E=0;E<a.length;E++)h=Ai(A=r.g=a[E],c,!1,r)&&h}function Ai(u,r,a,c){if(!(r=u.i.g[String(r)]))return!0;r=r.concat();for(var h=!0,E=0;E<r.length;++E){var A=r[E];if(A&&!A.ca&&A.capture==a){var B=A.listener,Y=A.ia||A.src;A.fa&&it(u.i,A),h=!1!==B.call(Y,c)&&h}}return h&&!c.defaultPrevented}un(tr,ln),tr.prototype[_n]=!0,tr.prototype.removeEventListener=function(u,r,a,c){Wn(this,u,r,a,c)},tr.prototype.M=function(){if(tr.Z.M.call(this),this.i){var r,u=this.i;for(r in u.g){for(var a=u.g[r],c=0;c<a.length;c++)rt(a[c]);delete u.g[r],u.h--}}this.I=null},tr.prototype.N=function(u,r,a,c){return this.i.add(String(u),r,!1,a,c)},tr.prototype.O=function(u,r,a,c){return this.i.add(String(u),r,!0,a,c)};var Dr=Re.JSON.stringify;function js(){var u=Hi,r=null;return u.g&&(r=u.g,u.g=u.g.next,u.g||(u.h=null),r.next=null),r}var qi,ri=function(){function u(){this.h=this.g=null}return u.prototype.add=function(r,a){var c=Sn.get();c.set(r,a),this.h?this.h.next=c:this.g=c,this.h=c},u}(),Sn=new(function(){function u(r,a){this.i=r,this.j=a,this.h=0,this.g=null}return u.prototype.get=function(){var r;return 0<this.h?(this.h--,this.g=(r=this.g).next,r.next=null):r=this.i(),r},u}())(function(){return new Zi},function(u){return u.reset()}),Zi=function(){function u(){this.next=this.g=this.h=null}return u.prototype.set=function(r,a){this.h=r,this.g=a,this.next=null},u.prototype.reset=function(){this.next=this.g=this.h=null},u}();function li(u){Re.setTimeout(function(){throw u},0)}function ss(u,r){qi||function(){var u=Re.Promise.resolve(void 0);qi=function(){u.then(Kr)}}(),ji||(qi(),ji=!0),Hi.add(u,r)}var ji=!1,Hi=new ri;function Kr(){for(var u;u=js();){try{u.h.call(u.g)}catch(a){li(a)}var r=Sn;r.j(u),100>r.h&&(r.h++,u.next=r.g,r.g=u)}ji=!1}function Gn(u,r){tr.call(this),this.h=u||1,this.g=r||Re,this.j=Je(this.kb,this),this.l=Date.now()}function Yi(u){u.da=!1,u.S&&(u.g.clearTimeout(u.S),u.S=null)}function ys(u,r,a){if("function"==typeof u)a&&(u=Je(u,a));else{if(!u||"function"!=typeof u.handleEvent)throw Error("Invalid listener argument");u=Je(u.handleEvent,u)}return 2147483647<Number(r)?-1:Re.setTimeout(u,r||0)}function _s(u){u.g=ys(function(){u.g=null,u.i&&(u.i=!1,_s(u))},u.j);var r=u.h;u.h=null,u.m.apply(null,r)}un(Gn,tr),(xe=Gn.prototype).da=!1,xe.S=null,xe.kb=function(){if(this.da){var u=Date.now()-this.l;0<u&&u<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-u):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ln(this,"tick"),this.da&&(Yi(this),this.start()))}},xe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},xe.M=function(){Gn.Z.M.call(this),Yi(this),delete this.g};var Qs=function(u){function r(a,c){var h=u.call(this)||this;return h.m=a,h.j=c,h.h=null,h.i=!1,h.g=null,h}return function(u,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function a(){this.constructor=u}$t(u,r),u.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}(r,u),r.prototype.l=function(a){this.h=arguments,this.g?this.i=!0:_s(this)},r.prototype.M=function(){u.prototype.M.call(this),this.g&&(Re.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},r}(ln);function ci(u){ln.call(this),this.h=u,this.g={}}un(ci,ln);var yi=[];function di(u,r,a,c){Array.isArray(a)||(a&&(yi[0]=a.toString()),a=yi);for(var h=0;h<a.length;h++){var E=Tn(r,a[h],c||u.handleEvent,!1,u.h||u);if(!E)break;u.g[E.key]=E}}function Or(u){Qr(u.g,function(r,a){this.g.hasOwnProperty(a)&&Si(r)},u),u.g={}}function Js(){this.g=!0}function xi(u,r,a,c){u.info(function(){return"XMLHTTP TEXT ("+r+"): "+function(u,r){if(!u.g)return r;if(!r)return null;try{var a=JSON.parse(r);if(a)for(u=0;u<a.length;u++)if(Array.isArray(a[u])){var c=a[u];if(!(2>c.length)){var h=c[1];if(Array.isArray(h)&&!(1>h.length)){var E=h[0];if("noop"!=E&&"stop"!=E&&"close"!=E)for(var A=1;A<h.length;A++)h[A]=""}}}return Dr(a)}catch(B){return r}}(u,a)+(c?" "+c:"")})}ci.prototype.M=function(){ci.Z.M.call(this),Or(this)},ci.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Js.prototype.Aa=function(){this.g=!1},Js.prototype.info=function(){};var Vr={},Fn=null;function Mi(){return Fn=Fn||new tr}function vs(u){Nt.call(this,Vr.Ma,u)}function hi(u){var r=Mi();Ln(r,new vs(r,u))}function ho(u,r){Nt.call(this,Vr.STAT_EVENT,u),this.stat=r}function Ur(u){var r=Mi();Ln(r,new ho(r,u))}function Po(u,r){Nt.call(this,Vr.Na,u),this.size=r}function os(u,r){if("function"!=typeof u)throw Error("Fn must not be null and must be a function");return Re.setTimeout(function(){u()},r)}Vr.Ma="serverreachability",un(vs,Nt),Vr.STAT_EVENT="statevent",un(ho,Nt),Vr.Na="timingevent",un(Po,Nt);var yr={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Lo={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Es(){}function Hs(){}Es.prototype.h=null;var Xs,Qi={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Os(){Nt.call(this,"d")}function aa(){Nt.call(this,"c")}function ki(){}function Lr(u,r,a,c){this.l=u,this.j=r,this.m=a,this.X=c||1,this.V=new ci(this),this.P=eo,this.W=new Gn(u=Ft?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new fi}function fi(){this.i=null,this.g="",this.h=!1}un(Os,Nt),un(aa,Nt),un(ki,Es),ki.prototype.g=function(){return new XMLHttpRequest},ki.prototype.i=function(){return{}},Xs=new ki;var eo=45e3,Rs={},Ns={};function Ji(u,r,a){u.K=1,u.v=zt(ee(r)),u.s=a,u.U=!0,Xi(u,null)}function Xi(u,r){u.F=Date.now(),as(u),u.A=ee(u.v);var a=u.A,c=u.X;Array.isArray(c)||(c=[String(c)]),fo(a.h,"t",c),u.C=0,a=u.l.H,u.h=new fi,u.g=F(u.l,a?r:null,!u.s),0<u.O&&(u.L=new Qs(Je(u.Ia,u,u.g),u.O)),di(u.V,u.g,"readystatechange",u.gb),r=u.H?ur(u.H):{},u.s?(u.u||(u.u="POST"),r["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.s,r)):(u.u="GET",u.g.ea(u.A,u.u,null,r)),hi(1),function(u,r,a,c,h,E){u.info(function(){if(u.g)if(E)for(var A="",B=E.split("&"),Y=0;Y<B.length;Y++){var _e=B[Y].split("=");if(1<_e.length){var De=_e[0];_e=_e[1];var Le=De.split("_");A=2<=Le.length&&"type"==Le[1]?A+(De+"=")+_e+"&":A+(De+"=redacted&")}}else A=null;else A=E;return"XMLHTTP REQ ("+c+") [attempt "+h+"]: "+r+"\n"+a+"\n"+A})}(u.j,u.u,u.A,u.m,u.X,u.s)}function Xr(u){return!!u.g&&"GET"==u.u&&2!=u.K&&u.l.Ba}function bs(u,r,a){for(var h,c=!0;!u.I&&u.C<a.length;){if((h=$s(u,a))==Ns){4==r&&(u.o=4,Ur(14),c=!1),xi(u.j,u.m,null,"[Incomplete Response]");break}if(h==Rs){u.o=4,Ur(15),xi(u.j,u.m,a,"[Invalid Chunk]"),c=!1;break}xi(u.j,u.m,h,null),k(u,h)}Xr(u)&&h!=Ns&&h!=Rs&&(u.h.g="",u.C=0),4!=r||0!=a.length||u.h.h||(u.o=1,Ur(16),c=!1),u.i=u.i&&c,c?0<a.length&&!u.aa&&(u.aa=!0,(r=u.l).g==u&&r.$&&!r.L&&(r.h.info("Great, no buffering proxy detected. Bytes received: "+a.length),Cs(r),r.L=!0,Ur(11))):(xi(u.j,u.m,a,"[Invalid Chunked Response]"),j(u),G(u))}function $s(u,r){var a=u.C,c=r.indexOf("\n",a);return-1==c?Ns:(a=Number(r.substring(a,c)),isNaN(a)?Rs:(c+=1)+a>r.length?Ns:(r=r.substr(c,a),u.C=c+a,r))}function as(u){u.Y=Date.now()+u.P,us(u,u.P)}function us(u,r){if(null!=u.B)throw Error("WatchDog timer not null");u.B=os(Je(u.eb,u),r)}function Ei(u){u.B&&(Re.clearTimeout(u.B),u.B=null)}function G(u){0==u.l.G||u.I||Oa(u.l,u)}function j(u){Ei(u);var r=u.L;r&&"function"==typeof r.na&&r.na(),u.L=null,Yi(u.W),Or(u.V),u.g&&(r=u.g,u.g=null,r.abort(),r.na())}function k(u,r){try{var a=u.l;if(0!=a.G&&(a.g==u||jr(a.i,u)))if(a.I=u.N,!u.J&&jr(a.i,u)&&3==a.G){try{var c=a.Ca.g.parse(r)}catch(Yn){c=null}if(Array.isArray(c)&&3==c.length){var h=c;if(0==h[0])e:if(a.u)a.ta=h[1],0<a.ta-a.U&&37500>h[2]&&a.N&&0==a.A&&!a.v&&(a.v=os(Je(a.ab,a),6e3));else{if(a.g){if(!(a.g.F+3e3<u.F))break e;Uo(a),Ps(a)}ha(a),Ur(18)}if(1>=Da(a.i)&&a.ka){try{a.ka()}catch(Yn){}a.ka=void 0}}else Is(a,11)}else if((u.J||a.g==u)&&Uo(a),!Er(r))for(h=a.Ca.g.parse(r),r=0;r<h.length;r++){var E=h[r];if(a.U=E[0],E=E[1],2==a.G)if("c"==E[0]){a.J=E[1],a.la=E[2];var A=E[3];null!=A&&(a.ma=A,a.h.info("VER="+a.ma));var B=E[4];null!=B&&(a.za=B,a.h.info("SVER="+a.za));var Y=E[5];null!=Y&&"number"==typeof Y&&0<Y&&(a.K=c=1.5*Y,a.h.info("backChannelRequestTimeoutMs_="+c)),c=a;var _e=u.g;if(_e){var De=_e.g?_e.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(De){var Le=c.i;!Le.g&&(dr(De,"spdy")||dr(De,"quic")||dr(De,"h2"))&&(Le.j=Le.l,Le.g=new Set,Le.h&&(Ko(Le,Le.h),Le.h=null))}if(c.D){var lt=_e.g?_e.g.getResponseHeader("X-HTTP-Session-Id"):null;lt&&(c.sa=lt,ht(c.F,c.D,lt))}}a.G=3,a.j&&a.j.xa(),a.$&&(a.O=Date.now()-u.F,a.h.info("Handshake RTT: "+a.O+"ms"));var Ct=u;if((c=a).oa=I(c,c.H?c.la:null,c.W),Ct.J){go(c.i,Ct);var jt=Ct,En=c.K;En&&jt.setTimeout(En),jt.B&&(Ei(jt),as(jt)),c.g=Ct}else wo(c);0<a.l.length&&xa(a)}else"stop"!=E[0]&&"close"!=E[0]||Is(a,7);else 3==a.G&&("stop"==E[0]||"close"==E[0]?"stop"==E[0]?Is(a,7):ei(a):"noop"!=E[0]&&a.j&&a.j.wa(E),a.A=0)}hi(4)}catch(Yn){}}function tt(u,r){if(u.forEach&&"function"==typeof u.forEach)u.forEach(r,void 0);else if(Ye(u)||"string"==typeof u)qn(u,r,void 0);else{if(u.T&&"function"==typeof u.T)var a=u.T();else if(u.R&&"function"==typeof u.R)a=void 0;else if(Ye(u)||"string"==typeof u){a=[];for(var c=u.length,h=0;h<c;h++)a.push(h)}else for(h in a=[],c=0,u)a[c++]=h;h=(c=function(u){if(u.R&&"function"==typeof u.R)return u.R();if("string"==typeof u)return u.split("");if(Ye(u)){for(var r=[],a=u.length,c=0;c<a;c++)r.push(u[c]);return r}for(c in r=[],a=0,u)r[a++]=u[c];return r}(u)).length;for(var E=0;E<h;E++)r.call(void 0,c[E],a&&a[E],u)}}function Gt(u,r){this.h={},this.g=[],this.i=0;var a=arguments.length;if(1<a){if(a%2)throw Error("Uneven number of arguments");for(var c=0;c<a;c+=2)this.set(arguments[c],arguments[c+1])}else if(u)if(u instanceof Gt)for(a=u.T(),c=0;c<a.length;c++)this.set(a[c],u.get(a[c]));else for(c in u)this.set(c,u[c])}function sr(u){if(u.i!=u.g.length){for(var r=0,a=0;r<u.g.length;){var c=u.g[r];Zr(u.h,c)&&(u.g[a++]=c),r++}u.g.length=a}if(u.i!=u.g.length){var h={};for(a=r=0;r<u.g.length;)Zr(h,c=u.g[r])||(u.g[a++]=c,h[c]=1),r++;u.g.length=a}}function Zr(u,r){return Object.prototype.hasOwnProperty.call(u,r)}(xe=Lr.prototype).setTimeout=function(u){this.P=u},xe.gb=function(u){u=u.target;var r=this.L;r&&3==ro(u)?r.l():this.Ia(u)},xe.Ia=function(u){try{if(u==this.g)e:{var r=ro(this.g),a=this.g.Da(),c=this.g.ba();if(!(3>r)&&(3!=r||Ft||this.g&&(this.h.h||this.g.ga()||gi(this.g)))){this.I||4!=r||7==a||hi(8==a||0>=c?3:2),Ei(this);var h=this.g.ba();this.N=h;t:if(Xr(this)){var E=gi(this.g);u="";var A=E.length,B=4==ro(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){j(this),G(this);var Y="";break t}this.h.i=new Re.TextDecoder}for(a=0;a<A;a++)this.h.h=!0,u+=this.h.i.decode(E[a],{stream:B&&a==A-1});E.splice(0,A),this.h.g+=u,this.C=0,Y=this.h.g}else Y=this.g.ga();if(this.i=200==h,function(u,r,a,c,h,E,A){u.info(function(){return"XMLHTTP RESP ("+c+") [ attempt "+h+"]: "+r+"\n"+a+"\n"+E+" "+A})}(this.j,this.u,this.A,this.m,this.X,r,h),this.i){if(this.$&&!this.J){t:{if(this.g){var _e,De=this.g;if((_e=De.g?De.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Er(_e)){var Le=_e;break t}}Le=null}if(!(h=Le)){this.i=!1,this.o=3,Ur(12),j(this),G(this);break e}xi(this.j,this.m,h,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,k(this,h)}this.U?(bs(this,r,Y),Ft&&this.i&&3==r&&(di(this.V,this.W,"tick",this.fb),this.W.start())):(xi(this.j,this.m,Y,null),k(this,Y)),4==r&&j(this),this.i&&!this.I&&(4==r?Oa(this.l,this):(this.i=!1,as(this)))}else 400==h&&0<Y.indexOf("Unknown SID")?(this.o=3,Ur(12)):(this.o=0,Ur(13)),j(this),G(this)}}}catch(lt){}},xe.fb=function(){if(this.g){var u=ro(this.g),r=this.g.ga();this.C<r.length&&(Ei(this),bs(this,u,r),this.i&&4!=u&&as(this))}},xe.cancel=function(){this.I=!0,j(this)},xe.eb=function(){this.B=null;var u=Date.now();0<=u-this.Y?(function(u,r){u.info(function(){return"TIMEOUT: "+r})}(this.j,this.A),2!=this.K&&(hi(3),Ur(17)),j(this),this.o=2,G(this)):us(this,this.Y-u)},(xe=Gt.prototype).R=function(){sr(this);for(var u=[],r=0;r<this.g.length;r++)u.push(this.h[this.g[r]]);return u},xe.T=function(){return sr(this),this.g.concat()},xe.get=function(u,r){return Zr(this.h,u)?this.h[u]:r},xe.set=function(u,r){Zr(this.h,u)||(this.i++,this.g.push(u)),this.h[u]=r},xe.forEach=function(u,r){for(var a=this.T(),c=0;c<a.length;c++){var h=a[c],E=this.get(h);u.call(r,E,h,this)}};var ii=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function U(u,r){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,u instanceof U){this.g=void 0!==r?r:u.g,$(this,u.j),this.s=u.s,ae(this,u.i),Ie(this,u.m),this.l=u.l,r=u.h;var a=new bi;a.i=r.i,r.g&&(a.g=new Gt(r.g),a.h=r.h),at(this,a),this.o=u.o}else u&&(a=String(u).match(ii))?(this.g=!!r,$(this,a[1]||"",!0),this.s=lr(a[2]||""),ae(this,a[3]||"",!0),Ie(this,a[4]),this.l=lr(a[5]||"",!0),at(this,a[6]||"",!0),this.o=lr(a[7]||"")):(this.g=!!r,this.h=new bi(null,this.g))}function ee(u){return new U(u)}function $(u,r,a){u.j=a?lr(r,!0):r,u.j&&(u.j=u.j.replace(/:$/,""))}function ae(u,r,a){u.i=a?lr(r,!0):r}function Ie(u,r){if(r){if(r=Number(r),isNaN(r)||0>r)throw Error("Bad port number "+r);u.m=r}else u.m=null}function at(u,r,a){r instanceof bi?(u.h=r,function(u,r){r&&!u.j&&(dn(u),u.i=null,u.g.forEach(function(a,c){var h=c.toLowerCase();c!=h&&(pi(this,c),fo(this,h,a))},u)),u.j=r}(u.h,u.g)):(a||(r=In(r,kr)),u.h=new bi(r,u.g))}function ht(u,r,a){u.h.set(r,a)}function zt(u){return ht(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function lr(u,r){return u?r?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function In(u,r,a){return"string"==typeof u?(u=encodeURI(u).replace(r,fr),a&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function fr(u){return"%"+((u=u.charCodeAt(0))>>4&15).toString(16)+(15&u).toString(16)}U.prototype.toString=function(){var u=[],r=this.j;r&&u.push(In(r,nr,!0),":");var a=this.i;return(a||"file"==r)&&(u.push("//"),(r=this.s)&&u.push(In(r,nr,!0),"@"),u.push(encodeURIComponent(String(a)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(a=this.m)&&u.push(":",String(a))),(a=this.l)&&(this.i&&"/"!=a.charAt(0)&&u.push("/"),u.push(In(a,"/"==a.charAt(0)?to:qr,!0))),(a=this.h.toString())&&u.push("?",a),(a=this.o)&&u.push("#",In(a,no)),u.join("")};var nr=/[#\/\?@]/g,qr=/[#\?:]/g,to=/[#\?]/g,kr=/[#\?@]/g,no=/#/g;function bi(u,r){this.h=this.g=null,this.i=u||null,this.j=!!r}function dn(u){u.g||(u.g=new Gt,u.h=0,u.i&&function(u,r){if(u){u=u.split("&");for(var a=0;a<u.length;a++){var c=u[a].indexOf("="),h=null;if(0<=c){var E=u[a].substring(0,c);h=u[a].substring(c+1)}else E=u[a];r(E,h?decodeURIComponent(h.replace(/\+/g," ")):"")}}}(u.i,function(r,a){u.add(decodeURIComponent(r.replace(/\+/g," ")),a)}))}function pi(u,r){dn(u),r=zo(u,r),Zr(u.g.h,r)&&(u.i=null,u.h-=u.g.get(r).length,Zr((u=u.g).h,r)&&(delete u.h[r],u.i--,u.g.length>2*u.i&&sr(u)))}function Fo(u,r){return dn(u),r=zo(u,r),Zr(u.g.h,r)}function fo(u,r,a){pi(u,r),0<a.length&&(u.i=null,u.g.set(zo(u,r),Vn(a)),u.h+=a.length)}function zo(u,r){return r=String(r),u.j&&(r=r.toLowerCase()),r}(xe=bi.prototype).add=function(u,r){dn(this),this.i=null,u=zo(this,u);var a=this.g.get(u);return a||this.g.set(u,a=[]),a.push(r),this.h+=1,this},xe.forEach=function(u,r){dn(this),this.g.forEach(function(a,c){qn(a,function(h){u.call(r,h,c,this)},this)},this)},xe.T=function(){dn(this);for(var u=this.g.R(),r=this.g.T(),a=[],c=0;c<r.length;c++)for(var h=u[c],E=0;E<h.length;E++)a.push(r[c]);return a},xe.R=function(u){dn(this);var r=[];if("string"==typeof u)Fo(this,u)&&(r=qt(r,this.g.get(zo(this,u))));else{u=this.g.R();for(var a=0;a<u.length;a++)r=qt(r,u[a])}return r},xe.set=function(u,r){return dn(this),this.i=null,Fo(this,u=zo(this,u))&&(this.h-=this.g.get(u).length),this.g.set(u,[r]),this.h+=1,this},xe.get=function(u,r){return u&&0<(u=this.R(u)).length?String(u[0]):r},xe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var u=[],r=this.g.T(),a=0;a<r.length;a++){var c=r[a],h=encodeURIComponent(String(c));c=this.R(c);for(var E=0;E<c.length;E++){var A=h;""!==c[E]&&(A+="="+encodeURIComponent(String(c[E]))),u.push(A)}}return this.i=u.join("&")};var cu=function(r,a){this.h=r,this.g=a};function po(u){this.l=u||It,u=Re.PerformanceNavigationTiming?0<(u=Re.performance.getEntriesByType("navigation")).length&&("hq"==u[0].nextHopProtocol||"h2"==u[0].nextHopProtocol):!!(Re.g&&Re.g.Ea&&Re.g.Ea()&&Re.g.Ea().Zb),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var It=10;function Jn(u){return!!u.h||!!u.g&&u.g.size>=u.j}function Da(u){return u.h?1:u.g?u.g.size:0}function jr(u,r){return u.h?u.h==r:!!u.g&&u.g.has(r)}function Ko(u,r){u.g?u.g.add(r):u.h=r}function go(u,r){u.h&&u.h==r?u.h=null:u.g&&u.g.has(r)&&u.g.delete(r)}function ls(u){var r,a;if(null!=u.h)return u.i.concat(u.h.D);if(null!=u.g&&0!==u.g.size){var c=u.i;try{for(var h=Rt(u.g.values()),E=h.next();!E.done;E=h.next())c=c.concat(E.value.D)}catch(B){r={error:B}}finally{try{E&&!E.done&&(a=h.return)&&a.call(h)}finally{if(r)throw r.error}}return c}return Vn(u.i)}function Zo(){}function Ta(){this.g=new Zo}function $a(u,r,a){var c=a||"";try{tt(u,function(h,E){var A=h;Ne(h)&&(A=Dr(h)),r.push(c+E+"="+encodeURIComponent(A))})}catch(h){throw r.push(c+"type="+encodeURIComponent("_badmap")),h}}function ws(u,r,a,c,h){try{r.onload=null,r.onerror=null,r.onabort=null,r.ontimeout=null,h(c)}catch(E){}}function mo(u){this.l=u.$b||null,this.j=u.ib||!1}function Rr(u,r){tr.call(this),this.D=u,this.u=r,this.m=void 0,this.readyState=es,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}po.prototype.cancel=function(){var u,r;if(this.i=ls(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var a=Rt(this.g.values()),c=a.next();!c.done;c=a.next())c.value.cancel()}catch(E){u={error:E}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(u)throw u.error}}this.g.clear()}},Zo.prototype.stringify=function(u){return Re.JSON.stringify(u,void 0)},Zo.prototype.parse=function(u){return Re.JSON.parse(u,void 0)},un(mo,Es),mo.prototype.g=function(){return new Rr(this.l,this.j)},mo.prototype.i=function(u){return function(){return u}}({}),un(Rr,tr);var es=0;function Vo(u){u.j.read().then(u.Sa.bind(u)).catch(u.ha.bind(u))}function $i(u){u.readyState=4,u.l=null,u.j=null,u.A=null,Wi(u)}function Wi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}(xe=Rr.prototype).open=function(u,r){if(this.readyState!=es)throw this.abort(),Error("Error reopening a connection");this.C=u,this.B=r,this.readyState=1,Wi(this)},xe.send=function(u){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var r={headers:this.v,method:this.C,credentials:this.m,cache:void 0};u&&(r.body=u),(this.D||Re).fetch(new Request(this.B,r)).then(this.Va.bind(this),this.ha.bind(this))},xe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,$i(this)),this.readyState=es},xe.Va=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Wi(this)),this.g&&(this.readyState=3,Wi(this),this.g)))if("arraybuffer"===this.responseType)u.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Re.ReadableStream&&"body"in u){if(this.j=u.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Vo(this)}else u.text().then(this.Ua.bind(this),this.ha.bind(this))},xe.Sa=function(u){if(this.g){if(this.u&&u.value)this.response.push(u.value);else if(!this.u){var r=u.value?u.value:new Uint8Array(0);(r=this.A.decode(r,{stream:!u.done}))&&(this.response=this.responseText+=r)}u.done?$i(this):Wi(this),3==this.readyState&&Vo(this)}},xe.Ua=function(u){this.g&&(this.response=this.responseText=u,$i(this))},xe.Ta=function(u){this.g&&(this.response=u,$i(this))},xe.ha=function(){this.g&&$i(this)},xe.setRequestHeader=function(u,r){this.v.append(u,r)},xe.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},xe.getAllResponseHeaders=function(){if(!this.h)return"";for(var u=[],r=this.h.entries(),a=r.next();!a.done;)u.push((a=a.value)[0]+": "+a[1]),a=r.next();return u.join("\r\n")},Object.defineProperty(Rr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(u){this.m=u?"include":"same-origin"}});var hu=Re.JSON.parse;function Hr(u){tr.call(this),this.headers=new Gt,this.u=u||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=qo,this.K=this.L=!1}un(Hr,tr);var qo="",Sa=/^https?$/i,ua=["POST","PUT"];function Yo(u){return"content-type"==u.toLowerCase()}function _o(u,r){u.h=!1,u.g&&(u.l=!0,u.g.abort(),u.l=!1),u.j=r,u.m=5,la(u),Ws(u)}function la(u){u.D||(u.D=!0,Ln(u,"complete"),Ln(u,"error"))}function vo(u){if(u.h&&void 0!==$e&&(!u.C[1]||4!=ro(u)||2!=u.ba()))if(u.v&&4==ro(u))ys(u.Fa,0,u);else if(Ln(u,"readystatechange"),4==ro(u)){u.h=!1;try{var c,r=u.ba();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var a=!0;break e;default:a=!1}if(!(c=a)){var h;if(h=0===r){var E=String(u.H).match(ii)[1]||null;if(!E&&Re.self&&Re.self.location){var A=Re.self.location.protocol;E=A.substr(0,A.length-1)}h=!Sa.test(E?E.toLowerCase():"")}c=h}if(c)Ln(u,"complete"),Ln(u,"success");else{u.m=6;try{var B=2<ro(u)?u.g.statusText:""}catch(Y){B=""}u.j=B+" ["+u.ba()+"]",la(u)}}finally{Ws(u)}}}function Ws(u,r){if(u.g){Wa(u);var a=u.g,c=u.C[0]?Qe:null;u.g=null,u.C=null,r||Ln(u,"ready");try{a.onreadystatechange=c}catch(h){}}}function Wa(u){u.g&&u.K&&(u.g.ontimeout=null),u.A&&(Re.clearTimeout(u.A),u.A=null)}function ro(u){return u.g?u.g.readyState:0}function gi(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.J){case qo:case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch(r){return null}}function Gs(u,r,a){e:{for(c in a){var c=!1;break e}c=!0}c||(a=function(u){var r="";return Qr(u,function(a,c){r+=c,r+=":",r+=a,r+="\r\n"}),r}(a),"string"==typeof u?null!=a&&encodeURIComponent(String(a)):ht(u,r,a))}function ca(u,r,a){return a&&a.internalChannelParams&&a.internalChannelParams[u]||r}function Aa(u){this.za=0,this.l=[],this.h=new Js,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ca("failFast",!1,u),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ca("baseRetryDelayMs",5e3,u),this.$a=ca("retryDelaySeedMs",1e4,u),this.Ya=ca("forwardChannelMaxRetries",2,u),this.ra=ca("forwardChannelRequestTimeoutMs",2e4,u),this.qa=u&&u.xmlHttpFactory||void 0,this.Ba=u&&u.Yb||!1,this.K=void 0,this.H=u&&u.supportsCrossDomainXhr||!1,this.J="",this.i=new po(u&&u.concurrentRequestLimit),this.Ca=new Ta,this.ja=u&&u.fastHandshake||!1,this.Ra=u&&u.Wb||!1,u&&u.Aa&&this.h.Aa(),u&&u.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&u&&u.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!u||!1!==u.Xb}function ei(u){if(Br(u),3==u.G){var r=u.V++,a=ee(u.F);ht(a,"SID",u.J),ht(a,"RID",r),ht(a,"TYPE","terminate"),bo(u,a),(r=new Lr(u,u.h,r,void 0)).K=2,r.v=zt(ee(a)),a=!1,Re.navigator&&Re.navigator.sendBeacon&&(a=Re.navigator.sendBeacon(r.v.toString(),"")),!a&&Re.Image&&((new Image).src=r.v,a=!0),a||(r.g=F(r.l,null),r.g.ea(r.v)),r.F=Date.now(),as(r)}he(u)}function Ps(u){u.g&&(Cs(u),u.g.cancel(),u.g=null)}function Br(u){Ps(u),u.u&&(Re.clearTimeout(u.u),u.u=null),Uo(u),u.i.cancel(),u.m&&("number"==typeof u.m&&Re.clearTimeout(u.m),u.m=null)}function da(u,r){u.l.push(new cu(u.Za++,r)),3==u.G&&xa(u)}function xa(u){Jn(u.i)||u.m||(u.m=!0,ss(u.Ha,u),u.C=0)}function Eo(u,r){var a;a=r?r.m:u.V++;var c=ee(u.F);ht(c,"SID",u.J),ht(c,"RID",a),ht(c,"AID",u.U),bo(u,c),u.o&&u.s&&Gs(c,u.o,u.s),a=new Lr(u,u.h,a,u.C+1),null===u.o&&(a.H=u.s),r&&(u.l=r.D.concat(u.l)),r=Ga(u,a,1e3),a.setTimeout(Math.round(.5*u.ra)+Math.round(.5*u.ra*Math.random())),Ko(u.i,a),Ji(a,c,r)}function bo(u,r){u.j&&tt({},function(a,c){ht(r,c,a)})}function Ga(u,r,a){a=Math.min(u.l.length,a);var c=u.j?Je(u.j.Oa,u.j,u):null;e:for(var h=u.l,E=-1;;){var A=["count="+a];-1==E?0<a?A.push("ofs="+(E=h[0].h)):E=0:A.push("ofs="+E);for(var B=!0,Y=0;Y<a;Y++){var _e=h[Y].h,De=h[Y].g;if(0>(_e-=E))E=Math.max(0,h[Y].h-100),B=!1;else try{$a(De,A,"req"+_e+"_")}catch(Le){c&&c(De)}}if(B){c=A.join("&");break e}}return u=u.l.splice(0,a),r.D=u,c}function wo(u){u.g||u.u||(u.Y=1,ss(u.Ga,u),u.A=0)}function ha(u){return!(u.g||u.u||3<=u.A||(u.Y++,u.u=os(Je(u.Ga,u),cs(u,u.A)),u.A++,0))}function Cs(u){null!=u.B&&(Re.clearTimeout(u.B),u.B=null)}function Co(u){u.g=new Lr(u,u.h,"rpc",u.Y),null===u.o&&(u.g.H=u.s),u.g.O=0;var r=ee(u.oa);ht(r,"RID","rpc"),ht(r,"SID",u.J),ht(r,"CI",u.N?"0":"1"),ht(r,"AID",u.U),bo(u,r),ht(r,"TYPE","xmlhttp"),u.o&&u.s&&Gs(r,u.o,u.s),u.K&&u.g.setTimeout(u.K);var a=u.g;u=u.la,a.K=1,a.v=zt(ee(r)),a.s=null,a.U=!0,Xi(a,u)}function Uo(u){null!=u.v&&(Re.clearTimeout(u.v),u.v=null)}function Oa(u,r){var a=null;if(u.g==r){Uo(u),Cs(u),u.g=null;var c=2}else{if(!jr(u.i,r))return;a=r.D,go(u.i,r),c=1}if(u.I=r.N,0!=u.G)if(r.i)if(1==c){a=r.s?r.s.length:0,r=Date.now()-r.F;var h=u.C;Ln(c=Mi(),new Po(c,a,r,h)),xa(u)}else wo(u);else if(3==(h=r.o)||0==h&&0<u.I||!(1==c&&function(u,r){return!(Da(u.i)>=u.i.j-(u.m?1:0)||(u.m?(u.l=r.D.concat(u.l),0):1==u.G||2==u.G||u.C>=(u.Xa?0:u.Ya)||(u.m=os(Je(u.Ha,u,r),cs(u,u.C)),u.C++,0)))}(u,r)||2==c&&ha(u)))switch(a&&0<a.length&&(r=u.i,r.i=r.i.concat(a)),h){case 1:Is(u,5);break;case 4:Is(u,10);break;case 3:Is(u,6);break;default:Is(u,2)}}function cs(u,r){var a=u.Pa+Math.floor(Math.random()*u.$a);return u.j||(a*=2),a*r}function Is(u,r){if(u.h.info("Error code "+r),2==r){var a=null;u.j&&(a=null);var c=Je(u.jb,u);a||(a=new U("//www.google.com/images/cleardot.gif"),Re.location&&"http"==Re.location.protocol||$(a,"https"),zt(a)),function(u,r){var a=new Js;if(Re.Image){var c=new Image;c.onload=Yt(ws,a,c,"TestLoadImage: loaded",!0,r),c.onerror=Yt(ws,a,c,"TestLoadImage: error",!1,r),c.onabort=Yt(ws,a,c,"TestLoadImage: abort",!1,r),c.ontimeout=Yt(ws,a,c,"TestLoadImage: timeout",!1,r),Re.setTimeout(function(){c.ontimeout&&c.ontimeout()},1e4),c.src=u}else r(!1)}(a.toString(),c)}else Ur(2);u.G=0,u.j&&u.j.va(r),he(u),Br(u)}function he(u){u.G=0,u.I=-1,u.j&&((0!=ls(u.i).length||0!=u.l.length)&&(u.i.i.length=0,Vn(u.l),u.l.length=0),u.j.ua())}function I(u,r,a){var c=function(u){return u instanceof U?ee(u):new U(u,void 0)}(a);if(""!=c.i)r&&ae(c,r+"."+c.i),Ie(c,c.m);else{var h=Re.location;c=function(u,r,a,c){var h=new U(null,void 0);return u&&$(h,u),r&&ae(h,r),a&&Ie(h,a),c&&(h.l=c),h}(h.protocol,r?r+"."+h.hostname:h.hostname,+h.port,a)}return u.aa&&Qr(u.aa,function(E,A){ht(c,A,E)}),a=u.sa,(r=u.D)&&a&&ht(c,r,a),ht(c,"VER",u.ma),bo(u,c),c}function F(u,r,a){if(r&&!u.H)throw Error("Can't create secondary domain capable XhrIo object.");return(r=new Hr(a&&u.Ba&&!u.qa?new mo({ib:!0}):u.qa)).L=u.H,r}function pe(){}function Be(){if(Lt&&!(10<=Number(He)))throw Error("Environmental error: no available transport.")}function ft(u,r){tr.call(this),this.g=new Aa(r),this.l=u,this.h=r&&r.messageUrlParams||null,u=r&&r.messageHeaders||null,r&&r.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.s=u,u=r&&r.initMessageHeaders||null,r&&r.messageContentType&&(u?u["X-WebChannel-Content-Type"]=r.messageContentType:u={"X-WebChannel-Content-Type":r.messageContentType}),r&&r.ya&&(u?u["X-WebChannel-Client-Profile"]=r.ya:u={"X-WebChannel-Client-Profile":r.ya}),this.g.P=u,(u=r&&r.httpHeadersOverwriteParam)&&!Er(u)&&(this.g.o=u),this.A=r&&r.supportsCrossDomainXhr||!1,this.v=r&&r.sendRawJson||!1,(r=r&&r.httpSessionIdParam)&&!Er(r)&&(this.g.D=r,null!==(u=this.h)&&r in u&&r in(u=this.h)&&delete u[r]),this.j=new $r(this)}function rn(u){Os.call(this);var r=u.__sm__;if(r){e:{for(var a in r){u=a;break e}u=void 0}(this.i=u)&&(u=this.i,r=null!==r&&u in r?r[u]:void 0),this.data=r}else this.data=u}function pr(){aa.call(this),this.status=1}function $r(u){this.g=u}(xe=Hr.prototype).ea=function(u,r,a,c){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+u);r=r?r.toUpperCase():"GET",this.H=u,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Xs.g(),this.C=function(u){return u.h||(u.h=u.i())}(this.u?this.u:Xs),this.g.onreadystatechange=Je(this.Fa,this);try{this.F=!0,this.g.open(r,String(u),!0),this.F=!1}catch(E){return void _o(this,E)}u=a||"";var h=new Gt(this.headers);c&&tt(c,function(E,A){h.set(A,E)}),c=function(u){e:{for(var r=Yo,a=u.length,c="string"==typeof u?u.split(""):u,h=0;h<a;h++)if(h in c&&r.call(void 0,c[h],h,u)){r=h;break e}r=-1}return 0>r?null:"string"==typeof u?u.charAt(r):u[r]}(h.T()),a=Re.FormData&&u instanceof Re.FormData,!(0<=jn(ua,r))||c||a||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),h.forEach(function(E,A){this.g.setRequestHeader(A,E)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Wa(this),0<this.B&&((this.K=function(u){return Lt&&be()&&"number"==typeof u.timeout&&void 0!==u.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Je(this.pa,this)):this.A=ys(this.pa,this.B,this)),this.v=!0,this.g.send(u),this.v=!1}catch(E){_o(this,E)}},xe.pa=function(){void 0!==$e&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ln(this,"timeout"),this.abort(8))},xe.abort=function(u){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=u||7,Ln(this,"complete"),Ln(this,"abort"),Ws(this))},xe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ws(this,!0)),Hr.Z.M.call(this)},xe.Fa=function(){this.s||(this.F||this.v||this.l?vo(this):this.cb())},xe.cb=function(){vo(this)},xe.ba=function(){try{return 2<ro(this)?this.g.status:-1}catch(u){return-1}},xe.ga=function(){try{return this.g?this.g.responseText:""}catch(u){return""}},xe.Qa=function(u){if(this.g){var r=this.g.responseText;return u&&0==r.indexOf(u)&&(r=r.substring(u.length)),hu(r)}},xe.Da=function(){return this.m},xe.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(xe=Aa.prototype).ma=8,xe.G=1,xe.hb=function(u){try{this.h.info("Origin Trials invoked: "+u)}catch(r){}},xe.Ha=function(u){if(this.m)if(this.m=null,1==this.G){if(!u){this.V=Math.floor(1e5*Math.random()),u=this.V++;var r=new Lr(this,this.h,u,void 0),a=this.s;if(this.P&&(a?we(a=ur(a),this.P):a=this.P),null===this.o&&(r.H=a),this.ja)e:{for(var c=0,h=0;h<this.l.length;h++){var E=this.l[h];if(void 0===(E="__data__"in E.g&&"string"==typeof(E=E.g.__data__)?E.length:void 0))break;if(4096<(c+=E)){c=h;break e}if(4096===c||h===this.l.length-1){c=h+1;break e}}c=1e3}else c=1e3;c=Ga(this,r,c),ht(h=ee(this.F),"RID",u),ht(h,"CVER",22),this.D&&ht(h,"X-HTTP-Session-Id",this.D),bo(this,h),this.o&&a&&Gs(h,this.o,a),Ko(this.i,r),this.Ra&&ht(h,"TYPE","init"),this.ja?(ht(h,"$req",c),ht(h,"SID","null"),r.$=!0,Ji(r,h,null)):Ji(r,h,c),this.G=2}}else 3==this.G&&(u?Eo(this,u):0==this.l.length||Jn(this.i)||Eo(this))},xe.Ga=function(){if(this.u=null,Co(this),this.$&&!(this.L||null==this.g||0>=this.O)){var u=2*this.O;this.h.info("BP detection timer enabled: "+u),this.B=os(Je(this.bb,this),u)}},xe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ur(10),Ps(this),Co(this))},xe.ab=function(){null!=this.v&&(this.v=null,Ps(this),ha(this),Ur(19))},xe.jb=function(u){u?(this.h.info("Successfully pinged google.com"),Ur(2)):(this.h.info("Failed to ping google.com"),Ur(1))},(xe=pe.prototype).xa=function(){},xe.wa=function(){},xe.va=function(){},xe.ua=function(){},xe.Oa=function(){},Be.prototype.g=function(u,r){return new ft(u,r)},un(ft,tr),ft.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var u=this.g,r=this.l,a=this.h||void 0;u.Wa&&(u.h.info("Origin Trials enabled."),ss(Je(u.hb,u,r))),Ur(0),u.W=r,u.aa=a||{},u.N=u.X,u.F=I(u,null,u.W),xa(u)},ft.prototype.close=function(){ei(this.g)},ft.prototype.u=function(u){if("string"==typeof u){var r={};r.__data__=u,da(this.g,r)}else this.v?((r={}).__data__=Dr(u),da(this.g,r)):da(this.g,u)},ft.prototype.M=function(){this.g.j=null,delete this.j,ei(this.g),delete this.g,ft.Z.M.call(this)},un(rn,Os),un(pr,aa),un($r,pe),$r.prototype.xa=function(){Ln(this.g,"a")},$r.prototype.wa=function(u){Ln(this.g,new rn(u))},$r.prototype.va=function(u){Ln(this.g,new pr(u))},$r.prototype.ua=function(){Ln(this.g,"b")},Be.prototype.createWebChannel=Be.prototype.g,ft.prototype.send=ft.prototype.u,ft.prototype.open=ft.prototype.m,ft.prototype.close=ft.prototype.close,yr.NO_ERROR=0,yr.TIMEOUT=8,yr.HTTP_ERROR=6,Lo.COMPLETE="complete",Hs.EventType=Qi,Qi.OPEN="a",Qi.CLOSE="b",Qi.ERROR="c",Qi.MESSAGE="d",tr.prototype.listen=tr.prototype.N,Hr.prototype.listenOnce=Hr.prototype.O,Hr.prototype.getLastError=Hr.prototype.La,Hr.prototype.getLastErrorCode=Hr.prototype.Da,Hr.prototype.getStatus=Hr.prototype.ba,Hr.prototype.getResponseJson=Hr.prototype.Qa,Hr.prototype.getResponseText=Hr.prototype.ga,Hr.prototype.send=Hr.prototype.ea;var xr=yr,ul=Lo,P=Vr,M_PROXY=10,M_NOPROXY=11,D=mo,H=Hs,Z=Hr;class Ae{constructor(r){this.uid=r}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(r){return r.uid===this.uid}}Ae.UNAUTHENTICATED=new Ae(null),Ae.GOOGLE_CREDENTIALS=new Ae("google-credentials-uid"),Ae.FIRST_PARTY=new Ae("first-party-uid"),Ae.MOCK_USER=new Ae("mock-user");let ct="9.0.0";const Wt=new bt.Yd("@firebase/firestore");function hn(){return Wt.logLevel}function wt(u,...r){if(Wt.logLevel<=bt.in.DEBUG){const a=r.map(ds);Wt.debug(`Firestore (${ct}): ${u}`,...a)}}function mn(u,...r){if(Wt.logLevel<=bt.in.ERROR){const a=r.map(ds);Wt.error(`Firestore (${ct}): ${u}`,...a)}}function wi(u,...r){if(Wt.logLevel<=bt.in.WARN){const a=r.map(ds);Wt.warn(`Firestore (${ct}): ${u}`,...a)}}function ds(u){if("string"==typeof u)return u;try{return JSON.stringify(u)}catch(a){return u}}function Jt(u="Unexpected state"){const r=`FIRESTORE (${ct}) INTERNAL ASSERTION FAILED: `+u;throw mn(r),new Error(r)}function pn(u,r){u||Jt()}function kt(u,r){return u}const st={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xt extends Error{constructor(r,a){super(a),this.code=r,this.message=a,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ts{constructor(){this.promise=new Promise((r,a)=>{this.resolve=r,this.reject=a})}}class Vu{constructor(r,a){this.user=a,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${r}`}}class fu{getToken(){return Promise.resolve(null)}invalidateToken(){}start(r,a){r.enqueueRetryable(()=>a(Ae.UNAUTHENTICATED))}shutdown(){}}class jl{constructor(r){this.token=r,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(r,a){this.changeListener=a,r.enqueueRetryable(()=>a(this.token.user))}shutdown(){this.changeListener=null}}class Cc{constructor(r){this.t=r,this.currentUser=Ae.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(r,a){var c=this;let h=this.i;const E=Y=>this.i!==h?(h=this.i,a(Y)):Promise.resolve();let A=new ts;this.o=()=>{this.i++,this.currentUser=this.u(),A.resolve(),A=new ts,r.enqueueRetryable(()=>E(this.currentUser))};const B=Y=>{r.enqueueRetryable((0,me.Z)(function*(){wt("FirebaseCredentialsProvider","Auth detected"),c.auth=Y,c.auth.addAuthTokenListener(c.o),yield A.promise,yield E(c.currentUser)}))};this.t.onInit(Y=>B(Y)),setTimeout(()=>{if(!this.auth){const Y=this.t.getImmediate({optional:!0});Y?B(Y):(wt("FirebaseCredentialsProvider","Auth not yet detected"),A.resolve(),A=new ts)}},0),r.enqueueRetryable((0,me.Z)(function*(){0===c.i&&(yield A.promise,yield E(c.currentUser))}))}getToken(){const r=this.i,a=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(a).then(c=>this.i!==r?(wt("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):c?(pn("string"==typeof c.accessToken),new Vu(c.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const r=this.auth&&this.auth.getUid();return pn(null===r||"string"==typeof r),new Ae(r)}}class ll{constructor(r,a,c){this.h=r,this.l=a,this.m=c,this.type="FirstParty",this.user=Ae.FIRST_PARTY}get authHeaders(){const r={"X-Goog-AuthUser":this.l},a=this.h.auth.getAuthHeaderValueForFirstParty([]);return a&&(r.Authorization=a),this.m&&(r["X-Goog-Iam-Authorization-Token"]=this.m),r}}class pa{constructor(r,a,c){this.h=r,this.l=a,this.m=c}getToken(){return Promise.resolve(new ll(this.h,this.l,this.m))}start(r,a){r.enqueueRetryable(()=>a(Ae.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ls{constructor(r,a){this.previousValue=r,a&&(a.sequenceNumberHandler=c=>this.g(c),this.p=c=>a.writeSequenceNumber(c))}g(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.p&&this.p(r),r}}function pu(u){const r="undefined"!=typeof self&&(self.crypto||self.msCrypto),a=new Uint8Array(u);if(r&&"function"==typeof r.getRandomValues)r.getRandomValues(a);else for(let c=0;c<u;c++)a[c]=Math.floor(256*Math.random());return a}Ls.T=-1;class ga{static I(){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=Math.floor(256/r.length)*r.length;let c="";for(;c.length<20;){const h=pu(40);for(let E=0;E<h.length;++E)c.length<20&&h[E]<a&&(c+=r.charAt(h[E]%r.length))}return c}}function er(u,r){return u<r?-1:u>r?1:0}function Bo(u,r,a){return u.length===r.length&&u.every((c,h)=>a(c,r[h]))}function za(u){return u+"\0"}class ti{constructor(r,a){if(this.seconds=r,this.nanoseconds=a,a<0)throw new xt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(a>=1e9)throw new xt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(r<-62135596800)throw new xt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r);if(r>=253402300800)throw new xt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r)}static now(){return ti.fromMillis(Date.now())}static fromDate(r){return ti.fromMillis(r.getTime())}static fromMillis(r){const a=Math.floor(r/1e3),c=Math.floor(1e6*(r-1e3*a));return new ti(a,c)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(r){return this.seconds===r.seconds?er(this.nanoseconds,r.nanoseconds):er(this.seconds,r.seconds)}isEqual(r){return r.seconds===this.seconds&&r.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Kn{constructor(r){this.timestamp=r}static fromTimestamp(r){return new Kn(r)}static min(){return new Kn(new ti(0,0))}compareTo(r){return this.timestamp._compareTo(r.timestamp)}isEqual(r){return this.timestamp.isEqual(r.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Ra(u){let r=0;for(const a in u)Object.prototype.hasOwnProperty.call(u,a)&&r++;return r}function Ka(u,r){for(const a in u)Object.prototype.hasOwnProperty.call(u,a)&&r(a,u[a])}function Ic(u){for(const r in u)if(Object.prototype.hasOwnProperty.call(u,r))return!1;return!0}class Uu{constructor(r,a,c){void 0===a?a=0:a>r.length&&Jt(),void 0===c?c=r.length-a:c>r.length-a&&Jt(),this.segments=r,this.offset=a,this.len=c}get length(){return this.len}isEqual(r){return 0===Uu.comparator(this,r)}child(r){const a=this.segments.slice(this.offset,this.limit());return r instanceof Uu?r.forEach(c=>{a.push(c)}):a.push(r),this.construct(a)}limit(){return this.offset+this.length}popFirst(r){return this.construct(this.segments,this.offset+(r=void 0===r?1:r),this.length-r)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(r){return this.segments[this.offset+r]}isEmpty(){return 0===this.length}isPrefixOf(r){if(r.length<this.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==r.get(a))return!1;return!0}isImmediateParentOf(r){if(this.length+1!==r.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==r.get(a))return!1;return!0}forEach(r){for(let a=this.offset,c=this.limit();a<c;a++)r(this.segments[a])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(r,a){const c=Math.min(r.length,a.length);for(let h=0;h<c;h++){const E=r.get(h),A=a.get(h);if(E<A)return-1;if(E>A)return 1}return r.length<a.length?-1:r.length>a.length?1:0}}class Tr extends Uu{construct(r,a,c){return new Tr(r,a,c)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...r){const a=[];for(const c of r){if(c.indexOf("//")>=0)throw new xt(st.INVALID_ARGUMENT,`Invalid segment (${c}). Paths must not contain // in them.`);a.push(...c.split("/").filter(h=>h.length>0))}return new Tr(a)}static emptyPath(){return new Tr([])}}const ld=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class or extends Uu{construct(r,a,c){return new or(r,a,c)}static isValidIdentifier(r){return ld.test(r)}canonicalString(){return this.toArray().map(r=>(r=r.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),or.isValidIdentifier(r)||(r="`"+r+"`"),r)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new or(["__name__"])}static fromServerFormat(r){const a=[];let c="",h=0;const E=()=>{if(0===c.length)throw new xt(st.INVALID_ARGUMENT,`Invalid field path (${r}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);a.push(c),c=""};let A=!1;for(;h<r.length;){const B=r[h];if("\\"===B){if(h+1===r.length)throw new xt(st.INVALID_ARGUMENT,"Path has trailing escape character: "+r);const Y=r[h+1];if("\\"!==Y&&"."!==Y&&"`"!==Y)throw new xt(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+r);c+=Y,h+=2}else"`"===B?(A=!A,h++):"."!==B||A?(c+=B,h++):(E(),h++)}if(E(),A)throw new xt(st.INVALID_ARGUMENT,"Unterminated ` in path: "+r);return new or(a)}static emptyPath(){return new or([])}}class Bu{constructor(r){this.fields=r,r.sort(or.comparator)}covers(r){for(const a of this.fields)if(a.isPrefixOf(r))return!0;return!1}isEqual(r){return Bo(this.fields,r.fields,(a,c)=>a.isEqual(c))}}class hs{constructor(r){this.binaryString=r}static fromBase64String(r){const a=atob(r);return new hs(a)}static fromUint8Array(r){const a=function(c){let h="";for(let E=0;E<c.length;++E)h+=String.fromCharCode(c[E]);return h}(r);return new hs(a)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const a=new Uint8Array(r.length);for(let c=0;c<r.length;c++)a[c]=r.charCodeAt(c);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(r){return er(this.binaryString,r.binaryString)}isEqual(r){return this.binaryString===r.binaryString}}hs.EMPTY_BYTE_STRING=new hs("");const Dc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Na(u){if(pn(!!u),"string"==typeof u){let r=0;const a=Dc.exec(u);if(pn(!!a),a[1]){let h=a[1];h=(h+"000000000").substr(0,9),r=Number(h)}const c=new Date(u);return{seconds:Math.floor(c.getTime()/1e3),nanos:r}}return{seconds:Ri(u.seconds),nanos:Ri(u.nanos)}}function Ri(u){return"number"==typeof u?u:"string"==typeof u?Number(u):0}function Hu(u){return"string"==typeof u?hs.fromBase64String(u):hs.fromUint8Array(u)}function cl(u){var r,a;return"server_timestamp"===(null===(a=((null===(r=null==u?void 0:u.mapValue)||void 0===r?void 0:r.fields)||{}).__type__)||void 0===a?void 0:a.stringValue)}function $u(u){const r=u.mapValue.fields.__previous_value__;return cl(r)?$u(r):r}function ma(u){const r=Na(u.mapValue.fields.__local_write_time__.timestampValue);return new ti(r.seconds,r.nanos)}function Za(u){return null==u}function Qo(u){return 0===u&&1/u==-1/0}function gu(u){return"number"==typeof u&&Number.isInteger(u)&&!Qo(u)&&u<=Number.MAX_SAFE_INTEGER&&u>=Number.MIN_SAFE_INTEGER}class Bt{constructor(r){this.path=r}static fromPath(r){return new Bt(Tr.fromString(r))}static fromName(r){return new Bt(Tr.fromString(r).popFirst(5))}hasCollectionId(r){return this.path.length>=2&&this.path.get(this.path.length-2)===r}isEqual(r){return null!==r&&0===Tr.comparator(this.path,r.path)}toString(){return this.path.toString()}static comparator(r,a){return Tr.comparator(r.path,a.path)}static isDocumentKey(r){return r.length%2==0}static fromSegments(r){return new Bt(new Tr(r.slice()))}}function Io(u){return"nullValue"in u?0:"booleanValue"in u?1:"integerValue"in u||"doubleValue"in u?2:"timestampValue"in u?3:"stringValue"in u?5:"bytesValue"in u?6:"referenceValue"in u?7:"geoPointValue"in u?8:"arrayValue"in u?9:"mapValue"in u?cl(u)?4:10:Jt()}function oo(u,r){const a=Io(u);if(a!==Io(r))return!1;switch(a){case 0:return!0;case 1:return u.booleanValue===r.booleanValue;case 4:return ma(u).isEqual(ma(r));case 3:return function(c,h){if("string"==typeof c.timestampValue&&"string"==typeof h.timestampValue&&c.timestampValue.length===h.timestampValue.length)return c.timestampValue===h.timestampValue;const E=Na(c.timestampValue),A=Na(h.timestampValue);return E.seconds===A.seconds&&E.nanos===A.nanos}(u,r);case 5:return u.stringValue===r.stringValue;case 6:return h=r,Hu(u.bytesValue).isEqual(Hu(h.bytesValue));case 7:return u.referenceValue===r.referenceValue;case 8:return function(c,h){return Ri(c.geoPointValue.latitude)===Ri(h.geoPointValue.latitude)&&Ri(c.geoPointValue.longitude)===Ri(h.geoPointValue.longitude)}(u,r);case 2:return function(c,h){if("integerValue"in c&&"integerValue"in h)return Ri(c.integerValue)===Ri(h.integerValue);if("doubleValue"in c&&"doubleValue"in h){const E=Ri(c.doubleValue),A=Ri(h.doubleValue);return E===A?Qo(E)===Qo(A):isNaN(E)&&isNaN(A)}return!1}(u,r);case 9:return Bo(u.arrayValue.values||[],r.arrayValue.values||[],oo);case 10:return function(c,h){const E=c.mapValue.fields||{},A=h.mapValue.fields||{};if(Ra(E)!==Ra(A))return!1;for(const B in E)if(E.hasOwnProperty(B)&&(void 0===A[B]||!oo(E[B],A[B])))return!1;return!0}(u,r);default:return Jt()}var h}function dl(u,r){return void 0!==(u.values||[]).find(a=>oo(a,r))}function mu(u,r){const a=Io(u),c=Io(r);if(a!==c)return er(a,c);switch(a){case 0:return 0;case 1:return er(u.booleanValue,r.booleanValue);case 2:return function(h,E){const A=Ri(h.integerValue||h.doubleValue),B=Ri(E.integerValue||E.doubleValue);return A<B?-1:A>B?1:A===B?0:isNaN(A)?isNaN(B)?0:-1:1}(u,r);case 3:return ks(u.timestampValue,r.timestampValue);case 4:return ks(ma(u),ma(r));case 5:return er(u.stringValue,r.stringValue);case 6:return function(h,E){const A=Hu(h),B=Hu(E);return A.compareTo(B)}(u.bytesValue,r.bytesValue);case 7:return function(h,E){const A=h.split("/"),B=E.split("/");for(let Y=0;Y<A.length&&Y<B.length;Y++){const _e=er(A[Y],B[Y]);if(0!==_e)return _e}return er(A.length,B.length)}(u.referenceValue,r.referenceValue);case 8:return function(h,E){const A=er(Ri(h.latitude),Ri(E.latitude));return 0!==A?A:er(Ri(h.longitude),Ri(E.longitude))}(u.geoPointValue,r.geoPointValue);case 9:return function(h,E){const A=h.values||[],B=E.values||[];for(let Y=0;Y<A.length&&Y<B.length;++Y){const _e=mu(A[Y],B[Y]);if(_e)return _e}return er(A.length,B.length)}(u.arrayValue,r.arrayValue);case 10:return function(h,E){const A=h.fields||{},B=Object.keys(A),Y=E.fields||{},_e=Object.keys(Y);B.sort(),_e.sort();for(let De=0;De<B.length&&De<_e.length;++De){const Le=er(B[De],_e[De]);if(0!==Le)return Le;const lt=mu(A[B[De]],Y[_e[De]]);if(0!==lt)return lt}return er(B.length,_e.length)}(u.mapValue,r.mapValue);default:throw Jt()}}function ks(u,r){if("string"==typeof u&&"string"==typeof r&&u.length===r.length)return er(u,r);const a=Na(u),c=Na(r),h=er(a.seconds,c.seconds);return 0!==h?h:er(a.nanos,c.nanos)}function ao(u){return qa(u)}function qa(u){return"nullValue"in u?"null":"booleanValue"in u?""+u.booleanValue:"integerValue"in u?""+u.integerValue:"doubleValue"in u?""+u.doubleValue:"timestampValue"in u?function(c){const h=Na(c);return`time(${h.seconds},${h.nanos})`}(u.timestampValue):"stringValue"in u?u.stringValue:"bytesValue"in u?Hu(u.bytesValue).toBase64():"referenceValue"in u?Bt.fromName(u.referenceValue).toString():"geoPointValue"in u?`geo(${(r=u.geoPointValue).latitude},${r.longitude})`:"arrayValue"in u?function(c){let h="[",E=!0;for(const A of c.values||[])E?E=!1:h+=",",h+=qa(A);return h+"]"}(u.arrayValue):"mapValue"in u?function(c){const h=Object.keys(c.fields||{}).sort();let E="{",A=!0;for(const B of h)A?A=!1:E+=",",E+=`${B}:${qa(c.fields[B])}`;return E+"}"}(u.mapValue):Jt();var r}function jo(u,r){return{referenceValue:`projects/${u.projectId}/databases/${u.database}/documents/${r.path.canonicalString()}`}}function uo(u){return!!u&&"integerValue"in u}function Wu(u){return!!u&&"arrayValue"in u}function hl(u){return!!u&&"nullValue"in u}function cd(u){return!!u&&"doubleValue"in u&&isNaN(Number(u.doubleValue))}function Gu(u){return!!u&&"mapValue"in u}function yu(u){if(u.geoPointValue)return{geoPointValue:Object.assign({},u.geoPointValue)};if(u.timestampValue&&"object"==typeof u.timestampValue)return{timestampValue:Object.assign({},u.timestampValue)};if(u.mapValue){const r={mapValue:{fields:{}}};return Ka(u.mapValue.fields,(a,c)=>r.mapValue.fields[a]=yu(c)),r}if(u.arrayValue){const r={arrayValue:{values:[]}};for(let a=0;a<(u.arrayValue.values||[]).length;++a)r.arrayValue.values[a]=yu(u.arrayValue.values[a]);return r}return Object.assign({},u)}class Ds{constructor(r){this.value=r}static empty(){return new Ds({mapValue:{}})}field(r){if(r.isEmpty())return this.value;{let a=this.value;for(let c=0;c<r.length-1;++c)if(a=(a.mapValue.fields||{})[r.get(c)],!Gu(a))return null;return a=(a.mapValue.fields||{})[r.lastSegment()],a||null}}set(r,a){this.getFieldsMap(r.popLast())[r.lastSegment()]=yu(a)}setAll(r){let a=or.emptyPath(),c={},h=[];r.forEach((A,B)=>{if(!a.isImmediateParentOf(B)){const Y=this.getFieldsMap(a);this.applyChanges(Y,c,h),c={},h=[],a=B.popLast()}A?c[B.lastSegment()]=yu(A):h.push(B.lastSegment())});const E=this.getFieldsMap(a);this.applyChanges(E,c,h)}delete(r){const a=this.field(r.popLast());Gu(a)&&a.mapValue.fields&&delete a.mapValue.fields[r.lastSegment()]}isEqual(r){return oo(this.value,r.value)}getFieldsMap(r){let a=this.value;a.mapValue.fields||(a.mapValue={fields:{}});for(let c=0;c<r.length;++c){let h=a.mapValue.fields[r.get(c)];Gu(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},a.mapValue.fields[r.get(c)]=h),a=h}return a.mapValue.fields}applyChanges(r,a,c){Ka(a,(h,E)=>r[h]=E);for(const h of c)delete r[h]}clone(){return new Ds(yu(this.value))}}function N(u){const r=[];return Ka(u.fields,(a,c)=>{const h=new or([a]);if(Gu(c)){const E=N(c.mapValue).fields;if(0===E.length)r.push(h);else for(const A of E)r.push(h.child(A))}else r.push(h)}),new Bu(r)}class y{constructor(r,a,c,h,E){this.key=r,this.documentType=a,this.version=c,this.data=h,this.documentState=E}static newInvalidDocument(r){return new y(r,0,Kn.min(),Ds.empty(),0)}static newFoundDocument(r,a,c){return new y(r,1,a,c,0)}static newNoDocument(r,a){return new y(r,2,a,Ds.empty(),0)}static newUnknownDocument(r,a){return new y(r,3,a,Ds.empty(),2)}convertToFoundDocument(r,a){return this.version=r,this.documentType=1,this.data=a,this.documentState=0,this}convertToNoDocument(r){return this.version=r,this.documentType=2,this.data=Ds.empty(),this.documentState=0,this}convertToUnknownDocument(r){return this.version=r,this.documentType=3,this.data=Ds.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(r){return r instanceof y&&this.key.isEqual(r.key)&&this.version.isEqual(r.version)&&this.documentType===r.documentType&&this.documentState===r.documentState&&this.data.isEqual(r.data)}clone(){return new y(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class _{constructor(r,a=null,c=[],h=[],E=null,A=null,B=null){this.path=r,this.collectionGroup=a,this.orderBy=c,this.filters=h,this.limit=E,this.startAt=A,this.endAt=B,this.A=null}}function T(u,r=null,a=[],c=[],h=null,E=null,A=null){return new _(u,r,a,c,h,E,A)}function W(u){const r=kt(u);if(null===r.A){let a=r.path.canonicalString();null!==r.collectionGroup&&(a+="|cg:"+r.collectionGroup),a+="|f:",a+=r.filters.map(c=>function(u){return u.field.canonicalString()+u.op.toString()+ao(u.value)}(c)).join(","),a+="|ob:",a+=r.orderBy.map(c=>{return(h=c).field.canonicalString()+h.dir;var h}).join(","),Za(r.limit)||(a+="|l:",a+=r.limit),r.startAt&&(a+="|lb:",a+=Fi(r.startAt)),r.endAt&&(a+="|ub:",a+=Fi(r.endAt)),r.A=a}return r.A}function Ee(u,r){if(u.limit!==r.limit||u.orderBy.length!==r.orderBy.length)return!1;for(let h=0;h<u.orderBy.length;h++)if(!Ya(u.orderBy[h],r.orderBy[h]))return!1;if(u.filters.length!==r.filters.length)return!1;for(let h=0;h<u.filters.length;h++)if((a=u.filters[h]).op!==(c=r.filters[h]).op||!a.field.isEqual(c.field)||!oo(a.value,c.value))return!1;var a,c;return u.collectionGroup===r.collectionGroup&&!!u.path.isEqual(r.path)&&!!Ci(u.startAt,r.startAt)&&Ci(u.endAt,r.endAt)}function Te(u){return Bt.isDocumentKey(u.path)&&null===u.collectionGroup&&0===u.filters.length}class je extends class{}{constructor(r,a,c){super(),this.field=r,this.op=a,this.value=c}static create(r,a,c){return r.isKeyField()?"in"===a||"not-in"===a?this.R(r,a,c):new Vt(r,a,c):"array-contains"===a?new gn(r,c):"in"===a?new Hn(r,c):"not-in"===a?new rr(r,c):"array-contains-any"===a?new si(r,c):new je(r,a,c)}static R(r,a,c){return"in"===a?new on(r,c):new Un(r,c)}matches(r){const a=r.data.field(this.field);return"!="===this.op?null!==a&&this.P(mu(a,this.value)):null!==a&&Io(this.value)===Io(a)&&this.P(mu(a,this.value))}P(r){switch(this.op){case"<":return r<0;case"<=":return r<=0;case"==":return 0===r;case"!=":return 0!==r;case">":return r>0;case">=":return r>=0;default:return Jt()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Vt extends je{constructor(r,a,c){super(r,a,c),this.key=Bt.fromName(c.referenceValue)}matches(r){const a=Bt.comparator(r.key,this.key);return this.P(a)}}class on extends je{constructor(r,a){super(r,"in",a),this.keys=gr(0,a)}matches(r){return this.keys.some(a=>a.isEqual(r.key))}}class Un extends je{constructor(r,a){super(r,"not-in",a),this.keys=gr(0,a)}matches(r){return!this.keys.some(a=>a.isEqual(r.key))}}function gr(u,r){var a;return((null===(a=r.arrayValue)||void 0===a?void 0:a.values)||[]).map(c=>Bt.fromName(c.referenceValue))}class gn extends je{constructor(r,a){super(r,"array-contains",a)}matches(r){const a=r.data.field(this.field);return Wu(a)&&dl(a.arrayValue,this.value)}}class Hn extends je{constructor(r,a){super(r,"in",a)}matches(r){const a=r.data.field(this.field);return null!==a&&dl(this.value.arrayValue,a)}}class rr extends je{constructor(r,a){super(r,"not-in",a)}matches(r){if(dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const a=r.data.field(this.field);return null!==a&&!dl(this.value.arrayValue,a)}}class si extends je{constructor(r,a){super(r,"array-contains-any",a)}matches(r){const a=r.data.field(this.field);return!(!Wu(a)||!a.arrayValue.values)&&a.arrayValue.values.some(c=>dl(this.value.arrayValue,c))}}class ni{constructor(r,a){this.position=r,this.before=a}}function Fi(u){return`${u.before?"b":"a"}:${u.position.map(r=>ao(r)).join(",")}`}class Wr{constructor(r,a="asc"){this.field=r,this.dir=a}}function Ya(u,r){return u.dir===r.dir&&u.field.isEqual(r.field)}function zs(u,r,a){let c=0;for(let h=0;h<u.position.length;h++){const E=r[h],A=u.position[h];if(c=E.field.isKeyField()?Bt.comparator(Bt.fromName(A.referenceValue),a.key):mu(A,a.data.field(E.field)),"desc"===E.dir&&(c*=-1),0!==c)break}return u.before?c<=0:c<0}function Ci(u,r){if(null===u)return null===r;if(null===r||u.before!==r.before||u.position.length!==r.position.length)return!1;for(let a=0;a<u.position.length;a++)if(!oo(u.position[a],r.position[a]))return!1;return!0}class Ii{constructor(r,a=null,c=[],h=[],E=null,A="F",B=null,Y=null){this.path=r,this.collectionGroup=a,this.explicitOrderBy=c,this.filters=h,this.limit=E,this.limitType=A,this.startAt=B,this.endAt=Y,this.V=null,this.S=null}}function Ho(u,r,a,c,h,E,A,B){return new Ii(u,r,a,c,h,E,A,B)}function _r(u){return new Ii(u)}function Qa(u){return!Za(u.limit)&&"F"===u.limitType}function Ja(u){return!Za(u.limit)&&"L"===u.limitType}function Ts(u){return u.explicitOrderBy.length>0?u.explicitOrderBy[0].field:null}function Jo(u){for(const r of u.filters)if(r.v())return r.field;return null}function fl(u){return null!==u.collectionGroup}function nn(u){const r=kt(u);if(null===r.V){r.V=[];const a=Jo(r),c=Ts(r);if(null!==a&&null===c)a.isKeyField()||r.V.push(new Wr(a)),r.V.push(new Wr(or.keyField(),"asc"));else{let h=!1;for(const E of r.explicitOrderBy)r.V.push(E),E.field.isKeyField()&&(h=!0);if(!h){const E=r.explicitOrderBy.length>0?r.explicitOrderBy[r.explicitOrderBy.length-1].dir:"asc";r.V.push(new Wr(or.keyField(),E))}}}return r.V}function cn(u){const r=kt(u);if(!r.S)if("F"===r.limitType)r.S=T(r.path,r.collectionGroup,nn(r),r.filters,r.limit,r.startAt,r.endAt);else{const a=[];for(const E of nn(r))a.push(new Wr(E.field,"desc"===E.dir?"asc":"desc"));const c=r.endAt?new ni(r.endAt.position,!r.endAt.before):null,h=r.startAt?new ni(r.startAt.position,!r.startAt.before):null;r.S=T(r.path,r.collectionGroup,a,r.filters,r.limit,c,h)}return r.S}function Bn(u,r,a){return new Ii(u.path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),r,a,u.startAt,u.endAt)}function Xn(u,r){return Ee(cn(u),cn(r))&&u.limitType===r.limitType}function Gr(u){return`${W(cn(u))}|lt:${u.limitType}`}function Ss(u){return`Query(target=${function(u){let r=u.path.canonicalString();return null!==u.collectionGroup&&(r+=" collectionGroup="+u.collectionGroup),u.filters.length>0&&(r+=`, filters: [${u.filters.map(a=>{return`${(c=a).field.canonicalString()} ${c.op} ${ao(c.value)}`;var c}).join(", ")}]`),Za(u.limit)||(r+=", limit: "+u.limit),u.orderBy.length>0&&(r+=`, orderBy: [${u.orderBy.map(a=>{return`${(c=a).field.canonicalString()} (${c.dir})`;var c}).join(", ")}]`),u.startAt&&(r+=", startAt: "+Fi(u.startAt)),u.endAt&&(r+=", endAt: "+Fi(u.endAt)),`Target(${r})`}(cn(u))}; limitType=${u.limitType})`}function oi(u,r){return r.isFoundDocument()&&function(a,c){const h=c.key.path;return null!==a.collectionGroup?c.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):Bt.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(u,r)&&function(a,c){for(const h of a.explicitOrderBy)if(!h.field.isKeyField()&&null===c.data.field(h.field))return!1;return!0}(u,r)&&function(a,c){for(const h of a.filters)if(!h.matches(c))return!1;return!0}(u,r)&&(c=r,!((a=u).startAt&&!zs(a.startAt,nn(a),c)||a.endAt&&zs(a.endAt,nn(a),c)));var a,c}function Do(u){return(r,a)=>{let c=!1;for(const h of nn(u)){const E=mi(h,r,a);if(0!==E)return E;c=c||h.field.isKeyField()}return 0}}function mi(u,r,a){const c=u.field.isKeyField()?Bt.comparator(r.key,a.key):function(h,E,A){const B=E.data.field(h),Y=A.data.field(h);return null!==B&&null!==Y?mu(B,Y):Jt()}(u.field,r,a);switch(u.dir){case"asc":return c;case"desc":return-1*c;default:return Jt()}}function pl(u,r){if(u.D){if(isNaN(r))return{doubleValue:"NaN"};if(r===1/0)return{doubleValue:"Infinity"};if(r===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qo(r)?"-0":r}}function Ks(u){return{integerValue:""+u}}function Xa(u,r){return gu(r)?Ks(r):pl(u,r)}class eu{constructor(){this._=void 0}}function tu(u,r,a){return u instanceof _u?function(c,h){const E={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return h&&(E.fields.__previous_value__=h),{mapValue:E}}(a,r):u instanceof ml?dd(u,r):u instanceof zu?Wf(u,r):function(c,h){const E=gl(c,h),A=hd(E)+hd(c.C);return uo(E)&&uo(c.C)?Ks(A):pl(c.N,A)}(u,r)}function Pa(u,r,a){return u instanceof ml?dd(u,r):u instanceof zu?Wf(u,r):a}function gl(u,r){return u instanceof yl?uo(a=r)||(c=a)&&"doubleValue"in c?r:{integerValue:0}:null;var c,a}class _u extends eu{}class ml extends eu{constructor(r){super(),this.elements=r}}function dd(u,r){const a=fh(r);for(const c of u.elements)a.some(h=>oo(h,c))||a.push(c);return{arrayValue:{values:a}}}class zu extends eu{constructor(r){super(),this.elements=r}}function Wf(u,r){let a=fh(r);for(const c of u.elements)a=a.filter(h=>!oo(h,c));return{arrayValue:{values:a}}}class yl extends eu{constructor(r,a){super(),this.N=r,this.C=a}}function hd(u){return Ri(u.integerValue||u.doubleValue)}function fh(u){return Wu(u)&&u.arrayValue.values?u.arrayValue.values.slice():[]}class vu{constructor(r,a){this.field=r,this.transform=a}}class _l{constructor(r,a){this.version=r,this.transformResults=a}}class Vi{constructor(r,a){this.updateTime=r,this.exists=a}static none(){return new Vi}static exists(r){return new Vi(void 0,r)}static updateTime(r){return new Vi(r)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(r){return this.exists===r.exists&&(this.updateTime?!!r.updateTime&&this.updateTime.isEqual(r.updateTime):!r.updateTime)}}function Tc(u,r){return void 0!==u.updateTime?r.isFoundDocument()&&r.version.isEqual(u.updateTime):void 0===u.exists||u.exists===r.isFoundDocument()}class Hl{}function Sc(u,r,a){u instanceof ya?function(c,h,E){const A=c.value.clone(),B=mh(c.fieldTransforms,h,E.transformResults);A.setAll(B),h.convertToFoundDocument(E.version,A).setHasCommittedMutations()}(u,r,a):u instanceof Eu?function(c,h,E){if(!Tc(c.precondition,h))return void h.convertToUnknownDocument(E.version);const A=mh(c.fieldTransforms,h,E.transformResults),B=h.data;B.setAll(gh(c)),B.setAll(A),h.convertToFoundDocument(E.version,B).setHasCommittedMutations()}(u,r,a):r.convertToNoDocument(a.version).setHasCommittedMutations()}function vl(u,r,a){var h;u instanceof ya?function(c,h,E){if(!Tc(c.precondition,h))return;const A=c.value.clone(),B=yh(c.fieldTransforms,E,h);A.setAll(B),h.convertToFoundDocument(pd(h),A).setHasLocalMutations()}(u,r,a):u instanceof Eu?function(c,h,E){if(!Tc(c.precondition,h))return;const A=yh(c.fieldTransforms,E,h),B=h.data;B.setAll(gh(c)),B.setAll(A),h.convertToFoundDocument(pd(h),B).setHasLocalMutations()}(u,r,a):Tc(u.precondition,h=r)&&h.convertToNoDocument(Kn.min())}function ph(u,r){let a=null;for(const c of u.fieldTransforms){const h=r.data.field(c.field),E=gl(c.transform,h||null);null!=E&&(null==a&&(a=Ds.empty()),a.set(c.field,E))}return a||null}function $l(u,r){return u.type===r.type&&!!u.key.isEqual(r.key)&&!!u.precondition.isEqual(r.precondition)&&(c=r.fieldTransforms,!!(void 0===(a=u.fieldTransforms)&&void 0===c||a&&c&&Bo(a,c,(h,E)=>function(u,r){return u.field.isEqual(r.field)&&(c=r.transform,(a=u.transform)instanceof ml&&c instanceof ml||a instanceof zu&&c instanceof zu?Bo(a.elements,c.elements,oo):a instanceof yl&&c instanceof yl?oo(a.C,c.C):a instanceof _u&&c instanceof _u);var a,c}(h,E))))&&(0===u.type?u.value.isEqual(r.value):1!==u.type||u.data.isEqual(r.data)&&u.fieldMask.isEqual(r.fieldMask));var a,c}function pd(u){return u.isFoundDocument()?u.version:Kn.min()}class ya extends Hl{constructor(r,a,c,h=[]){super(),this.key=r,this.value=a,this.precondition=c,this.fieldTransforms=h,this.type=0}}class Eu extends Hl{constructor(r,a,c,h,E=[]){super(),this.key=r,this.data=a,this.fieldMask=c,this.precondition=h,this.fieldTransforms=E,this.type=1}}function gh(u){const r=new Map;return u.fieldMask.fields.forEach(a=>{if(!a.isEmpty()){const c=u.data.field(a);r.set(a,c)}}),r}function mh(u,r,a){const c=new Map;pn(u.length===a.length);for(let h=0;h<a.length;h++){const E=u[h],A=E.transform,B=r.data.field(E.field);c.set(E.field,Pa(A,B,a[h]))}return c}function yh(u,r,a){const c=new Map;for(const h of u){const E=h.transform,A=a.data.field(h.field);c.set(h.field,tu(E,A,r))}return c}class Ac extends Hl{constructor(r,a){super(),this.key=r,this.precondition=a,this.type=2,this.fieldTransforms=[]}}class Fs extends Hl{constructor(r,a){super(),this.key=r,this.precondition=a,this.type=3,this.fieldTransforms=[]}}class El{constructor(r){this.count=r}}var Gi,vr;function _h(u){switch(u){case st.OK:return Jt();case st.CANCELLED:case st.UNKNOWN:case st.DEADLINE_EXCEEDED:case st.RESOURCE_EXHAUSTED:case st.INTERNAL:case st.UNAVAILABLE:case st.UNAUTHENTICATED:return!1;case st.INVALID_ARGUMENT:case st.NOT_FOUND:case st.ALREADY_EXISTS:case st.PERMISSION_DENIED:case st.FAILED_PRECONDITION:case st.ABORTED:case st.OUT_OF_RANGE:case st.UNIMPLEMENTED:case st.DATA_LOSS:return!0;default:return Jt()}}function xc(u){if(void 0===u)return mn("GRPC error has no .code"),st.UNKNOWN;switch(u){case Gi.OK:return st.OK;case Gi.CANCELLED:return st.CANCELLED;case Gi.UNKNOWN:return st.UNKNOWN;case Gi.DEADLINE_EXCEEDED:return st.DEADLINE_EXCEEDED;case Gi.RESOURCE_EXHAUSTED:return st.RESOURCE_EXHAUSTED;case Gi.INTERNAL:return st.INTERNAL;case Gi.UNAVAILABLE:return st.UNAVAILABLE;case Gi.UNAUTHENTICATED:return st.UNAUTHENTICATED;case Gi.INVALID_ARGUMENT:return st.INVALID_ARGUMENT;case Gi.NOT_FOUND:return st.NOT_FOUND;case Gi.ALREADY_EXISTS:return st.ALREADY_EXISTS;case Gi.PERMISSION_DENIED:return st.PERMISSION_DENIED;case Gi.FAILED_PRECONDITION:return st.FAILED_PRECONDITION;case Gi.ABORTED:return st.ABORTED;case Gi.OUT_OF_RANGE:return st.OUT_OF_RANGE;case Gi.UNIMPLEMENTED:return st.UNIMPLEMENTED;case Gi.DATA_LOSS:return st.DATA_LOSS;default:return Jt()}}(vr=Gi||(Gi={}))[vr.OK=0]="OK",vr[vr.CANCELLED=1]="CANCELLED",vr[vr.UNKNOWN=2]="UNKNOWN",vr[vr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vr[vr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vr[vr.NOT_FOUND=5]="NOT_FOUND",vr[vr.ALREADY_EXISTS=6]="ALREADY_EXISTS",vr[vr.PERMISSION_DENIED=7]="PERMISSION_DENIED",vr[vr.UNAUTHENTICATED=16]="UNAUTHENTICATED",vr[vr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vr[vr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vr[vr.ABORTED=10]="ABORTED",vr[vr.OUT_OF_RANGE=11]="OUT_OF_RANGE",vr[vr.UNIMPLEMENTED=12]="UNIMPLEMENTED",vr[vr.INTERNAL=13]="INTERNAL",vr[vr.UNAVAILABLE=14]="UNAVAILABLE",vr[vr.DATA_LOSS=15]="DATA_LOSS";class fs{constructor(r,a){this.comparator=r,this.root=a||ns.EMPTY}insert(r,a){return new fs(this.comparator,this.root.insert(r,a,this.comparator).copy(null,null,ns.BLACK,null,null))}remove(r){return new fs(this.comparator,this.root.remove(r,this.comparator).copy(null,null,ns.BLACK,null,null))}get(r){let a=this.root;for(;!a.isEmpty();){const c=this.comparator(r,a.key);if(0===c)return a.value;c<0?a=a.left:c>0&&(a=a.right)}return null}indexOf(r){let a=0,c=this.root;for(;!c.isEmpty();){const h=this.comparator(r,c.key);if(0===h)return a+c.left.size;h<0?c=c.left:(a+=c.left.size+1,c=c.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(r){return this.root.inorderTraversal(r)}forEach(r){this.inorderTraversal((a,c)=>(r(a,c),!1))}toString(){const r=[];return this.inorderTraversal((a,c)=>(r.push(`${a}:${c}`),!1)),`{${r.join(", ")}}`}reverseTraversal(r){return this.root.reverseTraversal(r)}getIterator(){return new Mc(this.root,null,this.comparator,!1)}getIteratorFrom(r){return new Mc(this.root,r,this.comparator,!1)}getReverseIterator(){return new Mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(r){return new Mc(this.root,r,this.comparator,!0)}}class Mc{constructor(r,a,c,h){this.isReverse=h,this.nodeStack=[];let E=1;for(;!r.isEmpty();)if(E=a?c(r.key,a):1,h&&(E*=-1),E<0)r=this.isReverse?r.left:r.right;else{if(0===E){this.nodeStack.push(r);break}this.nodeStack.push(r),r=this.isReverse?r.right:r.left}}getNext(){let r=this.nodeStack.pop();const a={key:r.key,value:r.value};if(this.isReverse)for(r=r.left;!r.isEmpty();)this.nodeStack.push(r),r=r.right;else for(r=r.right;!r.isEmpty();)this.nodeStack.push(r),r=r.left;return a}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const r=this.nodeStack[this.nodeStack.length-1];return{key:r.key,value:r.value}}}class ns{constructor(r,a,c,h,E){this.key=r,this.value=a,this.color=null!=c?c:ns.RED,this.left=null!=h?h:ns.EMPTY,this.right=null!=E?E:ns.EMPTY,this.size=this.left.size+1+this.right.size}copy(r,a,c,h,E){return new ns(null!=r?r:this.key,null!=a?a:this.value,null!=c?c:this.color,null!=h?h:this.left,null!=E?E:this.right)}isEmpty(){return!1}inorderTraversal(r){return this.left.inorderTraversal(r)||r(this.key,this.value)||this.right.inorderTraversal(r)}reverseTraversal(r){return this.right.reverseTraversal(r)||r(this.key,this.value)||this.left.reverseTraversal(r)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(r,a,c){let h=this;const E=c(r,h.key);return h=E<0?h.copy(null,null,null,h.left.insert(r,a,c),null):0===E?h.copy(null,a,null,null,null):h.copy(null,null,null,null,h.right.insert(r,a,c)),h.fixUp()}removeMin(){if(this.left.isEmpty())return ns.EMPTY;let r=this;return r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.removeMin(),null),r.fixUp()}remove(r,a){let c,h=this;if(a(r,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(r,a),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===a(r,h.key)){if(h.right.isEmpty())return ns.EMPTY;c=h.right.min(),h=h.copy(c.key,c.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(r,a))}return h.fixUp()}isRed(){return this.color}fixUp(){let r=this;return r.right.isRed()&&!r.left.isRed()&&(r=r.rotateLeft()),r.left.isRed()&&r.left.left.isRed()&&(r=r.rotateRight()),r.left.isRed()&&r.right.isRed()&&(r=r.colorFlip()),r}moveRedLeft(){let r=this.colorFlip();return r.right.left.isRed()&&(r=r.copy(null,null,null,null,r.right.rotateRight()),r=r.rotateLeft(),r=r.colorFlip()),r}moveRedRight(){let r=this.colorFlip();return r.left.left.isRed()&&(r=r.rotateRight(),r=r.colorFlip()),r}rotateLeft(){const r=this.copy(null,null,ns.RED,null,this.right.left);return this.right.copy(null,null,this.color,r,null)}rotateRight(){const r=this.copy(null,null,ns.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,r)}colorFlip(){const r=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,r,a)}checkMaxDepth(){const r=this.check();return Math.pow(2,r)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Jt();const r=this.left.check();if(r!==this.right.check())throw Jt();return r+(this.isRed()?0:1)}}ns.EMPTY=null,ns.RED=!0,ns.BLACK=!1,ns.EMPTY=new class{constructor(){this.size=0}get key(){throw Jt()}get value(){throw Jt()}get color(){throw Jt()}get left(){throw Jt()}get right(){throw Jt()}copy(u,r,a,c,h){return this}insert(u,r,a){return new ns(u,r)}remove(u,r){return this}isEmpty(){return!0}inorderTraversal(u){return!1}reverseTraversal(u){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ui{constructor(r){this.comparator=r,this.data=new fs(this.comparator)}has(r){return null!==this.data.get(r)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(r){return this.data.indexOf(r)}forEach(r){this.data.inorderTraversal((a,c)=>(r(a),!1))}forEachInRange(r,a){const c=this.data.getIteratorFrom(r[0]);for(;c.hasNext();){const h=c.getNext();if(this.comparator(h.key,r[1])>=0)return;a(h.key)}}forEachWhile(r,a){let c;for(c=void 0!==a?this.data.getIteratorFrom(a):this.data.getIterator();c.hasNext();)if(!r(c.getNext().key))return}firstAfterOrEqual(r){const a=this.data.getIteratorFrom(r);return a.hasNext()?a.getNext().key:null}getIterator(){return new vh(this.data.getIterator())}getIteratorFrom(r){return new vh(this.data.getIteratorFrom(r))}add(r){return this.copy(this.data.remove(r).insert(r,!0))}delete(r){return this.has(r)?this.copy(this.data.remove(r)):this}isEmpty(){return this.data.isEmpty()}unionWith(r){let a=this;return a.size<r.size&&(a=r,r=this),r.forEach(c=>{a=a.add(c)}),a}isEqual(r){if(!(r instanceof Ui)||this.size!==r.size)return!1;const a=this.data.getIterator(),c=r.data.getIterator();for(;a.hasNext();){const h=a.getNext().key,E=c.getNext().key;if(0!==this.comparator(h,E))return!1}return!0}toArray(){const r=[];return this.forEach(a=>{r.push(a)}),r}toString(){const r=[];return this.forEach(a=>r.push(a)),"SortedSet("+r.toString()+")"}copy(r){const a=new Ui(this.comparator);return a.data=r,a}}class vh{constructor(r){this.iter=r}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const gd=new fs(Bt.comparator);function Xo(){return gd}const sm=new fs(Bt.comparator);function md(){return sm}const Wl=new fs(Bt.comparator);function yd(){return Wl}const _a=new Ui(Bt.comparator);function wr(...u){let r=_a;for(const a of u)r=r.add(a);return r}const Eh=new Ui(er);function Gl(){return Eh}class bu{constructor(r,a,c,h,E){this.snapshotVersion=r,this.targetChanges=a,this.targetMismatches=c,this.documentUpdates=h,this.resolvedLimboDocuments=E}static createSynthesizedRemoteEventForCurrentChange(r,a){const c=new Map;return c.set(r,bl.createSynthesizedTargetChangeForCurrentChange(r,a)),new bu(Kn.min(),c,Gl(),Xo(),wr())}}class bl{constructor(r,a,c,h,E){this.resumeToken=r,this.current=a,this.addedDocuments=c,this.modifiedDocuments=h,this.removedDocuments=E}static createSynthesizedTargetChangeForCurrentChange(r,a){return new bl(hs.EMPTY_BYTE_STRING,a,wr(),wr(),wr())}}class _d{constructor(r,a,c,h){this.k=r,this.removedTargetIds=a,this.key=c,this.$=h}}class Gf{constructor(r,a){this.targetId=r,this.O=a}}class Ku{constructor(r,a,c=hs.EMPTY_BYTE_STRING,h=null){this.state=r,this.targetIds=a,this.resumeToken=c,this.cause=h}}class Oc{constructor(){this.F=0,this.M=bh(),this.L=hs.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(r){r.approximateByteSize()>0&&(this.U=!0,this.L=r)}W(){let r=wr(),a=wr(),c=wr();return this.M.forEach((h,E)=>{switch(E){case 0:r=r.add(h);break;case 2:a=a.add(h);break;case 1:c=c.add(h);break;default:Jt()}}),new bl(this.L,this.B,r,a,c)}G(){this.U=!1,this.M=bh()}H(r,a){this.U=!0,this.M=this.M.insert(r,a)}J(r){this.U=!0,this.M=this.M.remove(r)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class vd{constructor(r){this.tt=r,this.et=new Map,this.nt=Xo(),this.st=zf(),this.it=new Ui(er)}rt(r){for(const a of r.k)r.$&&r.$.isFoundDocument()?this.ot(a,r.$):this.at(a,r.key,r.$);for(const a of r.removedTargetIds)this.at(a,r.key,r.$)}ct(r){this.forEachTarget(r,a=>{const c=this.ut(a);switch(r.state){case 0:this.ht(a)&&c.j(r.resumeToken);break;case 1:c.X(),c.q||c.G(),c.j(r.resumeToken);break;case 2:c.X(),c.q||this.removeTarget(a);break;case 3:this.ht(a)&&(c.Z(),c.j(r.resumeToken));break;case 4:this.ht(a)&&(this.lt(a),c.j(r.resumeToken));break;default:Jt()}})}forEachTarget(r,a){r.targetIds.length>0?r.targetIds.forEach(a):this.et.forEach((c,h)=>{this.ht(h)&&a(h)})}ft(r){const a=r.targetId,c=r.O.count,h=this.dt(a);if(h){const E=h.target;if(Te(E))if(0===c){const A=new Bt(E.path);this.at(a,A,y.newNoDocument(A,Kn.min()))}else pn(1===c);else this.wt(a)!==c&&(this.lt(a),this.it=this.it.add(a))}}_t(r){const a=new Map;this.et.forEach((E,A)=>{const B=this.dt(A);if(B){if(E.current&&Te(B.target)){const Y=new Bt(B.target.path);null!==this.nt.get(Y)||this.gt(A,Y)||this.at(A,Y,y.newNoDocument(Y,r))}E.K&&(a.set(A,E.W()),E.G())}});let c=wr();this.st.forEach((E,A)=>{let B=!0;A.forEachWhile(Y=>{const _e=this.dt(Y);return!_e||2===_e.purpose||(B=!1,!1)}),B&&(c=c.add(E))});const h=new bu(r,a,this.it,this.nt,c);return this.nt=Xo(),this.st=zf(),this.it=new Ui(er),h}ot(r,a){if(!this.ht(r))return;const c=this.gt(r,a.key)?2:0;this.ut(r).H(a.key,c),this.nt=this.nt.insert(a.key,a),this.st=this.st.insert(a.key,this.yt(a.key).add(r))}at(r,a,c){if(!this.ht(r))return;const h=this.ut(r);this.gt(r,a)?h.H(a,1):h.J(a),this.st=this.st.insert(a,this.yt(a).delete(r)),c&&(this.nt=this.nt.insert(a,c))}removeTarget(r){this.et.delete(r)}wt(r){const a=this.ut(r).W();return this.tt.getRemoteKeysForTarget(r).size+a.addedDocuments.size-a.removedDocuments.size}Y(r){this.ut(r).Y()}ut(r){let a=this.et.get(r);return a||(a=new Oc,this.et.set(r,a)),a}yt(r){let a=this.st.get(r);return a||(a=new Ui(er),this.st=this.st.insert(r,a)),a}ht(r){const a=null!==this.dt(r);return a||wt("WatchChangeAggregator","Detected inactive target",r),a}dt(r){const a=this.et.get(r);return a&&a.q?null:this.tt.Et(r)}lt(r){this.et.set(r,new Oc),this.tt.getRemoteKeysForTarget(r).forEach(a=>{this.at(r,a,null)})}gt(r,a){return this.tt.getRemoteKeysForTarget(r).has(a)}}function zf(){return new fs(Bt.comparator)}function bh(){return new fs(Bt.comparator)}const wh={asc:"ASCENDING",desc:"DESCENDING"},Kf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Zf{constructor(r,a){this.databaseId=r,this.D=a}}function zl(u,r){return u.D?`${new Date(1e3*r.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+r.nanoseconds).slice(-9)}Z`:{seconds:""+r.seconds,nanos:r.nanoseconds}}function Kl(u,r){return u.D?r.toBase64():r.toUint8Array()}function Ch(u,r){return zl(u,r.toTimestamp())}function Bi(u){return pn(!!u),Kn.fromTimestamp(function(r){const a=Na(r);return new ti(a.seconds,a.nanos)}(u))}function Rc(u,r){return(a=u,new Tr(["projects",a.projectId,"databases",a.database])).child("documents").child(r).canonicalString();var a}function Nc(u){const r=Tr.fromString(u);return pn(Cd(r)),r}function Zl(u,r){return Rc(u.databaseId,r.path)}function Fr(u,r){const a=Nc(r);if(a.get(1)!==u.databaseId.projectId)throw new xt(st.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+a.get(1)+" vs "+u.databaseId.projectId);if(a.get(3)!==u.databaseId.database)throw new xt(st.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+a.get(3)+" vs "+u.databaseId.database);return new Bt(kc(a))}function Pc(u,r){return Rc(u.databaseId,r)}function Lc(u){const r=Nc(u);return 4===r.length?Tr.emptyPath():kc(r)}function nu(u){return new Tr(["projects",u.databaseId.projectId,"databases",u.databaseId.database]).canonicalString()}function kc(u){return pn(u.length>4&&"documents"===u.get(4)),u.popFirst(5)}function Ih(u,r,a){return{name:Zl(u,r),fields:a.value.mapValue.fields}}function Fc(u,r,a){const c=Fr(u,r.name),h=Bi(r.updateTime),E=new Ds({mapValue:{fields:r.fields}}),A=y.newFoundDocument(c,h,E);return a&&A.setHasCommittedMutations(),a?A.setHasCommittedMutations():A}function Yl(u,r){let a;if(r instanceof ya)a={update:Ih(u,r.key,r.value)};else if(r instanceof Ac)a={delete:Zl(u,r.key)};else if(r instanceof Eu)a={update:Ih(u,r.key,r.data),updateMask:wd(r.fieldMask)};else{if(!(r instanceof Fs))return Jt();a={verify:Zl(u,r.key)}}return r.fieldTransforms.length>0&&(a.updateTransforms=r.fieldTransforms.map(c=>function(h,E){const A=E.transform;if(A instanceof _u)return{fieldPath:E.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(A instanceof ml)return{fieldPath:E.field.canonicalString(),appendMissingElements:{values:A.elements}};if(A instanceof zu)return{fieldPath:E.field.canonicalString(),removeAllFromArray:{values:A.elements}};if(A instanceof yl)return{fieldPath:E.field.canonicalString(),increment:A.C};throw Jt()}(0,c))),r.precondition.isNone||(a.currentDocument=void 0!==(h=r.precondition).updateTime?{updateTime:Ch(u,h.updateTime)}:void 0!==h.exists?{exists:h.exists}:Jt()),a;var h}function qf(u,r){const a=r.currentDocument?void 0!==(h=r.currentDocument).updateTime?Vi.updateTime(Bi(h.updateTime)):void 0!==h.exists?Vi.exists(h.exists):Vi.none():Vi.none(),c=r.updateTransforms?r.updateTransforms.map(h=>function(E,A){let B=null;"setToServerValue"in A?(pn("REQUEST_TIME"===A.setToServerValue),B=new _u):"appendMissingElements"in A?B=new ml(A.appendMissingElements.values||[]):"removeAllFromArray"in A?B=new zu(A.removeAllFromArray.values||[]):"increment"in A?B=new yl(E,A.increment):Jt();const Y=or.fromServerFormat(A.fieldPath);return new vu(Y,B)}(u,h)):[];var h;if(r.update){const h=Fr(u,r.update.name),E=new Ds({mapValue:{fields:r.update.fields}});if(r.updateMask){const A=new Bu((r.updateMask.fieldPaths||[]).map(_e=>or.fromServerFormat(_e)));return new Eu(h,E,A,a,c)}return new ya(h,E,a,c)}if(r.delete){const h=Fr(u,r.delete);return new Ac(h,a)}if(r.verify){const h=Fr(u,r.verify);return new Fs(h,a)}return Jt()}function wu(u,r){return{documents:[Pc(u,r.path)]}}function Zs(u,r){const a={structuredQuery:{}},c=r.path;null!==r.collectionGroup?(a.parent=Pc(u,c),a.structuredQuery.from=[{collectionId:r.collectionGroup,allDescendants:!0}]):(a.parent=Pc(u,c.popLast()),a.structuredQuery.from=[{collectionId:c.lastSegment()}]);const h=function(B){if(0===B.length)return;const Y=B.map(_e=>function(De){if("=="===De.op){if(cd(De.value))return{unaryFilter:{field:Zu(De.field),op:"IS_NAN"}};if(hl(De.value))return{unaryFilter:{field:Zu(De.field),op:"IS_NULL"}}}else if("!="===De.op){if(cd(De.value))return{unaryFilter:{field:Zu(De.field),op:"IS_NOT_NAN"}};if(hl(De.value))return{unaryFilter:{field:Zu(De.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zu(De.field),op:Yf(De.op),value:De.value}}}(_e));return 1===Y.length?Y[0]:{compositeFilter:{op:"AND",filters:Y}}}(r.filters);h&&(a.structuredQuery.where=h);const E=function(B){if(0!==B.length)return B.map(Y=>{return{field:Zu((_e=Y).field),direction:Ed(_e.dir)};var _e})}(r.orderBy);E&&(a.structuredQuery.orderBy=E);const A=(Y=r.limit,u.D||Za(Y)?Y:{value:Y});var Y;return null!==A&&(a.structuredQuery.limit=A),r.startAt&&(a.structuredQuery.startAt=As(r.startAt)),r.endAt&&(a.structuredQuery.endAt=As(r.endAt)),a}function Ql(u){let r=Lc(u.parent);const a=u.structuredQuery,c=a.from?a.from.length:0;let h=null;if(c>0){pn(1===c);const De=a.from[0];De.allDescendants?h=De.collectionId:r=r.child(De.collectionId)}let E=[];a.where&&(E=La(a.where));let A=[];a.orderBy&&(A=a.orderBy.map(De=>{return new Wr(rs((Le=De).field),function(lt){switch(lt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Le.direction));var Le}));let B=null;a.limit&&(B=function(De){let Le;return Le="object"==typeof De?De.value:De,Za(Le)?null:Le}(a.limit));let Y=null;a.startAt&&(Y=wl(a.startAt));let _e=null;return a.endAt&&(_e=wl(a.endAt)),Ho(r,h,A,E,B,"F",Y,_e)}function La(u){return u?void 0!==u.unaryFilter?[Vc(u)]:void 0!==u.fieldFilter?[bd(u)]:void 0!==u.compositeFilter?u.compositeFilter.filters.map(r=>La(r)).reduce((r,a)=>r.concat(a)):Jt():[]}function As(u){return{before:u.before,values:u.position}}function wl(u){return new ni(u.values||[],!!u.before)}function Ed(u){return wh[u]}function Yf(u){return Kf[u]}function Zu(u){return{fieldPath:u.canonicalString()}}function rs(u){return or.fromServerFormat(u.fieldPath)}function bd(u){return je.create(rs(u.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Jt()}}(u.fieldFilter.op),u.fieldFilter.value)}function Vc(u){switch(u.unaryFilter.op){case"IS_NAN":const r=rs(u.unaryFilter.field);return je.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=rs(u.unaryFilter.field);return je.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=rs(u.unaryFilter.field);return je.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=rs(u.unaryFilter.field);return je.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Jt()}}function wd(u){const r=[];return u.fields.forEach(a=>r.push(a.canonicalString())),{fieldPaths:r}}function Cd(u){return u.length>=4&&"projects"===u.get(0)&&"databases"===u.get(2)}function ps(u){let r="";for(let a=0;a<u.length;a++)r.length>0&&(r=Id(r)),r=Jl(u.get(a),r);return Id(r)}function Jl(u,r){let a=r;const c=u.length;for(let h=0;h<c;h++){const E=u.charAt(h);switch(E){case"\0":a+="\x01\x10";break;case"\x01":a+="\x01\x11";break;default:a+=E}}return a}function Id(u){return u+"\x01\x01"}function va(u){const r=u.length;if(pn(r>=2),2===r)return pn("\x01"===u.charAt(0)&&"\x01"===u.charAt(1)),Tr.emptyPath();const a=r-2,c=[];let h="";for(let E=0;E<r;){const A=u.indexOf("\x01",E);switch((A<0||A>a)&&Jt(),u.charAt(A+1)){case"\x01":const B=u.substring(E,A);let Y;0===h.length?Y=B:(h+=B,Y=h,h=""),c.push(Y);break;case"\x10":h+=u.substring(E,A),h+="\0";break;case"\x11":h+=u.substring(E,A+1);break;default:Jt()}E=A+2}return new Tr(c)}class Xl{constructor(r,a){this.seconds=r,this.nanoseconds=a}}class To{constructor(r,a,c){this.ownerId=r,this.allowTabSynchronization=a,this.leaseTimestampMs=c}}To.store="owner",To.key="owner";class Cu{constructor(r,a,c){this.userId=r,this.lastAcknowledgedBatchId=a,this.lastStreamToken=c}}Cu.store="mutationQueues",Cu.keyPath="userId";class Di{constructor(r,a,c,h,E){this.userId=r,this.batchId=a,this.localWriteTimeMs=c,this.baseMutations=h,this.mutations=E}}Di.store="mutations",Di.keyPath="batchId",Di.userMutationsIndex="userMutationsIndex",Di.userMutationsKeyPath=["userId","batchId"];class Vs{constructor(){}static prefixForUser(r){return[r]}static prefixForPath(r,a){return[r,ps(a)]}static key(r,a,c){return[r,ps(a),c]}}Vs.store="documentMutations",Vs.PLACEHOLDER=new Vs;class C{constructor(r,a){this.path=r,this.readTime=a}}class g{constructor(r,a){this.path=r,this.version=a}}class m{constructor(r,a,c,h,E,A){this.unknownDocument=r,this.noDocument=a,this.document=c,this.hasCommittedMutations=h,this.readTime=E,this.parentPath=A}}m.store="remoteDocuments",m.readTimeIndex="readTimeIndex",m.readTimeIndexPath="readTime",m.collectionReadTimeIndex="collectionReadTimeIndex",m.collectionReadTimeIndexPath=["parentPath","readTime"];class S{constructor(r){this.byteSize=r}}S.store="remoteDocumentGlobal",S.key="remoteDocumentGlobalKey";class z{constructor(r,a,c,h,E,A,B){this.targetId=r,this.canonicalId=a,this.readTime=c,this.resumeToken=h,this.lastListenSequenceNumber=E,this.lastLimboFreeSnapshotVersion=A,this.query=B}}z.store="targets",z.keyPath="targetId",z.queryTargetsIndexName="queryTargetsIndex",z.queryTargetsKeyPath=["canonicalId","targetId"];class ce{constructor(r,a,c){this.targetId=r,this.path=a,this.sequenceNumber=c}}ce.store="targetDocuments",ce.keyPath=["targetId","path"],ce.documentTargetsIndex="documentTargetsIndex",ce.documentTargetsKeyPath=["path","targetId"];class Fe{constructor(r,a,c,h){this.highestTargetId=r,this.highestListenSequenceNumber=a,this.lastRemoteSnapshotVersion=c,this.targetCount=h}}Fe.key="targetGlobalKey",Fe.store="targetGlobal";class dt{constructor(r,a){this.collectionId=r,this.parent=a}}dt.store="collectionParents",dt.keyPath=["collectionId","parent"];class Ut{constructor(r,a,c,h){this.clientId=r,this.updateTimeMs=a,this.networkEnabled=c,this.inForeground=h}}Ut.store="clientMetadata",Ut.keyPath="clientId";class an{constructor(r,a,c){this.bundleId=r,this.createTime=a,this.version=c}}an.store="bundles",an.keyPath="bundleId";class fn{constructor(r,a,c){this.name=r,this.readTime=a,this.bundledQuery=c}}fn.store="namedQueries",fn.keyPath="name";const Mn=[Cu.store,Di.store,Vs.store,m.store,z.store,To.store,Fe.store,ce.store,Ut.store,S.store,dt.store,an.store,fn.store],is="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ea{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(r){this.onCommittedListeners.push(r)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(r=>r())}}class At{constructor(r){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,r(a=>{this.isDone=!0,this.result=a,this.nextCallback&&this.nextCallback(a)},a=>{this.isDone=!0,this.error=a,this.catchCallback&&this.catchCallback(a)})}catch(r){return this.next(void 0,r)}next(r,a){return this.callbackAttached&&Jt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(a,this.error):this.wrapSuccess(r,this.result):new At((c,h)=>{this.nextCallback=E=>{this.wrapSuccess(r,E).next(c,h)},this.catchCallback=E=>{this.wrapFailure(a,E).next(c,h)}})}toPromise(){return new Promise((r,a)=>{this.next(r,a)})}wrapUserFunction(r){try{const a=r();return a instanceof At?a:At.resolve(a)}catch(a){return At.reject(a)}}wrapSuccess(r,a){return r?this.wrapUserFunction(()=>r(a)):At.resolve(a)}wrapFailure(r,a){return r?this.wrapUserFunction(()=>r(a)):At.reject(a)}static resolve(r){return new At((a,c)=>{a(r)})}static reject(r){return new At((a,c)=>{c(r)})}static waitFor(r){return new At((a,c)=>{let h=0,E=0,A=!1;r.forEach(B=>{++h,B.next(()=>{++E,A&&E===h&&a()},Y=>c(Y))}),A=!0,E===h&&a()})}static or(r){let a=At.resolve(!1);for(const c of r)a=a.next(h=>h?At.resolve(h):c());return a}static forEach(r,a){const c=[];return r.forEach((h,E)=>{c.push(a.call(this,h,E))}),this.waitFor(c)}}class Uc{constructor(r,a){this.action=r,this.transaction=a,this.aborted=!1,this.Tt=new ts,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{a.error?this.Tt.reject(new Cl(r,a.error)):this.Tt.resolve()},this.transaction.onerror=c=>{const h=Td(c.target.error);this.Tt.reject(new Cl(r,h))}}static open(r,a,c,h){try{return new Uc(a,r.transaction(h,c))}catch(E){throw new Cl(a,E)}}get It(){return this.Tt.promise}abort(r){r&&this.Tt.reject(r),this.aborted||(wt("SimpleDb","Aborting transaction:",r?r.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(r){const a=this.transaction.objectStore(r);return new qu(a)}}class So{constructor(r,a,c){this.name=r,this.version=a,this.At=c,12.2===So.Rt((0,Ge.z$)())&&mn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(r){return wt("SimpleDb","Removing database:",r),Us(window.indexedDB.deleteDatabase(r)).toPromise()}static Pt(){if("undefined"==typeof indexedDB)return!1;if(So.bt())return!0;const r=(0,Ge.z$)(),a=So.Rt(r),c=0<a&&a<10,h=So.vt(r),E=0<h&&h<4.5;return!(r.indexOf("MSIE ")>0||r.indexOf("Trident/")>0||r.indexOf("Edge/")>0||c||E)}static bt(){var r;return"undefined"!=typeof process&&"YES"===(null===(r=process.env)||void 0===r?void 0:r.Vt)}static St(r,a){return r.store(a)}static Rt(r){const a=r.match(/i(?:phone|pad|pod) os ([\d_]+)/i),c=a?a[1].split("_").slice(0,2).join("."):"-1";return Number(c)}static vt(r){const a=r.match(/Android ([\d.]+)/i),c=a?a[1].split(".").slice(0,2).join("."):"-1";return Number(c)}Dt(r){var a=this;return(0,me.Z)(function*(){return a.db||(wt("SimpleDb","Opening database:",a.name),a.db=yield new Promise((c,h)=>{const E=indexedDB.open(a.name,a.version);E.onsuccess=A=>{c(A.target.result)},E.onblocked=()=>{h(new Cl(r,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},E.onerror=A=>{const B=A.target.error;h("VersionError"===B.name?new xt(st.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Cl(r,B))},E.onupgradeneeded=A=>{wt("SimpleDb",'Database "'+a.name+'" requires upgrade from version:',A.oldVersion),a.At.Ct(A.target.result,E.transaction,A.oldVersion,a.version).next(()=>{wt("SimpleDb","Database upgrade to version "+a.version+" complete")})}})),a.Nt&&(a.db.onversionchange=c=>a.Nt(c)),a.db})()}xt(r){this.Nt=r,this.db&&(this.db.onversionchange=a=>r(a))}runTransaction(r,a,c,h){var E=this;return(0,me.Z)(function*(){const A="readonly"===a;let B=0;for(;;){++B;try{E.db=yield E.Dt(r);const Y=Uc.open(E.db,r,A?"readonly":"readwrite",c),_e=h(Y).catch(De=>(Y.abort(De),At.reject(De))).toPromise();return _e.catch(()=>{}),yield Y.It,_e}catch(Y){const _e="FirebaseError"!==Y.name&&B<3;if(wt("SimpleDb","Transaction failed with error:",Y.message,"Retrying:",_e),E.close(),!_e)return Promise.reject(Y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Sh{constructor(r){this.kt=r,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(r){this.kt=r}done(){this.$t=!0}Mt(r){this.Ot=r}delete(){return Us(this.kt.delete())}}class Cl extends xt{constructor(r,a){super(st.UNAVAILABLE,`IndexedDB transaction '${r}' failed: ${a}`),this.name="IndexedDbTransactionError"}}function ru(u){return"IndexedDbTransactionError"===u.name}class qu{constructor(r){this.store=r}put(r,a){let c;return void 0!==a?(wt("SimpleDb","PUT",this.store.name,r,a),c=this.store.put(a,r)):(wt("SimpleDb","PUT",this.store.name,"<auto-key>",r),c=this.store.put(r)),Us(c)}add(r){return wt("SimpleDb","ADD",this.store.name,r,r),Us(this.store.add(r))}get(r){return Us(this.store.get(r)).next(a=>(void 0===a&&(a=null),wt("SimpleDb","GET",this.store.name,r,a),a))}delete(r){return wt("SimpleDb","DELETE",this.store.name,r),Us(this.store.delete(r))}count(){return wt("SimpleDb","COUNT",this.store.name),Us(this.store.count())}Lt(r,a){const c=this.cursor(this.options(r,a)),h=[];return this.Bt(c,(E,A)=>{h.push(A)}).next(()=>h)}Ut(r,a){wt("SimpleDb","DELETE ALL",this.store.name);const c=this.options(r,a);c.qt=!1;const h=this.cursor(c);return this.Bt(h,(E,A,B)=>B.delete())}Kt(r,a){let c;a?c=r:(c={},a=r);const h=this.cursor(c);return this.Bt(h,a)}jt(r){const a=this.cursor({});return new At((c,h)=>{a.onerror=E=>{const A=Td(E.target.error);h(A)},a.onsuccess=E=>{const A=E.target.result;A?r(A.primaryKey,A.value).next(B=>{B?A.continue():c()}):c()}})}Bt(r,a){const c=[];return new At((h,E)=>{r.onerror=A=>{E(A.target.error)},r.onsuccess=A=>{const B=A.target.result;if(!B)return void h();const Y=new Sh(B),_e=a(B.primaryKey,B.value,Y);if(_e instanceof At){const De=_e.catch(Le=>(Y.done(),At.reject(Le)));c.push(De)}Y.isDone?h():null===Y.Ft?B.continue():B.continue(Y.Ft)}}).next(()=>At.waitFor(c))}options(r,a){let c;return void 0!==r&&("string"==typeof r?c=r:a=r),{index:c,range:a}}cursor(r){let a="next";if(r.reverse&&(a="prev"),r.index){const c=this.store.index(r.index);return r.qt?c.openKeyCursor(r.range,a):c.openCursor(r.range,a)}return this.store.openCursor(r.range,a)}}function Us(u){return new At((r,a)=>{u.onsuccess=c=>{r(c.target.result)},u.onerror=c=>{const h=Td(c.target.error);a(h)}})}let Dd=!1;function Td(u){const r=So.Rt((0,Ge.z$)());if(r>=12.2&&r<13){const a="An internal error was encountered in the Indexed Database server";if(u.message.indexOf(a)>=0){const c=new xt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${a}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Dd||(Dd=!0,setTimeout(()=>{throw c},0)),c}}return u}class Sd extends ea{constructor(r,a){super(),this.Qt=r,this.currentSequenceNumber=a}}function lo(u,r){const a=kt(u);return So.St(a.Qt,r)}class ta{constructor(r,a,c,h){this.batchId=r,this.localWriteTime=a,this.baseMutations=c,this.mutations=h}applyToRemoteDocument(r,a){const c=a.mutationResults;for(let h=0;h<this.mutations.length;h++){const E=this.mutations[h];E.key.isEqual(r.key)&&Sc(E,r,c[h])}}applyToLocalView(r){for(const a of this.baseMutations)a.key.isEqual(r.key)&&vl(a,r,this.localWriteTime);for(const a of this.mutations)a.key.isEqual(r.key)&&vl(a,r,this.localWriteTime)}applyToLocalDocumentSet(r){this.mutations.forEach(a=>{const c=r.get(a.key),h=c;this.applyToLocalView(h),c.isValidDocument()||h.convertToNoDocument(Kn.min())})}keys(){return this.mutations.reduce((r,a)=>r.add(a.key),wr())}isEqual(r){return this.batchId===r.batchId&&Bo(this.mutations,r.mutations,(a,c)=>$l(a,c))&&Bo(this.baseMutations,r.baseMutations,(a,c)=>$l(a,c))}}class Ad{constructor(r,a,c,h){this.batch=r,this.commitVersion=a,this.mutationResults=c,this.docVersions=h}static from(r,a,c){pn(r.mutations.length===c.length);let h=yd();const E=r.mutations;for(let A=0;A<E.length;A++)h=h.insert(E[A].key,c[A].version);return new Ad(r,a,c,h)}}class Iu{constructor(r,a,c,h,E=Kn.min(),A=Kn.min(),B=hs.EMPTY_BYTE_STRING){this.target=r,this.targetId=a,this.purpose=c,this.sequenceNumber=h,this.snapshotVersion=E,this.lastLimboFreeSnapshotVersion=A,this.resumeToken=B}withSequenceNumber(r){return new Iu(this.target,this.targetId,this.purpose,r,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(r,a){return new Iu(this.target,this.targetId,this.purpose,this.sequenceNumber,a,this.lastLimboFreeSnapshotVersion,r)}withLastLimboFreeSnapshotVersion(r){return new Iu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,r,this.resumeToken)}}class om{constructor(r){this.Wt=r}}function Ah(u,r){if(r.document)return Fc(u.Wt,r.document,!!r.hasCommittedMutations);if(r.noDocument){const a=Bt.fromSegments(r.noDocument.path),c=Dl(r.noDocument.readTime),h=y.newNoDocument(a,c);return r.hasCommittedMutations?h.setHasCommittedMutations():h}if(r.unknownDocument){const a=Bt.fromSegments(r.unknownDocument.path),c=Dl(r.unknownDocument.version);return y.newUnknownDocument(a,c)}return Jt()}function Bc(u,r,a){const c=xh(a),h=r.key.path.popLast().toArray();if(r.isFoundDocument()){const E={name:Zl(B=u.Wt,(Y=r).key),fields:Y.data.value.mapValue.fields,updateTime:zl(B,Y.version.toTimestamp())};return new m(null,null,E,r.hasCommittedMutations,c,h)}var B,Y;if(r.isNoDocument()){const E=r.key.path.toArray(),A=Il(r.version),B=r.hasCommittedMutations;return new m(null,new C(E,A),null,B,c,h)}if(r.isUnknownDocument()){const E=r.key.path.toArray(),A=Il(r.version);return new m(new g(E,A),null,null,!0,c,h)}return Jt()}function xh(u){const r=u.toTimestamp();return[r.seconds,r.nanoseconds]}function Qf(u){const r=new ti(u[0],u[1]);return Kn.fromTimestamp(r)}function Il(u){const r=u.toTimestamp();return new Xl(r.seconds,r.nanoseconds)}function Dl(u){const r=new ti(u.seconds,u.nanoseconds);return Kn.fromTimestamp(r)}function ec(u,r){const a=(r.baseMutations||[]).map(E=>qf(u.Wt,E));for(let E=0;E<r.mutations.length-1;++E){const A=r.mutations[E];E+1<r.mutations.length&&void 0!==r.mutations[E+1].transform&&(A.updateTransforms=r.mutations[E+1].transform.fieldTransforms,r.mutations.splice(E+1,1),++E)}const c=r.mutations.map(E=>qf(u.Wt,E)),h=ti.fromMillis(r.localWriteTimeMs);return new ta(r.batchId,h,a,c)}function Mh(u){const r=Dl(u.readTime),a=void 0!==u.lastLimboFreeSnapshotVersion?Dl(u.lastLimboFreeSnapshotVersion):Kn.min();let c;var h;return void 0!==u.query.documents?(pn(1===(h=u.query).documents.length),c=cn(_r(Lc(h.documents[0])))):c=cn(Ql(u.query)),new Iu(c,u.targetId,0,u.lastListenSequenceNumber,r,a,hs.fromBase64String(u.resumeToken))}function tc(u,r){const a=Il(r.snapshotVersion),c=Il(r.lastLimboFreeSnapshotVersion);let h;h=Te(r.target)?wu(u.Wt,r.target):Zs(u.Wt,r.target);const E=r.resumeToken.toBase64();return new z(r.targetId,W(r.target),a,E,r.sequenceNumber,c,h)}function xd(u){const r=Ql({parent:u.parent,structuredQuery:u.structuredQuery});return"LAST"===u.limitType?Bn(r,r.limit,"L"):r}class am{getBundleMetadata(r,a){return um(r).get(a).next(c=>{if(c)return{id:(h=c).bundleId,createTime:Dl(h.createTime),version:h.version};var h})}saveBundleMetadata(r,a){return um(r).put({bundleId:(c=a).id,createTime:Il(Bi(c.createTime)),version:c.version});var c}getNamedQuery(r,a){return Oh(r).get(a).next(c=>{if(c)return{name:(h=c).name,query:xd(h.bundledQuery),readTime:Dl(h.readTime)};var h})}saveNamedQuery(r,a){return Oh(r).put({name:(c=a).name,readTime:Il(Bi(c.readTime)),bundledQuery:c.bundledQuery});var c}}function um(u){return lo(u,an.store)}function Oh(u){return lo(u,fn.store)}class y_{constructor(){this.Gt=new Jf}addToCollectionParentIndex(r,a){return this.Gt.add(a),At.resolve()}getCollectionParents(r,a){return At.resolve(this.Gt.getEntries(a))}}class Jf{constructor(){this.index={}}add(r){const a=r.lastSegment(),c=r.popLast(),h=this.index[a]||new Ui(Tr.comparator),E=!h.has(c);return this.index[a]=h.add(c),E}has(r){const a=r.lastSegment(),c=r.popLast(),h=this.index[a];return h&&h.has(c)}getEntries(r){return(this.index[r]||new Ui(Tr.comparator)).toArray()}}class __{constructor(){this.zt=new Jf}addToCollectionParentIndex(r,a){if(!this.zt.has(a)){const c=a.lastSegment(),h=a.popLast();r.addOnCommittedListener(()=>{this.zt.add(a)});const E={collectionId:c,parent:ps(h)};return lm(r).put(E)}return At.resolve()}getCollectionParents(r,a){const c=[],h=IDBKeyRange.bound([a,""],[za(a),""],!1,!0);return lm(r).Lt(h).next(E=>{for(const A of E){if(A.collectionId!==a)break;c.push(va(A.parent))}return c})}}function lm(u){return lo(u,dt.store)}const cm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class na{constructor(r,a,c){this.cacheSizeCollectionThreshold=r,this.percentileToCollect=a,this.maximumSequenceNumbersToCollect=c}static withCacheSize(r){return new na(r,na.DEFAULT_COLLECTION_PERCENTILE,na.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Xf(u,r,a){const c=u.store(Di.store),h=u.store(Vs.store),E=[],A=IDBKeyRange.only(a.batchId);let B=0;const Y=c.Kt({range:A},(De,Le,lt)=>(B++,lt.delete()));E.push(Y.next(()=>{pn(1===B)}));const _e=[];for(const De of a.mutations){const Le=Vs.key(r,De.key.path,a.batchId);E.push(h.delete(Le)),_e.push(De.key)}return At.waitFor(E).next(()=>_e)}function jc(u){if(!u)return 0;let r;if(u.document)r=u.document;else if(u.unknownDocument)r=u.unknownDocument;else{if(!u.noDocument)throw Jt();r=u.noDocument}return JSON.stringify(r).length}na.DEFAULT_COLLECTION_PERCENTILE=10,na.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,na.DEFAULT=new na(41943040,na.DEFAULT_COLLECTION_PERCENTILE,na.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),na.DISABLED=new na(-1,0,0);class Rh{constructor(r,a,c,h){this.userId=r,this.N=a,this.Ht=c,this.referenceDelegate=h,this.Jt={}}static Yt(r,a,c,h){pn(""!==r.uid);const E=r.isAuthenticated()?r.uid:"";return new Rh(E,a,c,h)}checkEmpty(r){let a=!0;const c=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Tl(r).Kt({index:Di.userMutationsIndex,range:c},(h,E,A)=>{a=!1,A.done()}).next(()=>a)}addMutationBatch(r,a,c,h){const E=Hc(r),A=Tl(r);return A.add({}).next(B=>{pn("number"==typeof B);const Y=new ta(B,a,c,h),_e=function(lt,Ct,jt){const En=jt.baseMutations.map(Ni=>Yl(lt.Wt,Ni)),Yn=jt.mutations.map(Ni=>Yl(lt.Wt,Ni));return new Di(Ct,jt.batchId,jt.localWriteTime.toMillis(),En,Yn)}(this.N,this.userId,Y),De=[];let Le=new Ui((lt,Ct)=>er(lt.canonicalString(),Ct.canonicalString()));for(const lt of h){const Ct=Vs.key(this.userId,lt.key.path,B);Le=Le.add(lt.key.path.popLast()),De.push(A.put(_e)),De.push(E.put(Ct,Vs.PLACEHOLDER))}return Le.forEach(lt=>{De.push(this.Ht.addToCollectionParentIndex(r,lt))}),r.addOnCommittedListener(()=>{this.Jt[B]=Y.keys()}),At.waitFor(De).next(()=>Y)})}lookupMutationBatch(r,a){return Tl(r).get(a).next(c=>c?(pn(c.userId===this.userId),ec(this.N,c)):null)}Xt(r,a){return this.Jt[a]?At.resolve(this.Jt[a]):this.lookupMutationBatch(r,a).next(c=>{if(c){const h=c.keys();return this.Jt[a]=h,h}return null})}getNextMutationBatchAfterBatchId(r,a){const c=a+1,h=IDBKeyRange.lowerBound([this.userId,c]);let E=null;return Tl(r).Kt({index:Di.userMutationsIndex,range:h},(A,B,Y)=>{B.userId===this.userId&&(pn(B.batchId>=c),E=ec(this.N,B)),Y.done()}).next(()=>E)}getHighestUnacknowledgedBatchId(r){const a=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let c=-1;return Tl(r).Kt({index:Di.userMutationsIndex,range:a,reverse:!0},(h,E,A)=>{c=E.batchId,A.done()}).next(()=>c)}getAllMutationBatches(r){const a=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Tl(r).Lt(Di.userMutationsIndex,a).next(c=>c.map(h=>ec(this.N,h)))}getAllMutationBatchesAffectingDocumentKey(r,a){const c=Vs.prefixForPath(this.userId,a.path),h=IDBKeyRange.lowerBound(c),E=[];return Hc(r).Kt({range:h},(A,B,Y)=>{const[_e,De,Le]=A,lt=va(De);if(_e===this.userId&&a.path.isEqual(lt))return Tl(r).get(Le).next(Ct=>{if(!Ct)throw Jt();pn(Ct.userId===this.userId),E.push(ec(this.N,Ct))});Y.done()}).next(()=>E)}getAllMutationBatchesAffectingDocumentKeys(r,a){let c=new Ui(er);const h=[];return a.forEach(E=>{const A=Vs.prefixForPath(this.userId,E.path),B=IDBKeyRange.lowerBound(A),Y=Hc(r).Kt({range:B},(_e,De,Le)=>{const[lt,Ct,jt]=_e,En=va(Ct);lt===this.userId&&E.path.isEqual(En)?c=c.add(jt):Le.done()});h.push(Y)}),At.waitFor(h).next(()=>this.Zt(r,c))}getAllMutationBatchesAffectingQuery(r,a){const c=a.path,h=c.length+1,E=Vs.prefixForPath(this.userId,c),A=IDBKeyRange.lowerBound(E);let B=new Ui(er);return Hc(r).Kt({range:A},(Y,_e,De)=>{const[Le,lt,Ct]=Y,jt=va(lt);Le===this.userId&&c.isPrefixOf(jt)?jt.length===h&&(B=B.add(Ct)):De.done()}).next(()=>this.Zt(r,B))}Zt(r,a){const c=[],h=[];return a.forEach(E=>{h.push(Tl(r).get(E).next(A=>{if(null===A)throw Jt();pn(A.userId===this.userId),c.push(ec(this.N,A))}))}),At.waitFor(h).next(()=>c)}removeMutationBatch(r,a){return Xf(r.Qt,this.userId,a).next(c=>(r.addOnCommittedListener(()=>{this.te(a.batchId)}),At.forEach(c,h=>this.referenceDelegate.markPotentiallyOrphaned(r,h))))}te(r){delete this.Jt[r]}performConsistencyCheck(r){return this.checkEmpty(r).next(a=>{if(!a)return At.resolve();const c=IDBKeyRange.lowerBound(Vs.prefixForUser(this.userId)),h=[];return Hc(r).Kt({range:c},(E,A,B)=>{if(E[0]===this.userId){const Y=va(E[1]);h.push(Y)}else B.done()}).next(()=>{pn(0===h.length)})})}containsKey(r,a){return Nh(r,this.userId,a)}ee(r){return ep(r).get(this.userId).next(a=>a||new Cu(this.userId,-1,""))}}function Nh(u,r,a){const c=Vs.prefixForPath(r,a.path),h=c[1],E=IDBKeyRange.lowerBound(c);let A=!1;return Hc(u).Kt({range:E,qt:!0},(B,Y,_e)=>{const[De,Le,lt]=B;De===r&&Le===h&&(A=!0),_e.done()}).next(()=>A)}function Tl(u){return lo(u,Di.store)}function Hc(u){return lo(u,Vs.store)}function ep(u){return lo(u,Cu.store)}class Sl{constructor(r){this.ne=r}next(){return this.ne+=2,this.ne}static se(){return new Sl(0)}static ie(){return new Sl(-1)}}class nc{constructor(r,a){this.referenceDelegate=r,this.N=a}allocateTargetId(r){return this.re(r).next(a=>{const c=new Sl(a.highestTargetId);return a.highestTargetId=c.next(),this.oe(r,a).next(()=>a.highestTargetId)})}getLastRemoteSnapshotVersion(r){return this.re(r).next(a=>Kn.fromTimestamp(new ti(a.lastRemoteSnapshotVersion.seconds,a.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(r){return this.re(r).next(a=>a.highestListenSequenceNumber)}setTargetsMetadata(r,a,c){return this.re(r).next(h=>(h.highestListenSequenceNumber=a,c&&(h.lastRemoteSnapshotVersion=c.toTimestamp()),a>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=a),this.oe(r,h)))}addTargetData(r,a){return this.ae(r,a).next(()=>this.re(r).next(c=>(c.targetCount+=1,this.ce(a,c),this.oe(r,c))))}updateTargetData(r,a){return this.ae(r,a)}removeTargetData(r,a){return this.removeMatchingKeysForTargetId(r,a.targetId).next(()=>rc(r).delete(a.targetId)).next(()=>this.re(r)).next(c=>(pn(c.targetCount>0),c.targetCount-=1,this.oe(r,c)))}removeTargets(r,a,c){let h=0;const E=[];return rc(r).Kt((A,B)=>{const Y=Mh(B);Y.sequenceNumber<=a&&null===c.get(Y.targetId)&&(h++,E.push(this.removeTargetData(r,Y)))}).next(()=>At.waitFor(E)).next(()=>h)}forEachTarget(r,a){return rc(r).Kt((c,h)=>{const E=Mh(h);a(E)})}re(r){return tp(r).get(Fe.key).next(a=>(pn(null!==a),a))}oe(r,a){return tp(r).put(Fe.key,a)}ae(r,a){return rc(r).put(tc(this.N,a))}ce(r,a){let c=!1;return r.targetId>a.highestTargetId&&(a.highestTargetId=r.targetId,c=!0),r.sequenceNumber>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=r.sequenceNumber,c=!0),c}getTargetCount(r){return this.re(r).next(a=>a.targetCount)}getTargetData(r,a){const c=W(a),h=IDBKeyRange.bound([c,Number.NEGATIVE_INFINITY],[c,Number.POSITIVE_INFINITY]);let E=null;return rc(r).Kt({range:h,index:z.queryTargetsIndexName},(A,B,Y)=>{const _e=Mh(B);Ee(a,_e.target)&&(E=_e,Y.done())}).next(()=>E)}addMatchingKeys(r,a,c){const h=[],E=Al(r);return a.forEach(A=>{const B=ps(A.path);h.push(E.put(new ce(c,B))),h.push(this.referenceDelegate.addReference(r,c,A))}),At.waitFor(h)}removeMatchingKeys(r,a,c){const h=Al(r);return At.forEach(a,E=>{const A=ps(E.path);return At.waitFor([h.delete([c,A]),this.referenceDelegate.removeReference(r,c,E)])})}removeMatchingKeysForTargetId(r,a){const c=Al(r),h=IDBKeyRange.bound([a],[a+1],!1,!0);return c.delete(h)}getMatchingKeysForTargetId(r,a){const c=IDBKeyRange.bound([a],[a+1],!1,!0),h=Al(r);let E=wr();return h.Kt({range:c,qt:!0},(A,B,Y)=>{const _e=va(A[1]),De=new Bt(_e);E=E.add(De)}).next(()=>E)}containsKey(r,a){const c=ps(a.path),h=IDBKeyRange.bound([c],[za(c)],!1,!0);let E=0;return Al(r).Kt({index:ce.documentTargetsIndex,qt:!0,range:h},([A,B],Y,_e)=>{0!==A&&(E++,_e.done())}).next(()=>E>0)}Et(r,a){return rc(r).get(a).next(c=>c?Mh(c):null)}}function rc(u){return lo(u,z.store)}function tp(u){return lo(u,Fe.store)}function Al(u){return lo(u,ce.store)}function Du(u){return np.apply(this,arguments)}function np(){return(np=(0,me.Z)(function*(u){if(u.code!==st.FAILED_PRECONDITION||u.message!==is)throw u;wt("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function rp([u,r],[a,c]){const h=er(u,a);return 0===h?er(r,c):h}class dm{constructor(r){this.ue=r,this.buffer=new Ui(rp),this.he=0}le(){return++this.he}fe(r){const a=[r,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(a);else{const c=this.buffer.last();rp(a,c)<0&&(this.buffer=this.buffer.delete(c).add(a))}}get maxValue(){return this.buffer.last()[0]}}class hm{constructor(r,a){this.garbageCollector=r,this.asyncQueue=a,this.de=!1,this.we=null}start(r){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(r)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(r){var a=this;const c=this.de?3e5:6e4;wt("LruGarbageCollector",`Garbage collection scheduled in ${c}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",c,(0,me.Z)(function*(){a.we=null,a.de=!0;try{yield r.collectGarbage(a.garbageCollector)}catch(h){ru(h)?wt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",h):yield Du(h)}yield a._e(r)}))}}class ip{constructor(r,a){this.me=r,this.params=a}calculateTargetCount(r,a){return this.me.ge(r).next(c=>Math.floor(a/100*c))}nthSequenceNumber(r,a){if(0===a)return At.resolve(Ls.T);const c=new dm(a);return this.me.forEachTarget(r,h=>c.fe(h.sequenceNumber)).next(()=>this.me.ye(r,h=>c.fe(h))).next(()=>c.maxValue)}removeTargets(r,a,c){return this.me.removeTargets(r,a,c)}removeOrphanedDocuments(r,a){return this.me.removeOrphanedDocuments(r,a)}collect(r,a){return-1===this.params.cacheSizeCollectionThreshold?(wt("LruGarbageCollector","Garbage collection skipped; disabled"),At.resolve(cm)):this.getCacheSize(r).next(c=>c<this.params.cacheSizeCollectionThreshold?(wt("LruGarbageCollector",`Garbage collection skipped; Cache size ${c} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cm):this.pe(r,a))}getCacheSize(r){return this.me.getCacheSize(r)}pe(r,a){let c,h,E,A,B,Y,_e;const De=Date.now();return this.calculateTargetCount(r,this.params.percentileToCollect).next(Le=>(Le>this.params.maximumSequenceNumbersToCollect?(wt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Le}`),h=this.params.maximumSequenceNumbersToCollect):h=Le,A=Date.now(),this.nthSequenceNumber(r,h))).next(Le=>(c=Le,B=Date.now(),this.removeTargets(r,c,a))).next(Le=>(E=Le,Y=Date.now(),this.removeOrphanedDocuments(r,c))).next(Le=>(_e=Date.now(),hn()<=bt.in.DEBUG&&wt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${A-De}ms\n\tDetermined least recently used ${h} in `+(B-A)+`ms\n\tRemoved ${E} targets in `+(Y-B)+`ms\n\tRemoved ${Le} documents in `+(_e-Y)+`ms\nTotal Duration: ${_e-De}ms`),At.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:E,documentsRemoved:Le})))}}class fm{constructor(r,a){this.db=r,this.garbageCollector=new ip(this,a)}ge(r){const a=this.Ee(r);return this.db.getTargetCache().getTargetCount(r).next(c=>a.next(h=>c+h))}Ee(r){let a=0;return this.ye(r,c=>{a++}).next(()=>a)}forEachTarget(r,a){return this.db.getTargetCache().forEachTarget(r,a)}ye(r,a){return this.Te(r,(c,h)=>a(h))}addReference(r,a,c){return ic(r,c)}removeReference(r,a,c){return ic(r,c)}removeTargets(r,a,c){return this.db.getTargetCache().removeTargets(r,a,c)}markPotentiallyOrphaned(r,a){return ic(r,a)}Ie(r,a){return function(c,h){let E=!1;return ep(c).jt(A=>Nh(c,A,h).next(B=>(B&&(E=!0),At.resolve(!B)))).next(()=>E)}(r,a)}removeOrphanedDocuments(r,a){const c=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let E=0;return this.Te(r,(A,B)=>{if(B<=a){const Y=this.Ie(r,A).next(_e=>{if(!_e)return E++,c.getEntry(r,A).next(()=>(c.removeEntry(A),Al(r).delete([0,ps(A.path)])))});h.push(Y)}}).next(()=>At.waitFor(h)).next(()=>c.apply(r)).next(()=>E)}removeTarget(r,a){const c=a.withSequenceNumber(r.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(r,c)}updateLimboDocument(r,a){return ic(r,a)}Te(r,a){const c=Al(r);let h,E=Ls.T;return c.Kt({index:ce.documentTargetsIndex},([A,B],{path:Y,sequenceNumber:_e})=>{0===A?(E!==Ls.T&&a(new Bt(va(h)),E),E=_e,h=Y):E=Ls.T}).next(()=>{E!==Ls.T&&a(new Bt(va(h)),E)})}getCacheSize(r){return this.db.getRemoteDocumentCache().getSize(r)}}function ic(u,r){return Al(u).put((c=u.currentSequenceNumber,new ce(0,ps(r.path),c)));var c}class Yu{constructor(r,a){this.mapKeyFn=r,this.equalsFn=a,this.inner={}}get(r){const a=this.mapKeyFn(r),c=this.inner[a];if(void 0!==c)for(const[h,E]of c)if(this.equalsFn(h,r))return E}has(r){return void 0!==this.get(r)}set(r,a){const c=this.mapKeyFn(r),h=this.inner[c];if(void 0!==h){for(let E=0;E<h.length;E++)if(this.equalsFn(h[E][0],r))return void(h[E]=[r,a]);h.push([r,a])}else this.inner[c]=[[r,a]]}delete(r){const a=this.mapKeyFn(r),c=this.inner[a];if(void 0===c)return!1;for(let h=0;h<c.length;h++)if(this.equalsFn(c[h][0],r))return 1===c.length?delete this.inner[a]:c.splice(h,1),!0;return!1}forEach(r){Ka(this.inner,(a,c)=>{for(const[h,E]of c)r(h,E)})}isEmpty(){return Ic(this.inner)}}class sp{constructor(){this.changes=new Yu(r=>r.toString(),(r,a)=>r.isEqual(a)),this.changesApplied=!1}getReadTime(r){const a=this.changes.get(r);return a?a.readTime:Kn.min()}addEntry(r,a){this.assertNotApplied(),this.changes.set(r.key,{document:r,readTime:a})}removeEntry(r,a=null){this.assertNotApplied(),this.changes.set(r,{document:y.newInvalidDocument(r),readTime:a})}getEntry(r,a){this.assertNotApplied();const c=this.changes.get(a);return void 0!==c?At.resolve(c.document):this.getFromCache(r,a)}getEntries(r,a){return this.getAllFromCache(r,a)}apply(r){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(r)}assertNotApplied(){}}class op{constructor(r,a){this.N=r,this.Ht=a}addEntry(r,a,c){return ka(r).put(Lh(a),c)}removeEntry(r,a){const c=ka(r),h=Lh(a);return c.delete(h)}updateMetadata(r,a){return this.getMetadata(r).next(c=>(c.byteSize+=a,this.Ae(r,c)))}getEntry(r,a){return ka(r).get(Lh(a)).next(c=>this.Re(a,c))}Pe(r,a){return ka(r).get(Lh(a)).next(c=>({document:this.Re(a,c),size:jc(c)}))}getEntries(r,a){let c=Xo();return this.be(r,a,(h,E)=>{const A=this.Re(h,E);c=c.insert(h,A)}).next(()=>c)}ve(r,a){let c=Xo(),h=new fs(Bt.comparator);return this.be(r,a,(E,A)=>{const B=this.Re(E,A);c=c.insert(E,B),h=h.insert(E,jc(A))}).next(()=>({documents:c,Ve:h}))}be(r,a,c){if(a.isEmpty())return At.resolve();const h=IDBKeyRange.bound(a.first().path.toArray(),a.last().path.toArray()),E=a.getIterator();let A=E.getNext();return ka(r).Kt({range:h},(B,Y,_e)=>{const De=Bt.fromSegments(B);for(;A&&Bt.comparator(A,De)<0;)c(A,null),A=E.getNext();A&&A.isEqual(De)&&(c(A,Y),A=E.hasNext()?E.getNext():null),A?_e.Mt(A.path.toArray()):_e.done()}).next(()=>{for(;A;)c(A,null),A=E.hasNext()?E.getNext():null})}getDocumentsMatchingQuery(r,a,c){let h=Xo();const E=a.path.length+1,A={};if(c.isEqual(Kn.min())){const B=a.path.toArray();A.range=IDBKeyRange.lowerBound(B)}else{const B=a.path.toArray(),Y=xh(c);A.range=IDBKeyRange.lowerBound([B,Y],!0),A.index=m.collectionReadTimeIndex}return ka(r).Kt(A,(B,Y,_e)=>{if(B.length!==E)return;const De=Ah(this.N,Y);a.path.isPrefixOf(De.key.path)?oi(a,De)&&(h=h.insert(De.key,De)):_e.done()}).next(()=>h)}newChangeBuffer(r){return new pm(this,!!r&&r.trackRemovals)}getSize(r){return this.getMetadata(r).next(a=>a.byteSize)}getMetadata(r){return Ph(r).get(S.key).next(a=>(pn(!!a),a))}Ae(r,a){return Ph(r).put(S.key,a)}Re(r,a){if(a){const c=Ah(this.N,a);if(!c.isNoDocument()||!c.version.isEqual(Kn.min()))return c}return y.newInvalidDocument(r)}}class pm extends sp{constructor(r,a){super(),this.Se=r,this.trackRemovals=a,this.De=new Yu(c=>c.toString(),(c,h)=>c.isEqual(h))}applyChanges(r){const a=[];let c=0,h=new Ui((E,A)=>er(E.canonicalString(),A.canonicalString()));return this.changes.forEach((E,A)=>{const B=this.De.get(E);if(A.document.isValidDocument()){const Y=Bc(this.Se.N,A.document,this.getReadTime(E));h=h.add(E.path.popLast()),c+=jc(Y)-B,a.push(this.Se.addEntry(r,E,Y))}else if(c-=B,this.trackRemovals){const Y=Bc(this.Se.N,y.newNoDocument(E,Kn.min()),this.getReadTime(E));a.push(this.Se.addEntry(r,E,Y))}else a.push(this.Se.removeEntry(r,E))}),h.forEach(E=>{a.push(this.Se.Ht.addToCollectionParentIndex(r,E))}),a.push(this.Se.updateMetadata(r,c)),At.waitFor(a)}getFromCache(r,a){return this.Se.Pe(r,a).next(c=>(this.De.set(a,c.size),c.document))}getAllFromCache(r,a){return this.Se.ve(r,a).next(({documents:c,Ve:h})=>(h.forEach((E,A)=>{this.De.set(E,A)}),c))}}function Ph(u){return lo(u,S.store)}function ka(u){return lo(u,m.store)}function Lh(u){return u.path.toArray()}class gm{constructor(r){this.N=r}Ct(r,a,c,h){pn(c<h&&c>=0&&h<=11);const E=new Uc("createOrUpgrade",a);var B;c<1&&h>=1&&(r.createObjectStore(To.store),(B=r).createObjectStore(Cu.store,{keyPath:Cu.keyPath}),B.createObjectStore(Di.store,{keyPath:Di.keyPath,autoIncrement:!0}).createIndex(Di.userMutationsIndex,Di.userMutationsKeyPath,{unique:!0}),B.createObjectStore(Vs.store),mm(r),function(B){B.createObjectStore(m.store)}(r));let A=At.resolve();return c<3&&h>=3&&(0!==c&&(function(B){B.deleteObjectStore(ce.store),B.deleteObjectStore(z.store),B.deleteObjectStore(Fe.store)}(r),mm(r)),A=A.next(()=>function(B){const Y=B.store(Fe.store),_e=new Fe(0,0,Kn.min().toTimestamp(),0);return Y.put(Fe.key,_e)}(E))),c<4&&h>=4&&(0!==c&&(A=A.next(()=>function(B,Y){return Y.store(Di.store).Lt().next(_e=>{B.deleteObjectStore(Di.store),B.createObjectStore(Di.store,{keyPath:Di.keyPath,autoIncrement:!0}).createIndex(Di.userMutationsIndex,Di.userMutationsKeyPath,{unique:!0});const De=Y.store(Di.store),Le=_e.map(lt=>De.put(lt));return At.waitFor(Le)})}(r,E))),A=A.next(()=>{!function(B){B.createObjectStore(Ut.store,{keyPath:Ut.keyPath})}(r)})),c<5&&h>=5&&(A=A.next(()=>this.Ce(E))),c<6&&h>=6&&(A=A.next(()=>(function(B){B.createObjectStore(S.store)}(r),this.Ne(E)))),c<7&&h>=7&&(A=A.next(()=>this.xe(E))),c<8&&h>=8&&(A=A.next(()=>this.ke(r,E))),c<9&&h>=9&&(A=A.next(()=>{(function(B){B.objectStoreNames.contains("remoteDocumentChanges")&&B.deleteObjectStore("remoteDocumentChanges")})(r),function(B){const Y=B.objectStore(m.store);Y.createIndex(m.readTimeIndex,m.readTimeIndexPath,{unique:!1}),Y.createIndex(m.collectionReadTimeIndex,m.collectionReadTimeIndexPath,{unique:!1})}(a)})),c<10&&h>=10&&(A=A.next(()=>this.$e(E))),c<11&&h>=11&&(A=A.next(()=>{(function(B){B.createObjectStore(an.store,{keyPath:an.keyPath})})(r),function(B){B.createObjectStore(fn.store,{keyPath:fn.keyPath})}(r)})),A}Ne(r){let a=0;return r.store(m.store).Kt((c,h)=>{a+=jc(h)}).next(()=>{const c=new S(a);return r.store(S.store).put(S.key,c)})}Ce(r){const a=r.store(Cu.store),c=r.store(Di.store);return a.Lt().next(h=>At.forEach(h,E=>{const A=IDBKeyRange.bound([E.userId,-1],[E.userId,E.lastAcknowledgedBatchId]);return c.Lt(Di.userMutationsIndex,A).next(B=>At.forEach(B,Y=>{pn(Y.userId===E.userId);const _e=ec(this.N,Y);return Xf(r,E.userId,_e).next(()=>{})}))}))}xe(r){const a=r.store(ce.store),c=r.store(m.store);return r.store(Fe.store).get(Fe.key).next(h=>{const E=[];return c.Kt((A,B)=>{const Y=new Tr(A),_e=[0,ps(Y)];E.push(a.get(_e).next(De=>De?At.resolve():a.put(new ce(0,ps(Y),h.highestListenSequenceNumber))))}).next(()=>At.waitFor(E))})}ke(r,a){r.createObjectStore(dt.store,{keyPath:dt.keyPath});const c=a.store(dt.store),h=new Jf,E=A=>{if(h.add(A)){const B=A.lastSegment(),Y=A.popLast();return c.put({collectionId:B,parent:ps(Y)})}};return a.store(m.store).Kt({qt:!0},(A,B)=>{const Y=new Tr(A);return E(Y.popLast())}).next(()=>a.store(Vs.store).Kt({qt:!0},([A,B,Y],_e)=>{const De=va(B);return E(De.popLast())}))}$e(r){const a=r.store(z.store);return a.Kt((c,h)=>{const E=Mh(h),A=tc(this.N,E);return a.put(A)})}}function mm(u){u.createObjectStore(ce.store,{keyPath:ce.keyPath}).createIndex(ce.documentTargetsIndex,ce.documentTargetsKeyPath,{unique:!0}),u.createObjectStore(z.store,{keyPath:z.keyPath}).createIndex(z.queryTargetsIndexName,z.queryTargetsKeyPath,{unique:!0}),u.createObjectStore(Fe.store)}const ap="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class kh{constructor(r,a,c,h,E,A,B,Y,_e,De){if(this.allowTabSynchronization=r,this.persistenceKey=a,this.clientId=c,this.Oe=E,this.window=A,this.document=B,this.Fe=_e,this.Me=De,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=Le=>Promise.resolve(),!kh.Pt())throw new xt(st.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new fm(this,h),this.We=a+"main",this.N=new om(Y),this.Ge=new So(this.We,11,new gm(this.N)),this.ze=new nc(this.referenceDelegate,this.N),this.Ht=new __,this.He=new op(this.N,this.Ht),this.Je=new am,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===De&&mn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new xt(st.FAILED_PRECONDITION,ap);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",r=>this.ze.getHighestSequenceNumber(r))}).then(r=>{this.Le=new Ls(r,this.Fe)}).then(()=>{this.Be=!0}).catch(r=>(this.Ge&&this.Ge.close(),Promise.reject(r)))}nn(r){var a=this;return this.Qe=function(){var c=(0,me.Z)(function*(h){if(a.started)return r(h)});return function(h){return c.apply(this,arguments)}}(),r(this.isPrimary)}setDatabaseDeletedListener(r){this.Ge.xt(function(){var a=(0,me.Z)(function*(c){null===c.newVersion&&(yield r())});return function(c){return a.apply(this,arguments)}}())}setNetworkEnabled(r){var a=this;this.networkEnabled!==r&&(this.networkEnabled=r,this.Oe.enqueueAndForget((0,me.Z)(function*(){a.started&&(yield a.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",r=>Md(r).put(new Ut(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(r).next(a=>{a||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(r)).next(a=>this.isPrimary&&!a?this.on(r).next(()=>!1):!!a&&this.an(r).next(()=>!0))).catch(r=>{if(ru(r))return wt("IndexedDbPersistence","Failed to extend owner lease: ",r),this.isPrimary;if(!this.allowTabSynchronization)throw r;return wt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",r),!1}).then(r=>{this.isPrimary!==r&&this.Oe.enqueueRetryable(()=>this.Qe(r)),this.isPrimary=r})}sn(r){return sc(r).get(To.key).next(a=>At.resolve(this.cn(a)))}un(r){return Md(r).delete(this.clientId)}hn(){var r=this;return(0,me.Z)(function*(){if(r.isPrimary&&!r.ln(r.je,18e5)){r.je=Date.now();const a=yield r.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",c=>{const h=lo(c,Ut.store);return h.Lt().next(E=>{const A=r.fn(E,18e5),B=E.filter(Y=>-1===A.indexOf(Y));return At.forEach(B,Y=>h.delete(Y.clientId)).next(()=>B)})}).catch(()=>[]);if(r.Ye)for(const c of a)r.Ye.removeItem(r.dn(c.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(r){return!!r&&r.ownerId===this.clientId}rn(r){return this.Me?At.resolve(!0):sc(r).get(To.key).next(a=>{if(null!==a&&this.ln(a.leaseTimestampMs,5e3)&&!this.wn(a.ownerId)){if(this.cn(a)&&this.networkEnabled)return!0;if(!this.cn(a)){if(!a.allowTabSynchronization)throw new xt(st.FAILED_PRECONDITION,ap);return!1}}return!(!this.networkEnabled||!this.inForeground)||Md(r).Lt().next(c=>void 0===this.fn(c,5e3).find(h=>{if(this.clientId!==h.clientId){const A=!this.inForeground&&h.inForeground,B=this.networkEnabled===h.networkEnabled;if(!this.networkEnabled&&h.networkEnabled||A&&B)return!0}return!1}))}).next(a=>(this.isPrimary!==a&&wt("IndexedDbPersistence",`Client ${a?"is":"is not"} eligible for a primary lease.`),a))}shutdown(){var r=this;return(0,me.Z)(function*(){r.Be=!1,r._n(),r.Ke&&(r.Ke.cancel(),r.Ke=null),r.mn(),r.gn(),yield r.Ge.runTransaction("shutdown","readwrite",[To.store,Ut.store],a=>{const c=new Sd(a,Ls.T);return r.on(c).next(()=>r.un(c))}),r.Ge.close(),r.yn()})()}fn(r,a){return r.filter(c=>this.ln(c.updateTimeMs,a)&&!this.wn(c.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",r=>Md(r).Lt().next(a=>this.fn(a,18e5).map(c=>c.clientId)))}get started(){return this.Be}getMutationQueue(r){return Rh.Yt(r,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(r,a,c){let E;return wt("IndexedDbPersistence","Starting transaction:",r),this.Ge.runTransaction(r,"readonly"===a?"readonly":"readwrite",Mn,A=>(E=new Sd(A,this.Le?this.Le.next():Ls.T),"readwrite-primary"===a?this.sn(E).next(B=>!!B||this.rn(E)).next(B=>{if(!B)throw mn(`Failed to obtain primary lease for action '${r}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new xt(st.FAILED_PRECONDITION,is);return c(E)}).next(B=>this.an(E).next(()=>B)):this.En(E).next(()=>c(E)))).then(A=>(E.raiseOnCommittedEvent(),A))}En(r){return sc(r).get(To.key).next(a=>{if(null!==a&&this.ln(a.leaseTimestampMs,5e3)&&!this.wn(a.ownerId)&&!this.cn(a)&&!(this.Me||this.allowTabSynchronization&&a.allowTabSynchronization))throw new xt(st.FAILED_PRECONDITION,ap)})}an(r){const a=new To(this.clientId,this.allowTabSynchronization,Date.now());return sc(r).put(To.key,a)}static Pt(){return So.Pt()}on(r){const a=sc(r);return a.get(To.key).next(c=>this.cn(c)?(wt("IndexedDbPersistence","Releasing primary lease."),a.delete(To.key)):At.resolve())}ln(r,a){const c=Date.now();return!(r<c-a||r>c&&(mn(`Detected an update time that is in the future: ${r} > ${c}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var r;"function"==typeof(null===(r=this.window)||void 0===r?void 0:r.addEventListener)&&(this.Ue=()=>{this._n(),(0,Ge.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(r){var a;try{const c=null!==(null===(a=this.Ye)||void 0===a?void 0:a.getItem(this.dn(r)));return wt("IndexedDbPersistence",`Client '${r}' ${c?"is":"is not"} zombied in LocalStorage`),c}catch(c){return mn("IndexedDbPersistence","Failed to get zombied client id.",c),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(r){mn("Failed to set zombie client id.",r)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(r){}}dn(r){return`firestore_zombie_${this.persistenceKey}_${r}`}}function sc(u){return lo(u,To.store)}function Md(u){return lo(u,Ut.store)}function ym(u,r){let a=u.projectId;return u.isDefaultDatabase||(a+="."+u.database),"firestore/"+r+"/"+a+"/"}class _m{constructor(r,a){this.progress=r,this.Tn=a}}class vm{constructor(r,a,c){this.He=r,this.In=a,this.Ht=c}An(r,a){return this.In.getAllMutationBatchesAffectingDocumentKey(r,a).next(c=>this.Rn(r,a,c))}Rn(r,a,c){return this.He.getEntry(r,a).next(h=>{for(const E of c)E.applyToLocalView(h);return h})}Pn(r,a){r.forEach((c,h)=>{for(const E of a)E.applyToLocalView(h)})}bn(r,a){return this.He.getEntries(r,a).next(c=>this.vn(r,c).next(()=>c))}vn(r,a){return this.In.getAllMutationBatchesAffectingDocumentKeys(r,a).next(c=>this.Pn(a,c))}getDocumentsMatchingQuery(r,a,c){return Bt.isDocumentKey((h=a).path)&&null===h.collectionGroup&&0===h.filters.length?this.Vn(r,a.path):fl(a)?this.Sn(r,a,c):this.Dn(r,a,c);var h}Vn(r,a){return this.An(r,new Bt(a)).next(c=>{let h=md();return c.isFoundDocument()&&(h=h.insert(c.key,c)),h})}Sn(r,a,c){const h=a.collectionGroup;let E=md();return this.Ht.getCollectionParents(r,h).next(A=>At.forEach(A,B=>{const Y=(_e=a,De=B.child(h),new Ii(De,null,_e.explicitOrderBy.slice(),_e.filters.slice(),_e.limit,_e.limitType,_e.startAt,_e.endAt));var _e,De;return this.Dn(r,Y,c).next(_e=>{_e.forEach((De,Le)=>{E=E.insert(De,Le)})})}).next(()=>E))}Dn(r,a,c){let h,E;return this.He.getDocumentsMatchingQuery(r,a,c).next(A=>(h=A,this.In.getAllMutationBatchesAffectingQuery(r,a))).next(A=>(E=A,this.Cn(r,E,h).next(B=>{h=B;for(const Y of E)for(const _e of Y.mutations){const De=_e.key;let Le=h.get(De);null==Le&&(Le=y.newInvalidDocument(De),h=h.insert(De,Le)),vl(_e,Le,Y.localWriteTime),Le.isFoundDocument()||(h=h.remove(De))}}))).next(()=>(h.forEach((A,B)=>{oi(a,B)||(h=h.remove(A))}),h))}Cn(r,a,c){let h=wr();for(const A of a)for(const B of A.mutations)B instanceof Eu&&null===c.get(B.key)&&(h=h.add(B.key));let E=c;return this.He.getEntries(r,h).next(A=>(A.forEach((B,Y)=>{Y.isFoundDocument()&&(E=E.insert(B,Y))}),E))}}class Fh{constructor(r,a,c,h){this.targetId=r,this.fromCache=a,this.Nn=c,this.xn=h}static kn(r,a){let c=wr(),h=wr();for(const E of a.docChanges)switch(E.type){case 0:c=c.add(E.doc.key);break;case 1:h=h.add(E.doc.key)}return new Fh(r,a.fromCache,c,h)}}class Em{$n(r){this.On=r}getDocumentsMatchingQuery(r,a,c,h){return 0===(E=a).filters.length&&null===E.limit&&null==E.startAt&&null==E.endAt&&(0===E.explicitOrderBy.length||1===E.explicitOrderBy.length&&E.explicitOrderBy[0].field.isKeyField())||c.isEqual(Kn.min())?this.Fn(r,a):this.On.bn(r,h).next(E=>{const A=this.Mn(a,E);return(Qa(a)||Ja(a))&&this.Ln(a.limitType,A,h,c)?this.Fn(r,a):(hn()<=bt.in.DEBUG&&wt("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),Ss(a)),this.On.getDocumentsMatchingQuery(r,a,c).next(B=>(A.forEach(Y=>{B=B.insert(Y.key,Y)}),B)))});var E}Mn(r,a){let c=new Ui(Do(r));return a.forEach((h,E)=>{oi(r,E)&&(c=c.add(E))}),c}Ln(r,a,c,h){if(c.size!==a.size)return!0;const E="F"===r?a.last():a.first();return!!E&&(E.hasPendingWrites||E.version.compareTo(h)>0)}Fn(r,a){return hn()<=bt.in.DEBUG&&wt("QueryEngine","Using full collection scan to execute query:",Ss(a)),this.On.getDocumentsMatchingQuery(r,a,Kn.min())}}class v_{constructor(r,a,c,h){this.persistence=r,this.Bn=a,this.N=h,this.Un=new fs(er),this.qn=new Yu(E=>W(E),Ee),this.Kn=Kn.min(),this.In=r.getMutationQueue(c),this.jn=r.getRemoteDocumentCache(),this.ze=r.getTargetCache(),this.Qn=new vm(this.jn,this.In,this.persistence.getIndexManager()),this.Je=r.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(r){return this.persistence.runTransaction("Collect garbage","readwrite-primary",a=>r.collect(a,this.Un))}}function Fa(u,r,a,c){return new v_(u,r,a,c)}function bm(u,r){return Vh.apply(this,arguments)}function Vh(){return(Vh=(0,me.Z)(function*(u,r){const a=kt(u);let c=a.In,h=a.Qn;const E=yield a.persistence.runTransaction("Handle user change","readonly",A=>{let B;return a.In.getAllMutationBatches(A).next(Y=>(B=Y,c=a.persistence.getMutationQueue(r),h=new vm(a.jn,c,a.persistence.getIndexManager()),c.getAllMutationBatches(A))).next(Y=>{const _e=[],De=[];let Le=wr();for(const lt of B){_e.push(lt.batchId);for(const Ct of lt.mutations)Le=Le.add(Ct.key)}for(const lt of Y){De.push(lt.batchId);for(const Ct of lt.mutations)Le=Le.add(Ct.key)}return h.bn(A,Le).next(lt=>({Wn:lt,removedBatchIds:_e,addedBatchIds:De}))})});return a.In=c,a.Qn=h,a.Bn.$n(a.Qn),E})).apply(this,arguments)}function E_(u,r){const a=kt(u);return a.persistence.runTransaction("Acknowledge batch","readwrite-primary",c=>{const h=r.batch.keys(),E=a.jn.newChangeBuffer({trackRemovals:!0});return function(A,B,Y,_e){const De=Y.batch,Le=De.keys();let lt=At.resolve();return Le.forEach(Ct=>{lt=lt.next(()=>_e.getEntry(B,Ct)).next(jt=>{const En=Y.docVersions.get(Ct);pn(null!==En),jt.version.compareTo(En)<0&&(De.applyToRemoteDocument(jt,Y),jt.isValidDocument()&&_e.addEntry(jt,Y.commitVersion))})}),lt.next(()=>A.In.removeMutationBatch(B,De))}(a,c,r,E).next(()=>E.apply(c)).next(()=>a.In.performConsistencyCheck(c)).next(()=>a.Qn.bn(c,h))})}function wm(u){const r=kt(u);return r.persistence.runTransaction("Get last remote snapshot version","readonly",a=>r.ze.getLastRemoteSnapshotVersion(a))}function b_(u,r){const a=kt(u),c=r.snapshotVersion;let h=a.Un;return a.persistence.runTransaction("Apply remote event","readwrite-primary",E=>{const A=a.jn.newChangeBuffer({trackRemovals:!0});h=a.Un;const B=[];r.targetChanges.forEach((_e,De)=>{const Le=h.get(De);if(!Le)return;B.push(a.ze.removeMatchingKeys(E,_e.removedDocuments,De).next(()=>a.ze.addMatchingKeys(E,_e.addedDocuments,De)));const lt=_e.resumeToken;if(lt.approximateByteSize()>0){const Ct=Le.withResumeToken(lt,c).withSequenceNumber(E.currentSequenceNumber);h=h.insert(De,Ct),jt=Le,Yn=_e,pn((En=Ct).resumeToken.approximateByteSize()>0),(0===jt.resumeToken.approximateByteSize()||En.snapshotVersion.toMicroseconds()-jt.snapshotVersion.toMicroseconds()>=3e8||Yn.addedDocuments.size+Yn.modifiedDocuments.size+Yn.removedDocuments.size>0)&&B.push(a.ze.updateTargetData(E,Ct))}var jt,En,Yn});let Y=Xo();if(r.documentUpdates.forEach((_e,De)=>{r.resolvedLimboDocuments.has(_e)&&B.push(a.persistence.referenceDelegate.updateLimboDocument(E,_e))}),B.push(Cm(E,A,r.documentUpdates,c,void 0).next(_e=>{Y=_e})),!c.isEqual(Kn.min())){const _e=a.ze.getLastRemoteSnapshotVersion(E).next(De=>a.ze.setTargetsMetadata(E,E.currentSequenceNumber,c));B.push(_e)}return At.waitFor(B).next(()=>A.apply(E)).next(()=>a.Qn.vn(E,Y)).next(()=>Y)}).then(E=>(a.Un=h,E))}function Cm(u,r,a,c,h){let E=wr();return a.forEach(A=>E=E.add(A)),r.getEntries(u,E).next(A=>{let B=Xo();return a.forEach((Y,_e)=>{const De=A.get(Y),Le=(null==h?void 0:h.get(Y))||c;_e.isNoDocument()&&_e.version.isEqual(Kn.min())?(r.removeEntry(Y,Le),B=B.insert(Y,_e)):!De.isValidDocument()||_e.version.compareTo(De.version)>0||0===_e.version.compareTo(De.version)&&De.hasPendingWrites?(r.addEntry(_e,Le),B=B.insert(Y,_e)):wt("LocalStore","Ignoring outdated watch update for ",Y,". Current version:",De.version," Watch version:",_e.version)}),B})}function Im(u,r){const a=kt(u);return a.persistence.runTransaction("Get next mutation batch","readonly",c=>(void 0===r&&(r=-1),a.In.getNextMutationBatchAfterBatchId(c,r)))}function $c(u,r){const a=kt(u);return a.persistence.runTransaction("Allocate target","readwrite",c=>{let h;return a.ze.getTargetData(c,r).next(E=>E?(h=E,At.resolve(h)):a.ze.allocateTargetId(c).next(A=>(h=new Iu(r,A,0,c.currentSequenceNumber),a.ze.addTargetData(c,h).next(()=>h))))}).then(c=>{const h=a.Un.get(c.targetId);return(null===h||c.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(a.Un=a.Un.insert(c.targetId,c),a.qn.set(r,c.targetId)),c})}function Wc(u,r,a){return up.apply(this,arguments)}function up(){return(up=(0,me.Z)(function*(u,r,a){const c=kt(u),h=c.Un.get(r),E=a?"readwrite":"readwrite-primary";try{a||(yield c.persistence.runTransaction("Release target",E,A=>c.persistence.referenceDelegate.removeTarget(A,h)))}catch(A){if(!ru(A))throw A;wt("LocalStore",`Failed to update sequence numbers for target ${r}: ${A}`)}c.Un=c.Un.remove(r),c.qn.delete(h.target)})).apply(this,arguments)}function Zn(u,r,a){const c=kt(u);let h=Kn.min(),E=wr();return c.persistence.runTransaction("Execute query","readonly",A=>function(B,Y,_e){const De=kt(B),Le=De.qn.get(_e);return void 0!==Le?At.resolve(De.Un.get(Le)):De.ze.getTargetData(Y,_e)}(c,A,cn(r)).next(B=>{if(B)return h=B.lastLimboFreeSnapshotVersion,c.ze.getMatchingKeysForTargetId(A,B.targetId).next(Y=>{E=Y})}).next(()=>c.Bn.getDocumentsMatchingQuery(A,r,a?h:Kn.min(),a?E:wr())).next(B=>({documents:B,Gn:E})))}function lp(u,r){const a=kt(u),c=kt(a.ze),h=a.Un.get(r);return h?Promise.resolve(h.target):a.persistence.runTransaction("Get target data","readonly",E=>c.Et(E,r).next(A=>A?A.target:null))}function cp(u){const r=kt(u);return r.persistence.runTransaction("Get new document changes","readonly",a=>function(c,h,E){const A=kt(c);let B=Xo(),Y=xh(E);const _e=ka(h),De=IDBKeyRange.lowerBound(Y,!0);return _e.Kt({index:m.readTimeIndex,range:De},(Le,lt)=>{const Ct=Ah(A.N,lt);B=B.insert(Ct.key,Ct),Y=lt.readTime}).next(()=>({Tn:B,readTime:Qf(Y)}))}(r.jn,a,r.Kn)).then(({Tn:a,readTime:c})=>(r.Kn=c,a))}function Ea(){return(Ea=(0,me.Z)(function*(u){const r=kt(u);return r.persistence.runTransaction("Synchronize last document change read time","readonly",a=>function(c){const h=ka(c);let E=Kn.min();return h.Kt({index:m.readTimeIndex,reverse:!0},(A,B,Y)=>{B.readTime&&(E=Qf(B.readTime)),Y.done()}).next(()=>E)}(a)).then(a=>{r.Kn=a})})).apply(this,arguments)}function dp(){return(dp=(0,me.Z)(function*(u,r,a,c){const h=kt(u);let E=wr(),A=Xo(),B=yd();for(const De of a){const Le=r.zn(De.metadata.name);De.document&&(E=E.add(Le)),A=A.insert(Le,r.Hn(De)),B=B.insert(Le,r.Jn(De.metadata.readTime))}const Y=h.jn.newChangeBuffer({trackRemovals:!0}),_e=yield $c(h,(De=c,cn(_r(Tr.fromString(`__bundle__/docs/${De}`)))));var De;return h.persistence.runTransaction("Apply bundle documents","readwrite",De=>Cm(De,Y,A,Kn.min(),B).next(Le=>(Y.apply(De),Le)).next(Le=>h.ze.removeMatchingKeysForTargetId(De,_e.targetId).next(()=>h.ze.addMatchingKeys(De,E,_e.targetId)).next(()=>h.Qn.vn(De,Le)).next(()=>Le)))})).apply(this,arguments)}function hp(u,r){return iu.apply(this,arguments)}function iu(){return(iu=(0,me.Z)(function*(u,r,a=wr()){const c=yield $c(u,cn(xd(r.bundledQuery))),h=kt(u);return h.persistence.runTransaction("Save named query","readwrite",E=>{const A=Bi(r.readTime);if(c.snapshotVersion.compareTo(A)>=0)return h.Je.saveNamedQuery(E,r);const B=c.withResumeToken(hs.EMPTY_BYTE_STRING,A);return h.Un=h.Un.insert(B.targetId,B),h.ze.updateTargetData(E,B).next(()=>h.ze.removeMatchingKeysForTargetId(E,c.targetId)).next(()=>h.ze.addMatchingKeys(E,a,c.targetId)).next(()=>h.Je.saveNamedQuery(E,r))})})).apply(this,arguments)}class fp{constructor(r){this.N=r,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(r,a){return At.resolve(this.Yn.get(a))}saveBundleMetadata(r,a){var c;return this.Yn.set(a.id,{id:(c=a).id,version:c.version,createTime:Bi(c.createTime)}),At.resolve()}getNamedQuery(r,a){return At.resolve(this.Xn.get(a))}saveNamedQuery(r,a){return this.Xn.set(a.name,{name:(c=a).name,query:xd(c.bundledQuery),readTime:Bi(c.readTime)}),At.resolve();var c}}class Bh{constructor(){this.Zn=new Ui(xs.ts),this.es=new Ui(xs.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(r,a){const c=new xs(r,a);this.Zn=this.Zn.add(c),this.es=this.es.add(c)}ss(r,a){r.forEach(c=>this.addReference(c,a))}removeReference(r,a){this.rs(new xs(r,a))}os(r,a){r.forEach(c=>this.removeReference(c,a))}cs(r){const a=new Bt(new Tr([])),c=new xs(a,r),h=new xs(a,r+1),E=[];return this.es.forEachInRange([c,h],A=>{this.rs(A),E.push(A.key)}),E}us(){this.Zn.forEach(r=>this.rs(r))}rs(r){this.Zn=this.Zn.delete(r),this.es=this.es.delete(r)}hs(r){const a=new Bt(new Tr([])),c=new xs(a,r),h=new xs(a,r+1);let E=wr();return this.es.forEachInRange([c,h],A=>{E=E.add(A.key)}),E}containsKey(r){const a=new xs(r,0),c=this.Zn.firstAfterOrEqual(a);return null!==c&&r.isEqual(c.key)}}class xs{constructor(r,a){this.key=r,this.ls=a}static ts(r,a){return Bt.comparator(r.key,a.key)||er(r.ls,a.ls)}static ns(r,a){return er(r.ls,a.ls)||Bt.comparator(r.key,a.key)}}class PE{constructor(r,a){this.Ht=r,this.referenceDelegate=a,this.In=[],this.fs=1,this.ds=new Ui(xs.ts)}checkEmpty(r){return At.resolve(0===this.In.length)}addMutationBatch(r,a,c,h){const E=this.fs;this.fs++;const A=new ta(E,a,c,h);this.In.push(A);for(const B of h)this.ds=this.ds.add(new xs(B.key,E)),this.Ht.addToCollectionParentIndex(r,B.key.path.popLast());return At.resolve(A)}lookupMutationBatch(r,a){return At.resolve(this.ws(a))}getNextMutationBatchAfterBatchId(r,a){const h=this._s(a+1),E=h<0?0:h;return At.resolve(this.In.length>E?this.In[E]:null)}getHighestUnacknowledgedBatchId(){return At.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(r){return At.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(r,a){const c=new xs(a,0),h=new xs(a,Number.POSITIVE_INFINITY),E=[];return this.ds.forEachInRange([c,h],A=>{const B=this.ws(A.ls);E.push(B)}),At.resolve(E)}getAllMutationBatchesAffectingDocumentKeys(r,a){let c=new Ui(er);return a.forEach(h=>{const E=new xs(h,0),A=new xs(h,Number.POSITIVE_INFINITY);this.ds.forEachInRange([E,A],B=>{c=c.add(B.ls)})}),At.resolve(this.gs(c))}getAllMutationBatchesAffectingQuery(r,a){const c=a.path,h=c.length+1;let E=c;Bt.isDocumentKey(E)||(E=E.child(""));const A=new xs(new Bt(E),0);let B=new Ui(er);return this.ds.forEachWhile(Y=>{const _e=Y.key.path;return!!c.isPrefixOf(_e)&&(_e.length===h&&(B=B.add(Y.ls)),!0)},A),At.resolve(this.gs(B))}gs(r){const a=[];return r.forEach(c=>{const h=this.ws(c);null!==h&&a.push(h)}),a}removeMutationBatch(r,a){pn(0===this.ys(a.batchId,"removed")),this.In.shift();let c=this.ds;return At.forEach(a.mutations,h=>{const E=new xs(h.key,a.batchId);return c=c.delete(E),this.referenceDelegate.markPotentiallyOrphaned(r,h.key)}).next(()=>{this.ds=c})}te(r){}containsKey(r,a){const c=new xs(a,0),h=this.ds.firstAfterOrEqual(c);return At.resolve(a.isEqual(h&&h.key))}performConsistencyCheck(r){return At.resolve()}ys(r,a){return this._s(r)}_s(r){return 0===this.In.length?0:r-this.In[0].batchId}ws(r){const a=this._s(r);return a<0||a>=this.In.length?null:this.In[a]}}class Tm{constructor(r,a){this.Ht=r,this.ps=a,this.docs=new fs(Bt.comparator),this.size=0}addEntry(r,a,c){const h=a.key,E=this.docs.get(h),A=E?E.size:0,B=this.ps(a);return this.docs=this.docs.insert(h,{document:a.clone(),size:B,readTime:c}),this.size+=B-A,this.Ht.addToCollectionParentIndex(r,h.path.popLast())}removeEntry(r){const a=this.docs.get(r);a&&(this.docs=this.docs.remove(r),this.size-=a.size)}getEntry(r,a){const c=this.docs.get(a);return At.resolve(c?c.document.clone():y.newInvalidDocument(a))}getEntries(r,a){let c=Xo();return a.forEach(h=>{const E=this.docs.get(h);c=c.insert(h,E?E.document.clone():y.newInvalidDocument(h))}),At.resolve(c)}getDocumentsMatchingQuery(r,a,c){let h=Xo();const E=new Bt(a.path.child("")),A=this.docs.getIteratorFrom(E);for(;A.hasNext();){const{key:B,value:{document:Y,readTime:_e}}=A.getNext();if(!a.path.isPrefixOf(B.path))break;_e.compareTo(c)<=0||oi(a,Y)&&(h=h.insert(Y.key,Y.clone()))}return At.resolve(h)}Es(r,a){return At.forEach(this.docs,c=>a(c))}newChangeBuffer(r){return new LE(this)}getSize(r){return At.resolve(this.size)}}class LE extends sp{constructor(r){super(),this.Se=r}applyChanges(r){const a=[];return this.changes.forEach((c,h)=>{h.document.isValidDocument()?a.push(this.Se.addEntry(r,h.document,this.getReadTime(c))):this.Se.removeEntry(c)}),At.waitFor(a)}getFromCache(r,a){return this.Se.getEntry(r,a)}getAllFromCache(r,a){return this.Se.getEntries(r,a)}}class Qu{constructor(r){this.persistence=r,this.Ts=new Yu(a=>W(a),Ee),this.lastRemoteSnapshotVersion=Kn.min(),this.highestTargetId=0,this.Is=0,this.As=new Bh,this.targetCount=0,this.Rs=Sl.se()}forEachTarget(r,a){return this.Ts.forEach((c,h)=>a(h)),At.resolve()}getLastRemoteSnapshotVersion(r){return At.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(r){return At.resolve(this.Is)}allocateTargetId(r){return this.highestTargetId=this.Rs.next(),At.resolve(this.highestTargetId)}setTargetsMetadata(r,a,c){return c&&(this.lastRemoteSnapshotVersion=c),a>this.Is&&(this.Is=a),At.resolve()}ae(r){this.Ts.set(r.target,r);const a=r.targetId;a>this.highestTargetId&&(this.Rs=new Sl(a),this.highestTargetId=a),r.sequenceNumber>this.Is&&(this.Is=r.sequenceNumber)}addTargetData(r,a){return this.ae(a),this.targetCount+=1,At.resolve()}updateTargetData(r,a){return this.ae(a),At.resolve()}removeTargetData(r,a){return this.Ts.delete(a.target),this.As.cs(a.targetId),this.targetCount-=1,At.resolve()}removeTargets(r,a,c){let h=0;const E=[];return this.Ts.forEach((A,B)=>{B.sequenceNumber<=a&&null===c.get(B.targetId)&&(this.Ts.delete(A),E.push(this.removeMatchingKeysForTargetId(r,B.targetId)),h++)}),At.waitFor(E).next(()=>h)}getTargetCount(r){return At.resolve(this.targetCount)}getTargetData(r,a){const c=this.Ts.get(a)||null;return At.resolve(c)}addMatchingKeys(r,a,c){return this.As.ss(a,c),At.resolve()}removeMatchingKeys(r,a,c){this.As.os(a,c);const h=this.persistence.referenceDelegate,E=[];return h&&a.forEach(A=>{E.push(h.markPotentiallyOrphaned(r,A))}),At.waitFor(E)}removeMatchingKeysForTargetId(r,a){return this.As.cs(a),At.resolve()}getMatchingKeysForTargetId(r,a){const c=this.As.hs(a);return At.resolve(c)}containsKey(r,a){return At.resolve(this.As.containsKey(a))}}class jh{constructor(r,a){this.Ps={},this.Le=new Ls(0),this.Be=!1,this.Be=!0,this.referenceDelegate=r(this),this.ze=new Qu(this),this.Ht=new y_,this.He=new Tm(this.Ht,c=>this.referenceDelegate.bs(c)),this.N=new om(a),this.Je=new fp(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(r){let a=this.Ps[r.toKey()];return a||(a=new PE(this.Ht,this.referenceDelegate),this.Ps[r.toKey()]=a),a}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(r,a,c){wt("MemoryPersistence","Starting transaction:",r);const h=new Hh(this.Le.next());return this.referenceDelegate.vs(),c(h).next(E=>this.referenceDelegate.Vs(h).next(()=>E)).toPromise().then(E=>(h.raiseOnCommittedEvent(),E))}Ss(r,a){return At.or(Object.values(this.Ps).map(c=>()=>c.containsKey(r,a)))}}class Hh extends ea{constructor(r){super(),this.currentSequenceNumber=r}}class Od{constructor(r){this.persistence=r,this.Ds=new Bh,this.Cs=null}static Ns(r){return new Od(r)}get xs(){if(this.Cs)return this.Cs;throw Jt()}addReference(r,a,c){return this.Ds.addReference(c,a),this.xs.delete(c.toString()),At.resolve()}removeReference(r,a,c){return this.Ds.removeReference(c,a),this.xs.add(c.toString()),At.resolve()}markPotentiallyOrphaned(r,a){return this.xs.add(a.toString()),At.resolve()}removeTarget(r,a){this.Ds.cs(a.targetId).forEach(h=>this.xs.add(h.toString()));const c=this.persistence.getTargetCache();return c.getMatchingKeysForTargetId(r,a.targetId).next(h=>{h.forEach(E=>this.xs.add(E.toString()))}).next(()=>c.removeTargetData(r,a))}vs(){this.Cs=new Set}Vs(r){const a=this.persistence.getRemoteDocumentCache().newChangeBuffer();return At.forEach(this.xs,c=>{const h=Bt.fromPath(c);return this.ks(r,h).next(E=>{E||a.removeEntry(h)})}).next(()=>(this.Cs=null,a.apply(r)))}updateLimboDocument(r,a){return this.ks(r,a).next(c=>{c?this.xs.delete(a.toString()):this.xs.add(a.toString())})}bs(r){return 0}ks(r,a){return At.or([()=>At.resolve(this.Ds.containsKey(a)),()=>this.persistence.getTargetCache().containsKey(r,a),()=>this.persistence.Ss(r,a)])}}function w_(u,r){return`firestore_clients_${u}_${r}`}function Sm(u,r,a){let c=`firestore_mutations_${u}_${a}`;return r.isAuthenticated()&&(c+=`_${r.uid}`),c}function $h(u,r){return`firestore_targets_${u}_${r}`}class pp{constructor(r,a,c,h){this.user=r,this.batchId=a,this.state=c,this.error=h}static $s(r,a,c){const h=JSON.parse(c);let E,A="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return A&&h.error&&(A="string"==typeof h.error.message&&"string"==typeof h.error.code,A&&(E=new xt(h.error.code,h.error.message))),A?new pp(r,a,h.state,E):(mn("SharedClientState",`Failed to parse mutation state for ID '${a}': ${c}`),null)}Os(){const r={state:this.state,updateTimeMs:Date.now()};return this.error&&(r.error={code:this.error.code,message:this.error.message}),JSON.stringify(r)}}class Rd{constructor(r,a,c){this.targetId=r,this.state=a,this.error=c}static $s(r,a){const c=JSON.parse(a);let h,E="object"==typeof c&&-1!==["not-current","current","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return E&&c.error&&(E="string"==typeof c.error.message&&"string"==typeof c.error.code,E&&(h=new xt(c.error.code,c.error.message))),E?new Rd(r,c.state,h):(mn("SharedClientState",`Failed to parse target state for ID '${r}': ${a}`),null)}Os(){const r={state:this.state,updateTimeMs:Date.now()};return this.error&&(r.error={code:this.error.code,message:this.error.message}),JSON.stringify(r)}}class gp{constructor(r,a){this.clientId=r,this.activeTargetIds=a}static $s(r,a){const c=JSON.parse(a);let h="object"==typeof c&&c.activeTargetIds instanceof Array,E=Gl();for(let A=0;h&&A<c.activeTargetIds.length;++A)h=gu(c.activeTargetIds[A]),E=E.add(c.activeTargetIds[A]);return h?new gp(r,E):(mn("SharedClientState",`Failed to parse client data for instance '${r}': ${a}`),null)}}class Wh{constructor(r,a){this.clientId=r,this.onlineState=a}static $s(r){const a=JSON.parse(r);return"object"==typeof a&&-1!==["Unknown","Online","Offline"].indexOf(a.onlineState)&&"string"==typeof a.clientId?new Wh(a.clientId,a.onlineState):(mn("SharedClientState",`Failed to parse online state: ${r}`),null)}}class Gh{constructor(){this.activeTargetIds=Gl()}Fs(r){this.activeTargetIds=this.activeTargetIds.add(r)}Ms(r){this.activeTargetIds=this.activeTargetIds.delete(r)}Os(){const r={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(r)}}class mp{constructor(r,a,c,h,E){this.window=r,this.Oe=a,this.persistenceKey=c,this.Ls=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new fs(er),this.started=!1,this.Ks=[];const A=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=E,this.js=w_(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new Gh),this.Ws=new RegExp(`^firestore_clients_${A}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${A}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${A}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(B){return`firestore_bundle_loaded_${B}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static Pt(r){return!(!r||!r.localStorage)}start(){var r=this;return(0,me.Z)(function*(){const a=yield r.syncEngine.pn();for(const h of a){if(h===r.Ls)continue;const E=r.getItem(w_(r.persistenceKey,h));if(E){const A=gp.$s(h,E);A&&(r.qs=r.qs.insert(A.clientId,A))}}r.Ys();const c=r.storage.getItem(r.Hs);if(c){const h=r.Xs(c);h&&r.Zs(h)}for(const h of r.Ks)r.Us(h);r.Ks=[],r.window.addEventListener("pagehide",()=>r.shutdown()),r.started=!0})()}writeSequenceNumber(r){this.setItem(this.Qs,JSON.stringify(r))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(r){let a=!1;return this.qs.forEach((c,h)=>{h.activeTargetIds.has(r)&&(a=!0)}),a}addPendingMutation(r){this.ei(r,"pending")}updateMutationState(r,a,c){this.ei(r,a,c),this.ni(r)}addLocalQueryTarget(r){let a="not-current";if(this.isActiveQueryTarget(r)){const c=this.storage.getItem($h(this.persistenceKey,r));if(c){const h=Rd.$s(r,c);h&&(a=h.state)}}return this.si.Fs(r),this.Ys(),a}removeLocalQueryTarget(r){this.si.Ms(r),this.Ys()}isLocalQueryTarget(r){return this.si.activeTargetIds.has(r)}clearQueryState(r){this.removeItem($h(this.persistenceKey,r))}updateQueryState(r,a,c){this.ii(r,a,c)}handleUserChange(r,a,c){a.forEach(h=>{this.ni(h)}),this.currentUser=r,c.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(r){this.ri(r)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(r){const a=this.storage.getItem(r);return wt("SharedClientState","READ",r,a),a}setItem(r,a){wt("SharedClientState","SET",r,a),this.storage.setItem(r,a)}removeItem(r){wt("SharedClientState","REMOVE",r),this.storage.removeItem(r)}Us(r){var a=this;const c=r;if(c.storageArea===this.storage){if(wt("SharedClientState","EVENT",c.key,c.newValue),c.key===this.js)return void mn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,me.Z)(function*(){if(a.started){if(null!==c.key)if(a.Ws.test(c.key)){if(null==c.newValue){const h=a.ai(c.key);return a.ci(h,null)}{const h=a.ui(c.key,c.newValue);if(h)return a.ci(h.clientId,h)}}else if(a.Gs.test(c.key)){if(null!==c.newValue){const h=a.hi(c.key,c.newValue);if(h)return a.li(h)}}else if(a.zs.test(c.key)){if(null!==c.newValue){const h=a.fi(c.key,c.newValue);if(h)return a.di(h)}}else if(c.key===a.Hs){if(null!==c.newValue){const h=a.Xs(c.newValue);if(h)return a.Zs(h)}}else if(c.key===a.Qs){const h=function(E){let A=Ls.T;if(null!=E)try{const B=JSON.parse(E);pn("number"==typeof B),A=B}catch(B){mn("SharedClientState","Failed to read sequence number from WebStorage",B)}return A}(c.newValue);h!==Ls.T&&a.sequenceNumberHandler(h)}else if(c.key===a.Js)return a.syncEngine.wi()}else a.Ks.push(c)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(r,a,c){const h=new pp(this.currentUser,r,a,c),E=Sm(this.persistenceKey,this.currentUser,r);this.setItem(E,h.Os())}ni(r){const a=Sm(this.persistenceKey,this.currentUser,r);this.removeItem(a)}ri(r){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:r}))}ii(r,a,c){const h=$h(this.persistenceKey,r),E=new Rd(r,a,c);this.setItem(h,E.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(r){const a=this.Ws.exec(r);return a?a[1]:null}ui(r,a){const c=this.ai(r);return gp.$s(c,a)}hi(r,a){const c=this.Gs.exec(r),h=Number(c[1]);return pp.$s(new Ae(void 0!==c[2]?c[2]:null),h,a)}fi(r,a){const c=this.zs.exec(r),h=Number(c[1]);return Rd.$s(h,a)}Xs(r){return Wh.$s(r)}li(r){var a=this;return(0,me.Z)(function*(){if(r.user.uid===a.currentUser.uid)return a.syncEngine._i(r.batchId,r.state,r.error);wt("SharedClientState",`Ignoring mutation for non-active user ${r.user.uid}`)})()}di(r){return this.syncEngine.mi(r.targetId,r.state,r.error)}ci(r,a){const c=a?this.qs.insert(r,a):this.qs.remove(r),h=this.ti(this.qs),E=this.ti(c),A=[],B=[];return E.forEach(Y=>{h.has(Y)||A.push(Y)}),h.forEach(Y=>{E.has(Y)||B.push(Y)}),this.syncEngine.gi(A,B).then(()=>{this.qs=c})}Zs(r){this.qs.get(r.clientId)&&this.onlineStateHandler(r.onlineState)}ti(r){let a=Gl();return r.forEach((c,h)=>{a=a.unionWith(h.activeTargetIds)}),a}}class zh{constructor(){this.yi=new Gh,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(r){}updateMutationState(r,a,c){}addLocalQueryTarget(r){return this.yi.Fs(r),this.pi[r]||"not-current"}updateQueryState(r,a,c){this.pi[r]=a}removeLocalQueryTarget(r){this.yi.Ms(r)}isLocalQueryTarget(r){return this.yi.activeTargetIds.has(r)}clearQueryState(r){delete this.pi[r]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(r){return this.yi.activeTargetIds.has(r)}start(){return this.yi=new Gh,Promise.resolve()}handleUserChange(r,a,c){}setOnlineState(r){}shutdown(){}writeSequenceNumber(r){}notifyBundleLoaded(){}}class kE{Ei(r){}shutdown(){}}class C_{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.Pi=[],this.bi()}Ei(r){this.Pi.push(r)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}bi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){wt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const r of this.Pi)r(0)}Ri(){wt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const r of this.Pi)r(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const FE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class VE{constructor(r){this.vi=r.vi,this.Vi=r.Vi}Si(r){this.Di=r}Ci(r){this.Ni=r}onMessage(r){this.xi=r}close(){this.Vi()}send(r){this.vi(r)}ki(){this.Di()}$i(r){this.Ni(r)}Oi(r){this.xi(r)}}class UE extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId,this.Fi=(r.ssl?"https":"http")+"://"+r.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(r,a,c,h){const E=this.Bi(r,a);wt("RestConnection","Sending: ",E,c);const A={};return this.Ui(A,h),this.qi(r,E,A,c).then(B=>(wt("RestConnection","Received: ",B),B),B=>{throw wi("RestConnection",`${r} failed with error: `,B,"url: ",E,"request:",c),B})}Ki(r,a,c,h){return this.Li(r,a,c,h)}Ui(r,a){if(r["X-Goog-Api-Client"]="gl-js/ fire/"+ct,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),a)for(const c in a.authHeaders)a.authHeaders.hasOwnProperty(c)&&(r[c]=a.authHeaders[c])}Bi(r,a){return`${this.Fi}/v1/${a}:${FE[r]}`}}{constructor(r){super(r),this.forceLongPolling=r.forceLongPolling,this.autoDetectLongPolling=r.autoDetectLongPolling,this.useFetchStreams=r.useFetchStreams}qi(r,a,c,h){return new Promise((E,A)=>{const B=new Z;B.listenOnce(ul.COMPLETE,()=>{try{switch(B.getLastErrorCode()){case xr.NO_ERROR:const _e=B.getResponseJson();wt("Connection","XHR received:",JSON.stringify(_e)),E(_e);break;case xr.TIMEOUT:wt("Connection",'RPC "'+r+'" timed out'),A(new xt(st.DEADLINE_EXCEEDED,"Request time out"));break;case xr.HTTP_ERROR:const De=B.getStatus();if(wt("Connection",'RPC "'+r+'" failed with status:',De,"response text:",B.getResponseText()),De>0){const Le=B.getResponseJson().error;if(Le&&Le.status&&Le.message){const lt=function(Ct){const jt=Ct.toLowerCase().replace(/_/g,"-");return Object.values(st).indexOf(jt)>=0?jt:st.UNKNOWN}(Le.status);A(new xt(lt,Le.message))}else A(new xt(st.UNKNOWN,"Server responded with status "+B.getStatus()))}else A(new xt(st.UNAVAILABLE,"Connection failed."));break;default:Jt()}}finally{wt("Connection",'RPC "'+r+'" completed.')}});const Y=JSON.stringify(h);B.send(a,"POST",Y,c,15)})}ji(r,a){const c=[this.Fi,"/","google.firestore.v1.Firestore","/",r,"/channel"],h=new Be,E=Mi(),A={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(A.xmlHttpFactory=new D({})),this.Ui(A.initMessageHeaders,a),(0,Ge.uI)()||(0,Ge.b$)()||(0,Ge.d)()||(0,Ge.w1)()||(0,Ge.Mn)()||(0,Ge.ru)()||(A.httpHeadersOverwriteParam="$httpHeaders");const B=c.join("");wt("Connection","Creating WebChannel: "+B,A);const Y=h.createWebChannel(B,A);let _e=!1,De=!1;const Le=new VE({vi:Ct=>{De?wt("Connection","Not sending because WebChannel is closed:",Ct):(_e||(wt("Connection","Opening WebChannel transport."),Y.open(),_e=!0),wt("Connection","WebChannel sending:",Ct),Y.send(Ct))},Vi:()=>Y.close()}),lt=(Ct,jt,En)=>{Ct.listen(jt,Yn=>{try{En(Yn)}catch(Ni){setTimeout(()=>{throw Ni},0)}})};return lt(Y,H.EventType.OPEN,()=>{De||wt("Connection","WebChannel transport opened.")}),lt(Y,H.EventType.CLOSE,()=>{De||(De=!0,wt("Connection","WebChannel transport closed"),Le.$i())}),lt(Y,H.EventType.ERROR,Ct=>{De||(De=!0,wi("Connection","WebChannel transport errored:",Ct),Le.$i(new xt(st.UNAVAILABLE,"The operation could not be completed")))}),lt(Y,H.EventType.MESSAGE,Ct=>{var jt;if(!De){const En=Ct.data[0];pn(!!En);const Yn=En,Ni=Yn.error||(null===(jt=Yn[0])||void 0===jt?void 0:jt.error);if(Ni){wt("Connection","WebChannel received error:",Ni);const Ys=Ni.status;let Nu=function(ia){const od=Gi[ia];if(void 0!==od)return xc(od)}(Ys),Oo=Ni.message;void 0===Nu&&(Nu=st.INTERNAL,Oo="Unknown error status: "+Ys+" with message "+Ni.message),De=!0,Le.$i(new xt(Nu,Oo)),Y.close()}else wt("Connection","WebChannel received:",En),Le.Oi(En)}}),lt(E,P.STAT_EVENT,Ct=>{Ct.stat===M_PROXY?wt("Connection","Detected buffering proxy"):Ct.stat===M_NOPROXY&&wt("Connection","Detected no buffering proxy")}),setTimeout(()=>{Le.ki()},0),Le}}function I_(){return"undefined"!=typeof window?window:null}function yp(){return"undefined"!=typeof document?document:null}function Kh(u){return new Zf(u,!0)}class Am{constructor(r,a,c=1e3,h=1.5,E=6e4){this.Oe=r,this.timerId=a,this.Qi=c,this.Wi=h,this.Gi=E,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(r){this.cancel();const a=Math.floor(this.zi+this.Zi()),c=Math.max(0,Date.now()-this.Ji),h=Math.max(0,a-c);h>0&&wt("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.zi} ms, delay with jitter: ${a} ms, last attempt: ${c} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,h,()=>(this.Ji=Date.now(),r())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class D_{constructor(r,a,c,h,E,A){this.Oe=r,this.er=c,this.nr=h,this.credentialsProvider=E,this.listener=A,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Am(r,a)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var r=this;return(0,me.Z)(function*(){r.ar()&&(yield r.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(r){this._r(),this.stream.send(r)}dr(){var r=this;return(0,me.Z)(function*(){if(r.cr())return r.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(r,a){var c=this;return(0,me.Z)(function*(){c._r(),c.rr.cancel(),c.sr++,3!==r?c.rr.reset():a&&a.code===st.RESOURCE_EXHAUSTED?(mn(a.toString()),mn("Using maximum backoff delay to prevent overloading the backend."),c.rr.Yi()):a&&a.code===st.UNAUTHENTICATED&&c.credentialsProvider.invalidateToken(),null!==c.stream&&(c.mr(),c.stream.close(),c.stream=null),c.state=r,yield c.listener.Ci(a)})()}mr(){}auth(){this.state=1;const r=this.gr(this.sr),a=this.sr;this.credentialsProvider.getToken().then(c=>{this.sr===a&&this.yr(c)},c=>{r(()=>{const h=new xt(st.UNKNOWN,"Fetching auth token failed: "+c.message);return this.pr(h)})})}yr(r){const a=this.gr(this.sr);this.stream=this.Er(r),this.stream.Si(()=>{a(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(c=>{a(()=>this.pr(c))}),this.stream.onMessage(c=>{a(()=>this.onMessage(c))})}ur(){var r=this;this.state=4,this.rr.Xi((0,me.Z)(function*(){r.state=0,r.start()}))}pr(r){return wt("PersistentStream",`close with error: ${r}`),this.stream=null,this.close(3,r)}gr(r){return a=>{this.Oe.enqueueAndForget(()=>this.sr===r?a():(wt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BE extends D_{constructor(r,a,c,h,E){super(r,"listen_stream_connection_backoff","listen_stream_idle",a,c,E),this.N=h}Er(r){return this.nr.ji("Listen",r)}onMessage(r){this.rr.reset();const a=function(u,r){let a;if("targetChange"in r){const c="NO_CHANGE"===(Y=r.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Y?1:"REMOVE"===Y?2:"CURRENT"===Y?3:"RESET"===Y?4:Jt(),h=r.targetChange.targetIds||[],E=function(Y,_e){return Y.D?(pn(void 0===_e||"string"==typeof _e),hs.fromBase64String(_e||"")):(pn(void 0===_e||_e instanceof Uint8Array),hs.fromUint8Array(_e||new Uint8Array))}(u,r.targetChange.resumeToken),A=r.targetChange.cause,B=A&&function(Y){const _e=void 0===Y.code?st.UNKNOWN:xc(Y.code);return new xt(_e,Y.message||"")}(A);a=new Ku(c,h,E,B||null)}else if("documentChange"in r){const c=r.documentChange,h=Fr(u,c.document.name),E=Bi(c.document.updateTime),A=new Ds({mapValue:{fields:c.document.fields}}),B=y.newFoundDocument(h,E,A);a=new _d(c.targetIds||[],c.removedTargetIds||[],B.key,B)}else if("documentDelete"in r){const c=r.documentDelete,h=Fr(u,c.document),E=c.readTime?Bi(c.readTime):Kn.min(),A=y.newNoDocument(h,E);a=new _d([],c.removedTargetIds||[],A.key,A)}else if("documentRemove"in r){const c=r.documentRemove,h=Fr(u,c.document);a=new _d([],c.removedTargetIds||[],h,null)}else{if(!("filter"in r))return Jt();{const c=r.filter,E=new El(c.count||0);a=new Gf(c.targetId,E)}}var Y;return a}(this.N,r),c=function(h){if(!("targetChange"in h))return Kn.min();const E=h.targetChange;return E.targetIds&&E.targetIds.length?Kn.min():E.readTime?Bi(E.readTime):Kn.min()}(r);return this.listener.Tr(a,c)}Ir(r){const a={};a.database=nu(this.N),a.addTarget=function(h,E){let A;const B=E.target;return A=Te(B)?{documents:wu(h,B)}:{query:Zs(h,B)},A.targetId=E.targetId,E.resumeToken.approximateByteSize()>0?A.resumeToken=Kl(h,E.resumeToken):E.snapshotVersion.compareTo(Kn.min())>0&&(A.readTime=zl(h,E.snapshotVersion.toTimestamp())),A}(this.N,r);const c=function(u,r){const a=function(c,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Jt()}}(0,r.purpose);return null==a?null:{"goog-listen-tags":a}}(0,r);c&&(a.labels=c),this.wr(a)}Ar(r){const a={};a.database=nu(this.N),a.removeTarget=r,this.wr(a)}}class xl extends D_{constructor(r,a,c,h,E){super(r,"write_stream_connection_backoff","write_stream_idle",a,c,E),this.N=h,this.Rr=!1}get Pr(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.br([])}Er(r){return this.nr.ji("Write",r)}onMessage(r){if(pn(!!r.streamToken),this.lastStreamToken=r.streamToken,this.Rr){this.rr.reset();const a=function(u,r){return u&&u.length>0?(pn(void 0!==r),u.map(a=>function(c,h){let E=Bi(c.updateTime?c.updateTime:h);return E.isEqual(Kn.min())&&(E=Bi(h)),new _l(E,c.transformResults||[])}(a,r))):[]}(r.writeResults,r.commitTime),c=Bi(r.commitTime);return this.listener.vr(c,a)}return pn(!r.writeResults||0===r.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const r={};r.database=nu(this.N),this.wr(r)}br(r){const a={streamToken:this.lastStreamToken,writes:r.map(c=>Yl(this.N,c))};this.wr(a)}}class _p extends class{}{constructor(r,a,c){super(),this.credentials=r,this.nr=a,this.N=c,this.Dr=!1}Cr(){if(this.Dr)throw new xt(st.FAILED_PRECONDITION,"The client has already been terminated.")}Li(r,a,c){return this.Cr(),this.credentials.getToken().then(h=>this.nr.Li(r,a,c,h)).catch(h=>{throw"FirebaseError"===h.name?(h.code===st.UNAUTHENTICATED&&this.credentials.invalidateToken(),h):new xt(st.UNKNOWN,h.toString())})}Ki(r,a,c){return this.Cr(),this.credentials.getToken().then(h=>this.nr.Ki(r,a,c,h)).catch(h=>{throw"FirebaseError"===h.name?(h.code===st.UNAUTHENTICATED&&this.credentials.invalidateToken(),h):new xt(st.UNKNOWN,h.toString())})}terminate(){this.Dr=!0}}class T_{constructor(r,a){this.asyncQueue=r,this.onlineStateHandler=a,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(r){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${r.toString()}`),this.Fr("Offline")))}set(r){this.Br(),this.Nr=0,"Online"===r&&(this.$r=!1),this.Fr(r)}Fr(r){r!==this.state&&(this.state=r,this.onlineStateHandler(r))}Mr(r){const a=`Could not reach Cloud Firestore backend. ${r}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(mn(a),this.$r=!1):wt("OnlineStateTracker",a)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class xm{constructor(r,a,c,h,E){var A=this;this.localStore=r,this.datastore=a,this.asyncQueue=c,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=E,this.Qr.Ei(B=>{c.enqueueAndForget((0,me.Z)(function*(){var Y;Ju(A)&&(wt("RemoteStore","Restarting streams for network reachability change."),yield(Y=(0,me.Z)(function*(_e){const De=kt(_e);De.Kr.add(4),yield Ml(De),De.Wr.set("Unknown"),De.Kr.delete(4),yield oc(De)}),function(_e){return Y.apply(this,arguments)})(A))}))}),this.Wr=new T_(c,h)}}function oc(u){return Zh.apply(this,arguments)}function Zh(){return(Zh=(0,me.Z)(function*(u){if(Ju(u))for(const r of u.jr)yield r(!0)})).apply(this,arguments)}function Ml(u){return vp.apply(this,arguments)}function vp(){return(vp=(0,me.Z)(function*(u){for(const r of u.jr)yield r(!1)})).apply(this,arguments)}function su(u,r){const a=kt(u);a.qr.has(r.targetId)||(a.qr.set(r.targetId,r),bp(a)?Nd(a):Zc(a).cr()&&Ep(a,r))}function Gc(u,r){const a=kt(u),c=Zc(a);a.qr.delete(r),c.cr()&&S_(a,r),0===a.qr.size&&(c.cr()?c.lr():Ju(a)&&a.Wr.set("Unknown"))}function Ep(u,r){u.Gr.Y(r.targetId),Zc(u).Ir(r)}function S_(u,r){u.Gr.Y(r),Zc(u).Ar(r)}function Nd(u){u.Gr=new vd({getRemoteKeysForTarget:r=>u.remoteSyncer.getRemoteKeysForTarget(r),Et:r=>u.qr.get(r)||null}),Zc(u).start(),u.Wr.Or()}function bp(u){return Ju(u)&&!Zc(u).ar()&&u.qr.size>0}function Ju(u){return 0===kt(u).Kr.size}function Mm(u){u.Gr=void 0}function A_(u){return ac.apply(this,arguments)}function ac(){return(ac=(0,me.Z)(function*(u){u.qr.forEach((r,a)=>{Ep(u,r)})})).apply(this,arguments)}function zc(u,r){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,me.Z)(function*(u,r){Mm(u),bp(u)?(u.Wr.Lr(r),Nd(u)):u.Wr.set("Unknown")})).apply(this,arguments)}function Kc(u,r,a){return uc.apply(this,arguments)}function uc(){return(uc=(0,me.Z)(function*(u,r,a){if(u.Wr.set("Online"),r instanceof Ku&&2===r.state&&r.cause)try{yield(c=(0,me.Z)(function*(h,E){const A=E.cause;for(const B of E.targetIds)h.qr.has(B)&&(yield h.remoteSyncer.rejectListen(B,A),h.qr.delete(B),h.Gr.removeTarget(B))}),function(h,E){return c.apply(this,arguments)})(u,r)}catch(c){wt("RemoteStore","Failed to remove targets %s: %s ",r.targetIds.join(","),c),yield Xu(u,c)}else if(r instanceof _d?u.Gr.rt(r):r instanceof Gf?u.Gr.ft(r):u.Gr.ct(r),!a.isEqual(Kn.min()))try{const c=yield wm(u.localStore);a.compareTo(c)>=0&&(yield function(h,E){const A=h.Gr._t(E);return A.targetChanges.forEach((B,Y)=>{if(B.resumeToken.approximateByteSize()>0){const _e=h.qr.get(Y);_e&&h.qr.set(Y,_e.withResumeToken(B.resumeToken,E))}}),A.targetMismatches.forEach(B=>{const Y=h.qr.get(B);if(!Y)return;h.qr.set(B,Y.withResumeToken(hs.EMPTY_BYTE_STRING,Y.snapshotVersion)),S_(h,B);const _e=new Iu(Y.target,B,1,Y.sequenceNumber);Ep(h,_e)}),h.remoteSyncer.applyRemoteEvent(A)}(u,a))}catch(c){wt("RemoteStore","Failed to raise snapshot:",c),yield Xu(u,c)}var c})).apply(this,arguments)}function Xu(u,r,a){return wp.apply(this,arguments)}function wp(){return(wp=(0,me.Z)(function*(u,r,a){if(!ru(r))throw r;u.Kr.add(1),yield Ml(u),u.Wr.set("Offline"),a||(a=()=>wm(u.localStore)),u.asyncQueue.enqueueRetryable((0,me.Z)(function*(){wt("RemoteStore","Retrying IndexedDB access"),yield a(),u.Kr.delete(1),yield oc(u)}))})).apply(this,arguments)}function Cp(u,r){return r().catch(a=>Xu(u,a,r))}function lc(u){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,me.Z)(function*(u){const r=kt(u),a=cc(r);let c=r.Ur.length>0?r.Ur[r.Ur.length-1].batchId:-1;for(;Ip(r);)try{const h=yield Im(r.localStore,c);if(null===h){0===r.Ur.length&&a.lr();break}c=h.batchId,Om(r,h)}catch(h){yield Xu(r,h)}kd(r)&&Rm(r)})).apply(this,arguments)}function Ip(u){return Ju(u)&&u.Ur.length<10}function Om(u,r){u.Ur.push(r);const a=cc(u);a.cr()&&a.Pr&&a.br(r.mutations)}function kd(u){return Ju(u)&&!cc(u).ar()&&u.Ur.length>0}function Rm(u){cc(u).start()}function Nm(u){return Pm.apply(this,arguments)}function Pm(){return(Pm=(0,me.Z)(function*(u){cc(u).Sr()})).apply(this,arguments)}function Lm(u){return qh.apply(this,arguments)}function qh(){return(qh=(0,me.Z)(function*(u){const r=cc(u);for(const a of u.Ur)r.br(a.mutations)})).apply(this,arguments)}function x_(u,r,a){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,me.Z)(function*(u,r,a){const c=u.Ur.shift(),h=Ad.from(c,r,a);yield Cp(u,()=>u.remoteSyncer.applySuccessfulWrite(h)),yield lc(u)})).apply(this,arguments)}function M_(u,r){return Dp.apply(this,arguments)}function Dp(){return(Dp=(0,me.Z)(function*(u,r){var a;r&&cc(u).Pr&&(yield(a=(0,me.Z)(function*(c,h){if(_h(E=h.code)&&E!==st.ABORTED){const A=c.Ur.shift();cc(c).hr(),yield Cp(c,()=>c.remoteSyncer.rejectFailedWrite(A.batchId,h)),yield lc(c)}var E}),function(c,h){return a.apply(this,arguments)})(u,r)),kd(u)&&Rm(u)})).apply(this,arguments)}function Wo(u,r){return Tp.apply(this,arguments)}function Tp(){return(Tp=(0,me.Z)(function*(u,r){const a=kt(u);r?(a.Kr.delete(2),yield oc(a)):r||(a.Kr.add(2),yield Ml(a),a.Wr.set("Unknown"))})).apply(this,arguments)}function Zc(u){return u.zr||(u.zr=function(r,a,c){const h=kt(r);return h.Cr(),new BE(a,h.nr,h.credentials,h.N,c)}(u.datastore,u.asyncQueue,{Si:A_.bind(null,u),Ci:zc.bind(null,u),Tr:Kc.bind(null,u)}),u.jr.push(function(){var r=(0,me.Z)(function*(a){a?(u.zr.hr(),bp(u)?Nd(u):u.Wr.set("Unknown")):(yield u.zr.stop(),Mm(u))});return function(a){return r.apply(this,arguments)}}())),u.zr}function cc(u){return u.Hr||(u.Hr=function(r,a,c){const h=kt(r);return h.Cr(),new xl(a,h.nr,h.credentials,h.N,c)}(u.datastore,u.asyncQueue,{Si:Nm.bind(null,u),Ci:M_.bind(null,u),Vr:Lm.bind(null,u),vr:x_.bind(null,u)}),u.jr.push(function(){var r=(0,me.Z)(function*(a){a?(u.Hr.hr(),yield lc(u)):(yield u.Hr.stop(),u.Ur.length>0&&(wt("RemoteStore",`Stopping write stream with ${u.Ur.length} pending writes`),u.Ur=[]))});return function(a){return r.apply(this,arguments)}}())),u.Hr}class km{constructor(r,a,c,h,E){this.asyncQueue=r,this.timerId=a,this.targetTimeMs=c,this.op=h,this.removalCallback=E,this.deferred=new ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(A=>{})}static createAndSchedule(r,a,c,h,E){const A=Date.now()+c,B=new km(r,a,A,h,E);return B.start(c),B}start(r){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),r)}skipDelay(){return this.handleDelayElapsed()}cancel(r){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xt(st.CANCELLED,"Operation cancelled"+(r?": "+r:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(r=>this.deferred.resolve(r))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dc(u,r){if(mn("AsyncQueue",`${r}: ${u}`),ru(u))return new xt(st.UNAVAILABLE,`${r}: ${u}`);throw u}class Fd{constructor(r){this.comparator=r?(a,c)=>r(a,c)||Bt.comparator(a.key,c.key):(a,c)=>Bt.comparator(a.key,c.key),this.keyedMap=md(),this.sortedSet=new fs(this.comparator)}static emptySet(r){return new Fd(r.comparator)}has(r){return null!=this.keyedMap.get(r)}get(r){return this.keyedMap.get(r)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(r){const a=this.keyedMap.get(r);return a?this.sortedSet.indexOf(a):-1}get size(){return this.sortedSet.size}forEach(r){this.sortedSet.inorderTraversal((a,c)=>(r(a),!1))}add(r){const a=this.delete(r.key);return a.copy(a.keyedMap.insert(r.key,r),a.sortedSet.insert(r,null))}delete(r){const a=this.get(r);return a?this.copy(this.keyedMap.remove(r),this.sortedSet.remove(a)):this}isEqual(r){if(!(r instanceof Fd)||this.size!==r.size)return!1;const a=this.sortedSet.getIterator(),c=r.sortedSet.getIterator();for(;a.hasNext();){const h=a.getNext().key,E=c.getNext().key;if(!h.isEqual(E))return!1}return!0}toString(){const r=[];return this.forEach(a=>{r.push(a.toString())}),0===r.length?"DocumentSet ()":"DocumentSet (\n  "+r.join("  \n")+"\n)"}copy(r,a){const c=new Fd;return c.comparator=this.comparator,c.keyedMap=r,c.sortedSet=a,c}}class Fm{constructor(){this.Jr=new fs(Bt.comparator)}track(r){const a=r.doc.key,c=this.Jr.get(a);c?0!==r.type&&3===c.type?this.Jr=this.Jr.insert(a,r):3===r.type&&1!==c.type?this.Jr=this.Jr.insert(a,{type:c.type,doc:r.doc}):2===r.type&&2===c.type?this.Jr=this.Jr.insert(a,{type:2,doc:r.doc}):2===r.type&&0===c.type?this.Jr=this.Jr.insert(a,{type:0,doc:r.doc}):1===r.type&&0===c.type?this.Jr=this.Jr.remove(a):1===r.type&&2===c.type?this.Jr=this.Jr.insert(a,{type:1,doc:c.doc}):0===r.type&&1===c.type?this.Jr=this.Jr.insert(a,{type:2,doc:r.doc}):Jt():this.Jr=this.Jr.insert(a,r)}Yr(){const r=[];return this.Jr.inorderTraversal((a,c)=>{r.push(c)}),r}}class Ol{constructor(r,a,c,h,E,A,B,Y){this.query=r,this.docs=a,this.oldDocs=c,this.docChanges=h,this.mutatedKeys=E,this.fromCache=A,this.syncStateChanged=B,this.excludesMetadataChanges=Y}static fromInitialDocuments(r,a,c,h){const E=[];return a.forEach(A=>{E.push({type:0,doc:A})}),new Ol(r,a,Fd.emptySet(a),E,c,h,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(r){if(!(this.fromCache===r.fromCache&&this.syncStateChanged===r.syncStateChanged&&this.mutatedKeys.isEqual(r.mutatedKeys)&&Xn(this.query,r.query)&&this.docs.isEqual(r.docs)&&this.oldDocs.isEqual(r.oldDocs)))return!1;const a=this.docChanges,c=r.docChanges;if(a.length!==c.length)return!1;for(let h=0;h<a.length;h++)if(a[h].type!==c[h].type||!a[h].doc.isEqual(c[h].doc))return!1;return!0}}class Vm{constructor(){this.Xr=void 0,this.listeners=[]}}class O_{constructor(){this.queries=new Yu(r=>Gr(r),Xn),this.onlineState="Unknown",this.Zr=new Set}}function Sp(u,r){return Ap.apply(this,arguments)}function Ap(){return(Ap=(0,me.Z)(function*(u,r){const a=kt(u),c=r.query;let h=!1,E=a.queries.get(c);if(E||(h=!0,E=new Vm),h)try{E.Xr=yield a.onListen(c)}catch(A){const B=dc(A,`Initialization of query '${Ss(r.query)}' failed`);return void r.onError(B)}a.queries.set(c,E),E.listeners.push(r),r.eo(a.onlineState),E.Xr&&r.no(E.Xr)&&Mp(a)})).apply(this,arguments)}function Qh(u,r){return xp.apply(this,arguments)}function xp(){return(xp=(0,me.Z)(function*(u,r){const a=kt(u),c=r.query;let h=!1;const E=a.queries.get(c);if(E){const A=E.listeners.indexOf(r);A>=0&&(E.listeners.splice(A,1),h=0===E.listeners.length)}if(h)return a.queries.delete(c),a.onUnlisten(c)})).apply(this,arguments)}function Um(u,r){const a=kt(u);let c=!1;for(const h of r){const A=a.queries.get(h.query);if(A){for(const B of A.listeners)B.no(h)&&(c=!0);A.Xr=h}}c&&Mp(a)}function R_(u,r,a){const c=kt(u),h=c.queries.get(r);if(h)for(const E of h.listeners)E.onError(a);c.queries.delete(r)}function Mp(u){u.Zr.forEach(r=>{r.next()})}class Jh{constructor(r,a,c){this.query=r,this.so=a,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=c||{}}no(r){if(!this.options.includeMetadataChanges){const c=[];for(const h of r.docChanges)3!==h.type&&c.push(h);r=new Ol(r.query,r.docs,r.oldDocs,c,r.mutatedKeys,r.fromCache,r.syncStateChanged,!0)}let a=!1;return this.io?this.oo(r)&&(this.so.next(r),a=!0):this.ao(r,this.onlineState)&&(this.co(r),a=!0),this.ro=r,a}onError(r){this.so.error(r)}eo(r){this.onlineState=r;let a=!1;return this.ro&&!this.io&&this.ao(this.ro,r)&&(this.co(this.ro),a=!0),a}ao(r,a){return!r.fromCache||!(this.options.uo&&"Offline"!==a||r.docs.isEmpty()&&"Offline"!==a)}oo(r){return r.docChanges.length>0||!!(r.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==r.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(r){r=Ol.fromInitialDocuments(r.query,r.docs,r.mutatedKeys,r.fromCache),this.io=!0,this.so.next(r)}}class Bm{constructor(r,a){this.payload=r,this.byteLength=a}ho(){return"metadata"in this.payload}}class jm{constructor(r){this.N=r}zn(r){return Fr(this.N,r)}Hn(r){return r.metadata.exists?Fc(this.N,r.document,!1):y.newNoDocument(this.zn(r.metadata.name),this.Jn(r.metadata.readTime))}Jn(r){return Bi(r)}}class Tu{constructor(r,a,c){this.lo=r,this.localStore=a,this.N=c,this.queries=[],this.documents=[],this.progress=Xh(r)}fo(r){this.progress.bytesLoaded+=r.byteLength;let a=this.progress.documentsLoaded;return r.payload.namedQuery?this.queries.push(r.payload.namedQuery):r.payload.documentMetadata?(this.documents.push({metadata:r.payload.documentMetadata}),r.payload.documentMetadata.exists||++a):r.payload.document&&(this.documents[this.documents.length-1].document=r.payload.document,++a),a!==this.progress.documentsLoaded?(this.progress.documentsLoaded=a,Object.assign({},this.progress)):null}wo(r){const a=new Map,c=new jm(this.N);for(const h of r)if(h.metadata.queries){const E=c.zn(h.metadata.name);for(const A of h.metadata.queries){const B=(a.get(A)||wr()).add(E);a.set(A,B)}}return a}complete(){var r=this;return(0,me.Z)(function*(){const a=yield function(u,r,a,c){return dp.apply(this,arguments)}(r.localStore,new jm(r.N),r.documents,r.lo.id),c=r.wo(r.documents);for(const h of r.queries)yield hp(r.localStore,h,c.get(h.name));return r.progress.taskState="Success",new _m(Object.assign({},r.progress),a)})()}}function Xh(u){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:u.totalDocuments,totalBytes:u.totalBytes}}class Hm{constructor(r){this.key=r}}class $m{constructor(r){this.key=r}}class N_{constructor(r,a){this.query=r,this._o=a,this.mo=null,this.current=!1,this.yo=wr(),this.mutatedKeys=wr(),this.po=Do(r),this.Eo=new Fd(this.po)}get To(){return this._o}Io(r,a){const c=a?a.Ao:new Fm,h=a?a.Eo:this.Eo;let E=a?a.mutatedKeys:this.mutatedKeys,A=h,B=!1;const Y=Qa(this.query)&&h.size===this.query.limit?h.last():null,_e=Ja(this.query)&&h.size===this.query.limit?h.first():null;if(r.inorderTraversal((De,Le)=>{const lt=h.get(De),Ct=oi(this.query,Le)?Le:null,jt=!!lt&&this.mutatedKeys.has(lt.key),En=!!Ct&&(Ct.hasLocalMutations||this.mutatedKeys.has(Ct.key)&&Ct.hasCommittedMutations);let Yn=!1;lt&&Ct?lt.data.isEqual(Ct.data)?jt!==En&&(c.track({type:3,doc:Ct}),Yn=!0):this.Ro(lt,Ct)||(c.track({type:2,doc:Ct}),Yn=!0,(Y&&this.po(Ct,Y)>0||_e&&this.po(Ct,_e)<0)&&(B=!0)):!lt&&Ct?(c.track({type:0,doc:Ct}),Yn=!0):lt&&!Ct&&(c.track({type:1,doc:lt}),Yn=!0,(Y||_e)&&(B=!0)),Yn&&(Ct?(A=A.add(Ct),E=En?E.add(De):E.delete(De)):(A=A.delete(De),E=E.delete(De)))}),Qa(this.query)||Ja(this.query))for(;A.size>this.query.limit;){const De=Qa(this.query)?A.last():A.first();A=A.delete(De.key),E=E.delete(De.key),c.track({type:1,doc:De})}return{Eo:A,Ao:c,Ln:B,mutatedKeys:E}}Ro(r,a){return r.hasLocalMutations&&a.hasCommittedMutations&&!a.hasLocalMutations}applyChanges(r,a,c){const h=this.Eo;this.Eo=r.Eo,this.mutatedKeys=r.mutatedKeys;const E=r.Ao.Yr();E.sort((_e,De)=>function(Le,lt){const Ct=jt=>{switch(jt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Jt()}};return Ct(Le)-Ct(lt)}(_e.type,De.type)||this.po(_e.doc,De.doc)),this.Po(c);const A=a?this.bo():[],B=0===this.yo.size&&this.current?1:0,Y=B!==this.mo;return this.mo=B,0!==E.length||Y?{snapshot:new Ol(this.query,r.Eo,h,E,r.mutatedKeys,0===B,Y,!1),vo:A}:{vo:A}}eo(r){return this.current&&"Offline"===r?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new Fm,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(r){return!this._o.has(r)&&!!this.Eo.has(r)&&!this.Eo.get(r).hasLocalMutations}Po(r){r&&(r.addedDocuments.forEach(a=>this._o=this._o.add(a)),r.modifiedDocuments.forEach(a=>{}),r.removedDocuments.forEach(a=>this._o=this._o.delete(a)),this.current=r.current)}bo(){if(!this.current)return[];const r=this.yo;this.yo=wr(),this.Eo.forEach(c=>{this.Vo(c.key)&&(this.yo=this.yo.add(c.key))});const a=[];return r.forEach(c=>{this.yo.has(c)||a.push(new $m(c))}),this.yo.forEach(c=>{r.has(c)||a.push(new Hm(c))}),a}So(r){this._o=r.Gn,this.yo=wr();const a=this.Io(r.documents);return this.applyChanges(a,!0)}Do(){return Ol.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class Wm{constructor(r,a,c){this.query=r,this.targetId=a,this.view=c}}class P_{constructor(r){this.key=r,this.Co=!1}}class L_{constructor(r,a,c,h,E,A){this.localStore=r,this.remoteStore=a,this.eventManager=c,this.sharedClientState=h,this.currentUser=E,this.maxConcurrentLimboResolutions=A,this.No={},this.xo=new Yu(B=>Gr(B),Xn),this.ko=new Map,this.$o=new Set,this.Oo=new fs(Bt.comparator),this.Fo=new Map,this.Mo=new Bh,this.Lo={},this.Bo=new Map,this.Uo=Sl.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function k_(u,r){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,me.Z)(function*(u,r){const a=$p(u);let c,h;const E=a.xo.get(r);if(E)c=E.targetId,a.sharedClientState.addLocalQueryTarget(c),h=E.view.Do();else{const A=yield $c(a.localStore,cn(r)),B=a.sharedClientState.addLocalQueryTarget(A.targetId);c=A.targetId,h=yield Op(a,r,c,"current"===B),a.isPrimaryClient&&su(a.remoteStore,A)}return h})).apply(this,arguments)}function Op(u,r,a,c){return Rp.apply(this,arguments)}function Rp(){return(Rp=(0,me.Z)(function*(u,r,a,c){u.Ko=(De,Le,lt)=>{return(Ct=(0,me.Z)(function*(jt,En,Yn,Ni){let Ys=En.view.Io(Yn);Ys.Ln&&(Ys=yield Zn(jt.localStore,En.query,!1).then(({documents:ia})=>En.view.Io(ia,Ys)));const Nu=Ni&&Ni.targetChanges.get(En.targetId),Oo=En.view.applyChanges(Ys,jt.isPrimaryClient,Nu);return Pp(jt,En.targetId,Oo.vo),Oo.snapshot}),function(jt,En,Yn,Ni){return Ct.apply(this,arguments)})(u,De,Le,lt);var Ct};const h=yield Zn(u.localStore,r,!0),E=new N_(r,h.Gn),A=E.Io(h.documents),B=bl.createSynthesizedTargetChangeForCurrentChange(a,c&&"Offline"!==u.onlineState),Y=E.applyChanges(A,u.isPrimaryClient,B);Pp(u,a,Y.vo);const _e=new Wm(r,a,E);return u.xo.set(r,_e),u.ko.has(a)?u.ko.get(a).push(r):u.ko.set(a,[r]),Y.snapshot})).apply(this,arguments)}function ef(u,r){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,me.Z)(function*(u,r){const a=kt(u),c=a.xo.get(r),h=a.ko.get(c.targetId);if(h.length>1)return a.ko.set(c.targetId,h.filter(E=>!Xn(E,r))),void a.xo.delete(r);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(c.targetId),a.sharedClientState.isActiveQueryTarget(c.targetId)||(yield Wc(a.localStore,c.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(c.targetId),Gc(a.remoteStore,c.targetId),el(a,c.targetId)}).catch(Du))):(el(a,c.targetId),yield Wc(a.localStore,c.targetId,!0))})).apply(this,arguments)}function Bd(){return(Bd=(0,me.Z)(function*(u,r,a){const c=Jm(u);try{const h=yield function(E,A){const B=kt(E),Y=ti.now(),_e=A.reduce((Le,lt)=>Le.add(lt.key),wr());let De;return B.persistence.runTransaction("Locally write mutations","readwrite",Le=>B.Qn.bn(Le,_e).next(lt=>{De=lt;const Ct=[];for(const jt of A){const En=ph(jt,De.get(jt.key));null!=En&&Ct.push(new Eu(jt.key,En,N(En.value.mapValue),Vi.exists(!0)))}return B.In.addMutationBatch(Le,Y,Ct,A)})).then(Le=>(Le.applyToLocalDocumentSet(De),{batchId:Le.batchId,changes:De}))}(c.localStore,r);c.sharedClientState.addPendingMutation(h.batchId),function(E,A,B){let Y=E.Lo[E.currentUser.toKey()];Y||(Y=new fs(er)),Y=Y.insert(A,B),E.Lo[E.currentUser.toKey()]=Y}(c,h.batchId,a),yield Su(c,h.changes),yield lc(c.remoteStore)}catch(h){const E=dc(h,"Failed to persist write");a.reject(E)}})).apply(this,arguments)}function tf(u,r){return nf.apply(this,arguments)}function nf(){return(nf=(0,me.Z)(function*(u,r){const a=kt(u);try{const c=yield b_(a.localStore,r);r.targetChanges.forEach((h,E)=>{const A=a.Fo.get(E);A&&(pn(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?A.Co=!0:h.modifiedDocuments.size>0?pn(A.Co):h.removedDocuments.size>0&&(pn(A.Co),A.Co=!1))}),yield Su(a,c,r)}catch(c){yield Du(c)}})).apply(this,arguments)}function Gm(u,r,a){const c=kt(u);if(c.isPrimaryClient&&0===a||!c.isPrimaryClient&&1===a){const h=[];c.xo.forEach((E,A)=>{const B=A.view.eo(r);B.snapshot&&h.push(B.snapshot)}),function(E,A){const B=kt(E);B.onlineState=A;let Y=!1;B.queries.forEach((_e,De)=>{for(const Le of De.listeners)Le.eo(A)&&(Y=!0)}),Y&&Mp(B)}(c.eventManager,r),h.length&&c.No.Tr(h),c.onlineState=r,c.isPrimaryClient&&c.sharedClientState.setOnlineState(r)}}function V_(u,r,a){return jd.apply(this,arguments)}function jd(){return(jd=(0,me.Z)(function*(u,r,a){const c=kt(u);c.sharedClientState.updateQueryState(r,"rejected",a);const h=c.Fo.get(r),E=h&&h.key;if(E){let A=new fs(Bt.comparator);A=A.insert(E,y.newNoDocument(E,Kn.min()));const B=wr().add(E),Y=new bu(Kn.min(),new Map,new Ui(er),A,B);yield tf(c,Y),c.Oo=c.Oo.remove(E),c.Fo.delete(r),Rl(c)}else yield Wc(c.localStore,r,!1).then(()=>el(c,r,a)).catch(Du)})).apply(this,arguments)}function jE(u,r){return Np.apply(this,arguments)}function Np(){return(Np=(0,me.Z)(function*(u,r){const a=kt(u),c=r.batch.batchId;try{const h=yield E_(a.localStore,r);ou(a,c,null),of(a,c),a.sharedClientState.updateMutationState(c,"acknowledged"),yield Su(a,h)}catch(h){yield Du(h)}})).apply(this,arguments)}function zm(u,r,a){return rf.apply(this,arguments)}function rf(){return(rf=(0,me.Z)(function*(u,r,a){const c=kt(u);try{const h=yield function(E,A){const B=kt(E);return B.persistence.runTransaction("Reject batch","readwrite-primary",Y=>{let _e;return B.In.lookupMutationBatch(Y,A).next(De=>(pn(null!==De),_e=De.keys(),B.In.removeMutationBatch(Y,De))).next(()=>B.In.performConsistencyCheck(Y)).next(()=>B.Qn.bn(Y,_e))})}(c.localStore,r);ou(c,r,a),of(c,r),c.sharedClientState.updateMutationState(r,"rejected",a),yield Su(c,h)}catch(h){yield Du(h)}})).apply(this,arguments)}function sf(){return(sf=(0,me.Z)(function*(u,r){const a=kt(u);Ju(a.remoteStore)||wt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const c=yield function(E){const A=kt(E);return A.persistence.runTransaction("Get highest unacknowledged batch id","readonly",B=>A.In.getHighestUnacknowledgedBatchId(B))}(a.localStore);if(-1===c)return void r.resolve();const h=a.Bo.get(c)||[];h.push(r),a.Bo.set(c,h)}catch(c){const h=dc(c,"Initialization of waitForPendingWrites() operation failed");r.reject(h)}})).apply(this,arguments)}function of(u,r){(u.Bo.get(r)||[]).forEach(a=>{a.resolve()}),u.Bo.delete(r)}function ou(u,r,a){const c=kt(u);let h=c.Lo[c.currentUser.toKey()];if(h){const E=h.get(r);E&&(a?E.reject(a):E.resolve(),h=h.remove(r)),c.Lo[c.currentUser.toKey()]=h}}function el(u,r,a=null){u.sharedClientState.removeLocalQueryTarget(r);for(const c of u.ko.get(r))u.xo.delete(c),a&&u.No.jo(c,a);u.ko.delete(r),u.isPrimaryClient&&u.Mo.cs(r).forEach(c=>{u.Mo.containsKey(c)||Zm(u,c)})}function Zm(u,r){u.$o.delete(r.path.canonicalString());const a=u.Oo.get(r);null!==a&&(Gc(u.remoteStore,a),u.Oo=u.Oo.remove(r),u.Fo.delete(a),Rl(u))}function Pp(u,r,a){for(const c of a)c instanceof Hm?(u.Mo.addReference(c.key,r),HE(u,c)):c instanceof $m?(wt("SyncEngine","Document no longer in limbo: "+c.key),u.Mo.removeReference(c.key,r),u.Mo.containsKey(c.key)||Zm(u,c.key)):Jt()}function HE(u,r){const a=r.key,c=a.path.canonicalString();u.Oo.get(a)||u.$o.has(c)||(wt("SyncEngine","New document in limbo: "+a),u.$o.add(c),Rl(u))}function Rl(u){for(;u.$o.size>0&&u.Oo.size<u.maxConcurrentLimboResolutions;){const r=u.$o.values().next().value;u.$o.delete(r);const a=new Bt(Tr.fromString(r)),c=u.Uo.next();u.Fo.set(c,new P_(a)),u.Oo=u.Oo.insert(a,c),su(u.remoteStore,new Iu(cn(_r(a.path)),c,2,Ls.T))}}function Su(u,r,a){return hc.apply(this,arguments)}function hc(){return(hc=(0,me.Z)(function*(u,r,a){const c=kt(u),h=[],E=[],A=[];var B;c.xo.isEmpty()||(c.xo.forEach((B,Y)=>{A.push(c.Ko(Y,r,a).then(_e=>{if(_e){c.isPrimaryClient&&c.sharedClientState.updateQueryState(Y.targetId,_e.fromCache?"not-current":"current"),h.push(_e);const De=Fh.kn(Y.targetId,_e);E.push(De)}}))}),yield Promise.all(A),c.No.Tr(h),yield(B=(0,me.Z)(function*(Y,_e){const De=kt(Y);try{yield De.persistence.runTransaction("notifyLocalViewChanges","readwrite",Le=>At.forEach(_e,lt=>At.forEach(lt.Nn,Ct=>De.persistence.referenceDelegate.addReference(Le,lt.targetId,Ct)).next(()=>At.forEach(lt.xn,Ct=>De.persistence.referenceDelegate.removeReference(Le,lt.targetId,Ct)))))}catch(Le){if(!ru(Le))throw Le;wt("LocalStore","Failed to update sequence numbers: "+Le)}for(const Le of _e){const lt=Le.targetId;if(!Le.fromCache){const Ct=De.Un.get(lt),En=Ct.withLastLimboFreeSnapshotVersion(Ct.snapshotVersion);De.Un=De.Un.insert(lt,En)}}}),function(Y,_e){return B.apply(this,arguments)})(c.localStore,E))})).apply(this,arguments)}function Hd(u,r){return Lp.apply(this,arguments)}function Lp(){return(Lp=(0,me.Z)(function*(u,r){const a=kt(u);if(!a.currentUser.isEqual(r)){wt("SyncEngine","User change. New user:",r.toKey());const c=yield bm(a.localStore,r);a.currentUser=r,(h=a).Bo.forEach(A=>{A.forEach(B=>{B.reject(new xt(st.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),h.Bo.clear(),a.sharedClientState.handleUserChange(r,c.removedBatchIds,c.addedBatchIds),yield Su(a,c.Wn)}var h})).apply(this,arguments)}function kp(u,r){const a=kt(u),c=a.Fo.get(r);if(c&&c.Co)return wr().add(c.key);{let h=wr();const E=a.ko.get(r);if(!E)return h;for(const A of E){const B=a.xo.get(A);h=h.unionWith(B.view.To)}return h}}function qm(u,r){return Fp.apply(this,arguments)}function Fp(){return(Fp=(0,me.Z)(function*(u,r){const a=kt(u),c=yield Zn(a.localStore,r.query,!0),h=r.view.So(c);return a.isPrimaryClient&&Pp(a,r.targetId,h.vo),h})).apply(this,arguments)}function Ym(u){return Vp.apply(this,arguments)}function Vp(){return(Vp=(0,me.Z)(function*(u){const r=kt(u);return cp(r.localStore).then(a=>Su(r,a))})).apply(this,arguments)}function Up(u,r,a,c){return Bp.apply(this,arguments)}function Bp(){return(Bp=(0,me.Z)(function*(u,r,a,c){const h=kt(u),E=yield function(A,B){const Y=kt(A),_e=kt(Y.In);return Y.persistence.runTransaction("Lookup mutation documents","readonly",De=>_e.Xt(De,B).next(Le=>Le?Y.Qn.bn(De,Le):At.resolve(null)))}(h.localStore,r);var B;null!==E?("pending"===a?yield lc(h.remoteStore):"acknowledged"===a||"rejected"===a?(ou(h,r,c||null),of(h,r),B=r,kt(kt(h.localStore).In).te(B)):Jt(),yield Su(h,E)):wt("SyncEngine","Cannot apply mutation batch with id: "+r)})).apply(this,arguments)}function af(){return(af=(0,me.Z)(function*(u,r){const a=kt(u);if($p(a),Jm(a),!0===r&&!0!==a.qo){const c=a.sharedClientState.getAllActiveQueryTargets(),h=yield fc(a,c.toArray());a.qo=!0,yield Wo(a.remoteStore,!0);for(const E of h)su(a.remoteStore,E)}else if(!1===r&&!1!==a.qo){const c=[];let h=Promise.resolve();a.ko.forEach((E,A)=>{a.sharedClientState.isLocalQueryTarget(A)?c.push(A):h=h.then(()=>(el(a,A),Wc(a.localStore,A,!0))),Gc(a.remoteStore,A)}),yield h,yield fc(a,c),function(E){const A=kt(E);A.Fo.forEach((B,Y)=>{Gc(A.remoteStore,Y)}),A.Mo.us(),A.Fo=new Map,A.Oo=new fs(Bt.comparator)}(a),a.qo=!1,yield Wo(a.remoteStore,!1)}})).apply(this,arguments)}function fc(u,r,a){return uf.apply(this,arguments)}function uf(){return(uf=(0,me.Z)(function*(u,r,a){const c=kt(u),h=[],E=[];for(const A of r){let B;const Y=c.ko.get(A);if(Y&&0!==Y.length){B=yield $c(c.localStore,cn(Y[0]));for(const _e of Y){const De=c.xo.get(_e),Le=yield qm(c,De);Le.snapshot&&E.push(Le.snapshot)}}else{const _e=yield lp(c.localStore,A);B=yield $c(c.localStore,_e),yield Op(c,Qm(_e),A,!1)}h.push(B)}return c.No.Tr(E),h})).apply(this,arguments)}function Qm(u){return Ho(u.path,u.collectionGroup,u.orderBy,u.filters,u.limit,"F",u.startAt,u.endAt)}function B_(u){const r=kt(u);return kt(kt(r.localStore).persistence).pn()}function qc(u,r,a,c){return jp.apply(this,arguments)}function jp(){return(jp=(0,me.Z)(function*(u,r,a,c){const h=kt(u);if(h.qo)wt("SyncEngine","Ignoring unexpected query state notification.");else if(h.ko.has(r))switch(a){case"current":case"not-current":{const E=yield cp(h.localStore),A=bu.createSynthesizedRemoteEventForCurrentChange(r,"current"===a);yield Su(h,E,A);break}case"rejected":yield Wc(h.localStore,r,!0),el(h,r,c);break;default:Jt()}})).apply(this,arguments)}function j_(u,r,a){return Hp.apply(this,arguments)}function Hp(){return(Hp=(0,me.Z)(function*(u,r,a){const c=$p(u);if(c.qo){for(const h of r){if(c.ko.has(h)){wt("SyncEngine","Adding an already active target "+h);continue}const E=yield lp(c.localStore,h),A=yield $c(c.localStore,E);yield Op(c,Qm(E),A.targetId,!1),su(c.remoteStore,A)}for(const h of a)c.ko.has(h)&&(yield Wc(c.localStore,h,!1).then(()=>{Gc(c.remoteStore,h),el(c,h)}).catch(Du))}})).apply(this,arguments)}function $p(u){const r=kt(u);return r.remoteStore.remoteSyncer.applyRemoteEvent=tf.bind(null,r),r.remoteStore.remoteSyncer.getRemoteKeysForTarget=kp.bind(null,r),r.remoteStore.remoteSyncer.rejectListen=V_.bind(null,r),r.No.Tr=Um.bind(null,r.eventManager),r.No.jo=R_.bind(null,r.eventManager),r}function Jm(u){const r=kt(u);return r.remoteStore.remoteSyncer.applySuccessfulWrite=jE.bind(null,r),r.remoteStore.remoteSyncer.rejectFailedWrite=zm.bind(null,r),r}class Wp{constructor(){this.synchronizeTabs=!1}initialize(r){var a=this;return(0,me.Z)(function*(){a.N=Kh(r.databaseInfo.databaseId),a.sharedClientState=a.Wo(r),a.persistence=a.Go(r),yield a.persistence.start(),a.gcScheduler=a.zo(r),a.localStore=a.Ho(r)})()}zo(r){return null}Ho(r){return Fa(this.persistence,new Em,r.initialUser,this.N)}Go(r){return new jh(Od.Ns,this.N)}Wo(r){return new zh}terminate(){var r=this;return(0,me.Z)(function*(){r.gcScheduler&&r.gcScheduler.stop(),yield r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}class Yr extends Wp{constructor(r,a,c){super(),this.Jo=r,this.cacheSizeBytes=a,this.forceOwnership=c,this.synchronizeTabs=!1}initialize(r){var a=()=>super.initialize,c=this;return(0,me.Z)(function*(){yield a().call(c,r),yield function(u){return Ea.apply(this,arguments)}(c.localStore),yield c.Jo.initialize(c,r),yield Jm(c.Jo.syncEngine),yield lc(c.Jo.remoteStore),yield c.persistence.nn(()=>(c.gcScheduler&&!c.gcScheduler.started&&c.gcScheduler.start(c.localStore),Promise.resolve()))})()}Ho(r){return Fa(this.persistence,new Em,r.initialUser,this.N)}zo(r){return new hm(this.persistence.referenceDelegate.garbageCollector,r.asyncQueue)}Go(r){const a=ym(r.databaseInfo.databaseId,r.databaseInfo.persistenceKey),c=void 0!==this.cacheSizeBytes?na.withCacheSize(this.cacheSizeBytes):na.DEFAULT;return new kh(this.synchronizeTabs,a,r.clientId,c,r.asyncQueue,I_(),yp(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(r){return new zh}}class Gp extends Yr{constructor(r,a){super(r,a,!1),this.Jo=r,this.cacheSizeBytes=a,this.synchronizeTabs=!0}initialize(r){var a=()=>super.initialize,c=this;return(0,me.Z)(function*(){yield a().call(c,r);const h=c.Jo.syncEngine;c.sharedClientState instanceof mp&&(c.sharedClientState.syncEngine={_i:Up.bind(null,h),mi:qc.bind(null,h),gi:j_.bind(null,h),pn:B_.bind(null,h),wi:Ym.bind(null,h)},yield c.sharedClientState.start()),yield c.persistence.nn(function(){var E=(0,me.Z)(function*(A){yield function(u,r){return af.apply(this,arguments)}(c.Jo.syncEngine,A),c.gcScheduler&&(A&&!c.gcScheduler.started?c.gcScheduler.start(c.localStore):A||c.gcScheduler.stop())});return function(A){return E.apply(this,arguments)}}())})()}Wo(r){const a=I_();if(!mp.Pt(a))throw new xt(st.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const c=ym(r.databaseInfo.databaseId,r.databaseInfo.persistenceKey);return new mp(a,r.asyncQueue,c,r.clientId,r.initialUser)}}class Xm{initialize(r,a){var c=this;return(0,me.Z)(function*(){c.localStore||(c.localStore=r.localStore,c.sharedClientState=r.sharedClientState,c.datastore=c.createDatastore(a),c.remoteStore=c.createRemoteStore(a),c.eventManager=c.createEventManager(a),c.syncEngine=c.createSyncEngine(a,!r.synchronizeTabs),c.sharedClientState.onlineStateHandler=h=>Gm(c.syncEngine,h,1),c.remoteStore.remoteSyncer.handleCredentialChange=Hd.bind(null,c.syncEngine),yield Wo(c.remoteStore,c.syncEngine.isPrimaryClient))})()}createEventManager(r){return new O_}createDatastore(r){const a=Kh(r.databaseInfo.databaseId),c=new UE(r.databaseInfo);return new _p(r.credentials,c,a)}createRemoteStore(r){return a=this.localStore,c=this.datastore,h=r.asyncQueue,E=B=>Gm(this.syncEngine,B,0),A=C_.Pt()?new C_:new kE,new xm(a,c,h,E,A);var a,c,h,E,A}createSyncEngine(r,a){return function(c,h,E,A,B,Y,_e){const De=new L_(c,h,E,A,B,Y);return _e&&(De.qo=!0),De}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,a)}terminate(){return(r=(0,me.Z)(function*(a){const c=kt(a);wt("RemoteStore","RemoteStore shutting down."),c.Kr.add(5),yield Ml(c),c.Qr.shutdown(),c.Wr.set("Unknown")}),function(a){return r.apply(this,arguments)})(this.remoteStore);var r}}function Au(u,r=10240){let a=0;return{read:()=>(0,me.Z)(function*(){if(a<u.byteLength){const c={value:u.slice(a,a+r),done:!1};return a+=r,c}return{done:!0}})(),cancel:()=>(0,me.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Yc{constructor(r){this.observer=r,this.muted=!1}next(r){this.observer.next&&this.Yo(this.observer.next,r)}error(r){this.observer.error?this.Yo(this.observer.error,r):console.error("Uncaught Error in snapshot listener:",r)}Xo(){this.muted=!0}Yo(r,a){this.muted||setTimeout(()=>{this.muted||r(a)},0)}}class zp{constructor(r,a){this.Zo=r,this.N=a,this.metadata=new ts,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(c=>{c&&c.ho()?this.metadata.resolve(c.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==c?void 0:c.payload)}`))},c=>this.metadata.reject(c))}close(){return this.Zo.cancel()}getMetadata(){var r=this;return(0,me.Z)(function*(){return r.metadata.promise})()}Qo(){var r=this;return(0,me.Z)(function*(){return yield r.getMetadata(),r.ea()})()}ea(){var r=this;return(0,me.Z)(function*(){const a=yield r.na();if(null===a)return null;const c=r.ta.decode(a),h=Number(c);isNaN(h)&&r.sa(`length string (${c}) is not valid number`);const E=yield r.ia(h);return new Bm(JSON.parse(E),a.length+h)})()}ra(){return this.buffer.findIndex(r=>r==="{".charCodeAt(0))}na(){var r=this;return(0,me.Z)(function*(){for(;r.ra()<0&&!(yield r.oa()););if(0===r.buffer.length)return null;const a=r.ra();a<0&&r.sa("Reached the end of bundle when a length string is expected.");const c=r.buffer.slice(0,a);return r.buffer=r.buffer.slice(a),c})()}ia(r){var a=this;return(0,me.Z)(function*(){for(;a.buffer.length<r;)(yield a.oa())&&a.sa("Reached the end of bundle when more is expected.");const c=a.ta.decode(a.buffer.slice(0,r));return a.buffer=a.buffer.slice(r),c})()}sa(r){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${r}`)}oa(){var r=this;return(0,me.Z)(function*(){const a=yield r.Zo.read();if(!a.done){const c=new Uint8Array(r.buffer.length+a.value.length);c.set(r.buffer),c.set(a.value,r.buffer.length),r.buffer=c}return a.done})()}}class $E{constructor(r){this.datastore=r,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(r){var a=this;return(0,me.Z)(function*(){if(a.ensureCommitNotCalled(),a.mutations.length>0)throw new xt(st.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const c=yield(h=(0,me.Z)(function*(E,A){const B=kt(E),Y=nu(B.N)+"/documents",_e={documents:A.map(Ct=>Zl(B.N,Ct))},De=yield B.Ki("BatchGetDocuments",Y,_e),Le=new Map;De.forEach(Ct=>{const jt=function(u,r){return"found"in r?function(a,c){pn(!!c.found);const h=Fr(a,c.found.name),E=Bi(c.found.updateTime),A=new Ds({mapValue:{fields:c.found.fields}});return y.newFoundDocument(h,E,A)}(u,r):"missing"in r?function(a,c){pn(!!c.missing),pn(!!c.readTime);const h=Fr(a,c.missing),E=Bi(c.readTime);return y.newNoDocument(h,E)}(u,r):Jt()}(B.N,Ct);Le.set(jt.key.toString(),jt)});const lt=[];return A.forEach(Ct=>{const jt=Le.get(Ct.toString());pn(!!jt),lt.push(jt)}),lt}),function(E,A){return h.apply(this,arguments)})(a.datastore,r);var h;return c.forEach(h=>a.recordVersion(h)),c})()}set(r,a){this.write(a.toMutation(r,this.precondition(r))),this.writtenDocs.add(r.toString())}update(r,a){try{this.write(a.toMutation(r,this.preconditionForUpdate(r)))}catch(c){this.lastWriteError=c}this.writtenDocs.add(r.toString())}delete(r){this.write(new Ac(r,this.precondition(r))),this.writtenDocs.add(r.toString())}commit(){var r=this;return(0,me.Z)(function*(){if(r.ensureCommitNotCalled(),r.lastWriteError)throw r.lastWriteError;const a=r.readVersions;var c;r.mutations.forEach(c=>{a.delete(c.key.toString())}),a.forEach((c,h)=>{const E=Bt.fromPath(h);r.mutations.push(new Fs(E,r.precondition(E)))}),yield(c=(0,me.Z)(function*(h,E){const A=kt(h),B=nu(A.N)+"/documents",Y={writes:E.map(_e=>Yl(A.N,_e))};yield A.Li("Commit",B,Y)}),function(h,E){return c.apply(this,arguments)})(r.datastore,r.mutations),r.committed=!0})()}recordVersion(r){let a;if(r.isFoundDocument())a=r.version;else{if(!r.isNoDocument())throw Jt();a=Kn.min()}const c=this.readVersions.get(r.key.toString());if(c){if(!a.isEqual(c))throw new xt(st.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(r.key.toString(),a)}precondition(r){const a=this.readVersions.get(r.toString());return!this.writtenDocs.has(r.toString())&&a?Vi.updateTime(a):Vi.none()}preconditionForUpdate(r){const a=this.readVersions.get(r.toString());if(!this.writtenDocs.has(r.toString())&&a){if(a.isEqual(Kn.min()))throw new xt(st.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Vi.updateTime(a)}return Vi.exists(!0)}write(r){this.ensureCommitNotCalled(),this.mutations.push(r)}ensureCommitNotCalled(){}}class $_{constructor(r,a,c,h){this.asyncQueue=r,this.datastore=a,this.updateFunction=c,this.deferred=h,this.aa=5,this.rr=new Am(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var r=this;this.rr.Xi((0,me.Z)(function*(){const a=new $E(r.datastore),c=r.ua(a);c&&c.then(h=>{r.asyncQueue.enqueueAndForget(()=>a.commit().then(()=>{r.deferred.resolve(h)}).catch(E=>{r.ha(E)}))}).catch(h=>{r.ha(h)})}))}ua(r){try{const a=this.updateFunction(r);return!Za(a)&&a.catch&&a.then?a:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(a){return this.deferred.reject(a),null}}ha(r){this.aa>0&&this.la(r)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(r)}la(r){if("FirebaseError"===r.name){const a=r.code;return"aborted"===a||"failed-precondition"===a||!_h(a)}return!1}}class W_{constructor(r,a,c){var h=this;this.credentials=r,this.asyncQueue=a,this.databaseInfo=c,this.user=Ae.UNAUTHENTICATED,this.clientId=ga.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(a,function(){var E=(0,me.Z)(function*(A){wt("FirestoreClient","Received user=",A.uid),yield h.credentialListener(A),h.user=A});return function(A){return E.apply(this,arguments)}}())}getConfiguration(){var r=this;return(0,me.Z)(function*(){return{asyncQueue:r.asyncQueue,databaseInfo:r.databaseInfo,clientId:r.clientId,credentials:r.credentials,initialUser:r.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(r){this.credentialListener=r}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new xt(st.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var r=this;this.asyncQueue.enterRestrictedMode();const a=new ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{r.onlineComponents&&(yield r.onlineComponents.terminate()),r.offlineComponents&&(yield r.offlineComponents.terminate()),r.credentials.shutdown(),a.resolve()}catch(c){const h=dc(c,"Failed to shutdown persistence");a.reject(h)}})),a.promise}}function Kp(u,r){return lf.apply(this,arguments)}function lf(){return(lf=(0,me.Z)(function*(u,r){u.asyncQueue.verifyOperationInProgress(),wt("FirestoreClient","Initializing OfflineComponentProvider");const a=yield u.getConfiguration();yield r.initialize(a);let c=a.initialUser;u.setCredentialChangeListener(function(){var h=(0,me.Z)(function*(E){c.isEqual(E)||(yield bm(r.localStore,E),c=E)});return function(E){return h.apply(this,arguments)}}()),r.persistence.setDatabaseDeletedListener(()=>u.terminate()),u.offlineComponents=r})).apply(this,arguments)}function Zp(u,r){return cf.apply(this,arguments)}function cf(){return(cf=(0,me.Z)(function*(u,r){u.asyncQueue.verifyOperationInProgress();const a=yield qp(u);wt("FirestoreClient","Initializing OnlineComponentProvider");const c=yield u.getConfiguration();yield r.initialize(a,c),u.setCredentialChangeListener(h=>{return(E=(0,me.Z)(function*(A,B){const Y=kt(A);Y.asyncQueue.verifyOperationInProgress(),wt("RemoteStore","RemoteStore received new credentials");const _e=Ju(Y);Y.Kr.add(3),yield Ml(Y),_e&&Y.Wr.set("Unknown"),yield Y.remoteSyncer.handleCredentialChange(B),Y.Kr.delete(3),yield oc(Y)}),function(A,B){return E.apply(this,arguments)})(r.remoteStore,h);var E}),u.onlineComponents=r})).apply(this,arguments)}function qp(u){return Yp.apply(this,arguments)}function Yp(){return(Yp=(0,me.Z)(function*(u){return u.offlineComponents||(wt("FirestoreClient","Using default OfflineComponentProvider"),yield Kp(u,new Wp)),u.offlineComponents})).apply(this,arguments)}function Nl(u){return $d.apply(this,arguments)}function $d(){return($d=(0,me.Z)(function*(u){return u.onlineComponents||(wt("FirestoreClient","Using default OnlineComponentProvider"),yield Zp(u,new Xm)),u.onlineComponents})).apply(this,arguments)}function Qp(u){return qp(u).then(r=>r.persistence)}function df(u){return qp(u).then(r=>r.localStore)}function Jp(u){return Nl(u).then(r=>r.remoteStore)}function hf(u){return Nl(u).then(r=>r.syncEngine)}function Qc(u){return Xp.apply(this,arguments)}function Xp(){return(Xp=(0,me.Z)(function*(u){const r=yield Nl(u),a=r.eventManager;return a.onListen=k_.bind(null,r.syncEngine),a.onUnlisten=ef.bind(null,r.syncEngine),a})).apply(this,arguments)}function K_(u,r,a={}){const c=new ts;return u.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(h,E,A,B,Y){const _e=new Yc({next:Le=>{E.enqueueAndForget(()=>Qh(h,De));const lt=Le.docs.has(A);!lt&&Le.fromCache?Y.reject(new xt(st.UNAVAILABLE,"Failed to get document because the client is offline.")):lt&&Le.fromCache&&B&&"server"===B.source?Y.reject(new xt(st.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Y.resolve(Le)},error:Le=>Y.reject(Le)}),De=new Jh(_r(A.path),_e,{includeMetadataChanges:!0,uo:!0});return Sp(h,De)}(yield Qc(u),u.asyncQueue,r,a,c)})),c.promise}function ny(u,r,a={}){const c=new ts;return u.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(h,E,A,B,Y){const _e=new Yc({next:Le=>{E.enqueueAndForget(()=>Qh(h,De)),Le.fromCache&&"server"===B.source?Y.reject(new xt(st.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Y.resolve(Le)},error:Le=>Y.reject(Le)}),De=new Jh(A,_e,{includeMetadataChanges:!0,uo:!0});return Sp(h,De)}(yield Qc(u),u.asyncQueue,r,a,c)})),c.promise}class q_{constructor(r,a,c,h,E,A,B,Y){this.databaseId=r,this.appId=a,this.persistenceKey=c,this.host=h,this.ssl=E,this.forceLongPolling=A,this.autoDetectLongPolling=B,this.useFetchStreams=Y}}class pc{constructor(r,a){this.projectId=r,this.database=a||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(r){return r instanceof pc&&r.projectId===this.projectId&&r.database===this.database}}const tg=new Map;function ry(u,r,a){if(!a)throw new xt(st.INVALID_ARGUMENT,`Function ${u}() cannot be called with an empty ${r}.`)}function Va(u,r,a,c){if(!0===r&&!0===c)throw new xt(st.INVALID_ARGUMENT,`${u} and ${a} cannot be used together.`)}function Y_(u){if(!Bt.isDocumentKey(u))throw new xt(st.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${u} has ${u.length}.`)}function Q_(u){if(Bt.isDocumentKey(u))throw new xt(st.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${u} has ${u.length}.`)}function ng(u){if(void 0===u)return"undefined";if(null===u)return"null";if("string"==typeof u)return u.length>20&&(u=`${u.substring(0,20)}...`),JSON.stringify(u);if("number"==typeof u||"boolean"==typeof u)return""+u;if("object"==typeof u){if(u instanceof Array)return"an array";{const r=function(a){if(a.constructor){const c=/function\s+([^\s(]+)\s*\(/.exec(a.constructor.toString());if(c&&c.length>1)return c[1]}return null}(u);return r?`a custom ${r} object`:"an object"}}return"function"==typeof u?"a function":Jt()}function Nr(u,r){if("_delegate"in u&&(u=u._delegate),!(u instanceof r)){if(r.name===u.constructor.name)throw new xt(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const a=ng(u);throw new xt(st.INVALID_ARGUMENT,`Expected type '${r.name}', but it was: ${a}`)}}return u}function rg(u,r){if(r<=0)throw new xt(st.INVALID_ARGUMENT,`Function ${u}() requires a positive number, but it was: ${r}.`)}class ig{constructor(r){var a;if(void 0===r.host){if(void 0!==r.ssl)throw new xt(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=r.host,this.ssl=null===(a=r.ssl)||void 0===a||a;if(this.credentials=r.credentials,this.ignoreUndefinedProperties=!!r.ignoreUndefinedProperties,void 0===r.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==r.cacheSizeBytes&&r.cacheSizeBytes<1048576)throw new xt(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=r.cacheSizeBytes}this.experimentalForceLongPolling=!!r.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!r.experimentalAutoDetectLongPolling,this.useFetchStreams=!!r.useFetchStreams,Va("experimentalForceLongPolling",r.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",r.experimentalAutoDetectLongPolling)}isEqual(r){return this.host===r.host&&this.ssl===r.ssl&&this.credentials===r.credentials&&this.cacheSizeBytes===r.cacheSizeBytes&&this.experimentalForceLongPolling===r.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===r.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===r.ignoreUndefinedProperties&&this.useFetchStreams===r.useFetchStreams}}class Wd{constructor(r,a){this._credentials=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ig({}),this._settingsFrozen=!1,r instanceof pc?this._databaseId=r:(this._app=r,this._databaseId=function(c){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new xt(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pc(c.options.projectId)}(r))}get app(){if(!this._app)throw new xt(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(r){if(this._settingsFrozen)throw new xt(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ig(r),void 0!==r.credentials&&(this._credentials=function(a){if(!a)return new fu;switch(a.type){case"gapi":const c=a.client;return pn(!("object"!=typeof c||null===c||!c.auth||!c.auth.getAuthHeaderValueForFirstParty)),new pa(c,a.sessionIndex||"0",a.iamToken||null);case"provider":return a.client;default:throw new xt(st.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(r.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const a=tg.get(r);a&&(wt("ComponentProvider","Removing Datastore"),tg.delete(r),a.terminate())}(this),Promise.resolve()}}class Ti{constructor(r,a,c){this.converter=a,this._key=c,this.type="document",this.firestore=r}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xu(this.firestore,this.converter,this._key.path.popLast())}withConverter(r){return new Ti(this.firestore,r,this._key)}}class qs{constructor(r,a,c){this.converter=a,this._query=c,this.type="query",this.firestore=r}withConverter(r){return new qs(this.firestore,r,this._query)}}class xu extends qs{constructor(r,a,c){super(r,a,_r(c)),this._path=c,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const r=this._path.popLast();return r.isEmpty()?null:new Ti(this.firestore,null,new Bt(r))}withConverter(r){return new xu(this.firestore,r,this._path)}}function ff(u,r,...a){if(u=(0,Ge.m9)(u),ry("collection","path",r),u instanceof Wd){const c=Tr.fromString(r,...a);return Q_(c),new xu(u,null,c)}{if(!(u instanceof Ti||u instanceof xu))throw new xt(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=Tr.fromString(u.path,...a).child(Tr.fromString(r));return Q_(c),new xu(u.firestore,null,c)}}function pf(u,r,...a){if(u=(0,Ge.m9)(u),1===arguments.length&&(r=ga.I()),ry("doc","path",r),u instanceof Wd){const c=Tr.fromString(r,...a);return Y_(c),new Ti(u,null,new Bt(c))}{if(!(u instanceof Ti||u instanceof xu))throw new xt(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=u._path.child(Tr.fromString(r,...a));return Y_(c),new Ti(u.firestore,u instanceof xu?u.converter:null,new Bt(c))}}function iy(u,r){return u=(0,Ge.m9)(u),r=(0,Ge.m9)(r),(u instanceof Ti||u instanceof xu)&&(r instanceof Ti||r instanceof xu)&&u.firestore===r.firestore&&u.path===r.path&&u.converter===r.converter}function sy(u,r){return u=(0,Ge.m9)(u),r=(0,Ge.m9)(r),u instanceof qs&&r instanceof qs&&u.firestore===r.firestore&&Xn(u._query,r._query)&&u.converter===r.converter}class X_{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new Am(this,"async_queue_retry"),this.Ea=()=>{const a=yp();a&&wt("AsyncQueue","Visibility state changed to "+a.visibilityState),this.rr.tr()};const r=yp();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(r){this.enqueue(r)}enqueueAndForgetEvenWhileRestricted(r){this.Ta(),this.Ia(r)}enterRestrictedMode(r){if(!this.wa){this.wa=!0,this.ya=r||!1;const a=yp();a&&"function"==typeof a.removeEventListener&&a.removeEventListener("visibilitychange",this.Ea)}}enqueue(r){if(this.Ta(),this.wa)return new Promise(()=>{});const a=new ts;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(r().then(a.resolve,a.reject),a.promise)).then(()=>a.promise)}enqueueRetryable(r){this.enqueueAndForget(()=>(this.da.push(r),this.Aa()))}Aa(){var r=this;return(0,me.Z)(function*(){if(0!==r.da.length){try{yield r.da[0](),r.da.shift(),r.rr.reset()}catch(a){if(!ru(a))throw a;wt("AsyncQueue","Operation failed with retryable error: "+a)}r.da.length>0&&r.rr.Xi(()=>r.Aa())}})()}Ia(r){const a=this.fa.then(()=>(this.ga=!0,r().catch(c=>{throw this.ma=c,this.ga=!1,mn("INTERNAL UNHANDLED ERROR: ",function(h){let E=h.message||"";return h.stack&&(E=h.stack.includes(h.message)?h.stack:h.message+"\n"+h.stack),E}(c)),c}).then(c=>(this.ga=!1,c))));return this.fa=a,a}enqueueAfterDelay(r,a,c){this.Ta(),this.pa.indexOf(r)>-1&&(a=0);const h=km.createAndSchedule(this,r,a,c,E=>this.Ra(E));return this._a.push(h),h}Ta(){this.ma&&Jt()}verifyOperationInProgress(){}Pa(){var r=this;return(0,me.Z)(function*(){let a;do{a=r.fa,yield a}while(a!==r.fa)})()}ba(r){for(const a of this._a)if(a.timerId===r)return!0;return!1}va(r){return this.Pa().then(()=>{this._a.sort((a,c)=>a.targetTimeMs-c.targetTimeMs);for(const a of this._a)if(a.skipDelay(),"all"!==r&&a.timerId===r)break;return this.Pa()})}Va(r){this.pa.push(r)}Ra(r){const a=this._a.indexOf(r);this._a.splice(a,1)}}function sg(u){return function(r,a){if("object"!=typeof r||null===r)return!1;const c=r;for(const h of["next","error","complete"])if(h in c&&"function"==typeof c[h])return!0;return!1}(u)}class gf{constructor(){this._progressObserver={},this._taskCompletionResolver=new ts,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(r,a,c){this._progressObserver={next:r,error:a,complete:c}}catch(r){return this._taskCompletionResolver.promise.catch(r)}then(r,a){return this._taskCompletionResolver.promise.then(r,a)}_completeWith(r){this._updateProgress(r),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(r)}_failWith(r){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(r),this._taskCompletionResolver.reject(r)}_updateProgress(r){this._lastProgress=r,this._progressObserver.next&&this._progressObserver.next(r)}}class zi extends Wd{constructor(r,a){super(r,a),this.type="firestore",this._queue=new X_,this._persistenceKey="name"in r?r.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||oy(this),this._firestoreClient.terminate()}}function Bs(u){return u._firestoreClient||oy(u),u._firestoreClient.verifyNotTerminated(),u._firestoreClient}function oy(u){var r;const a=u._freezeSettings(),c=(E=(null===(r=u._app)||void 0===r?void 0:r.options.appId)||"",new q_(u._databaseId,E,u._persistenceKey,(B=a).host,B.ssl,B.experimentalForceLongPolling,B.experimentalAutoDetectLongPolling,B.useFetchStreams));var E,B;u._firestoreClient=new W_(u._credentials,u._queue,c)}function Xc(u,r,a){const c=new ts;return u.asyncQueue.enqueue((0,me.Z)(function*(){try{yield Kp(u,a),yield Zp(u,r),c.resolve()}catch(h){if(!("FirebaseError"===(E=h).name?E.code===st.FAILED_PRECONDITION||E.code===st.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&E instanceof DOMException)||22===E.code||20===E.code||11===E.code))throw h;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+h),c.reject(h)}var E})).then(()=>c.promise)}function mc(u){if(u._initialized||u._terminated)throw new xt(st.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ra{constructor(...r){for(let a=0;a<r.length;++a)if(0===r[a].length)throw new xt(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new or(r)}isEqual(r){return this._internalPath.isEqual(r._internalPath)}}class Go{constructor(r){this._byteString=r}static fromBase64String(r){try{return new Go(hs.fromBase64String(r))}catch(a){throw new xt(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+a)}}static fromUint8Array(r){return new Go(hs.fromUint8Array(r))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(r){return this._byteString.isEqual(r._byteString)}}class Ba{constructor(r){this._methodName=r}}class tl{constructor(r,a){if(!isFinite(r)||r<-90||r>90)throw new xt(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+r);if(!isFinite(a)||a<-180||a>180)throw new xt(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+a);this._lat=r,this._long=a}get latitude(){return this._lat}get longitude(){return this._long}isEqual(r){return this._lat===r._lat&&this._long===r._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(r){return er(this._lat,r._lat)||er(this._long,r._long)}}const nd=/^__.*__$/;class uy{constructor(r,a,c){this.data=r,this.fieldMask=a,this.fieldTransforms=c}toMutation(r,a){return null!==this.fieldMask?new Eu(r,this.data,this.fieldMask,a,this.fieldTransforms):new ya(r,this.data,a,this.fieldTransforms)}}class ag{constructor(r,a,c){this.data=r,this.fieldMask=a,this.fieldTransforms=c}toMutation(r,a){return new Eu(r,this.data,this.fieldMask,a,this.fieldTransforms)}}function ug(u){switch(u){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Jt()}}class zd{constructor(r,a,c,h,E,A){this.settings=r,this.databaseId=a,this.N=c,this.ignoreUndefinedProperties=h,void 0===E&&this.Sa(),this.fieldTransforms=E||[],this.fieldMask=A||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(r){return new zd(Object.assign(Object.assign({},this.settings),r),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(r){var a;const c=null===(a=this.path)||void 0===a?void 0:a.child(r),h=this.Ca({path:c,xa:!1});return h.ka(r),h}$a(r){var a;const c=null===(a=this.path)||void 0===a?void 0:a.child(r),h=this.Ca({path:c,xa:!1});return h.Sa(),h}Oa(r){return this.Ca({path:void 0,xa:!0})}Fa(r){return Ef(r,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(r){return void 0!==this.fieldMask.find(a=>r.isPrefixOf(a))||void 0!==this.fieldTransforms.find(a=>r.isPrefixOf(a.field))}Sa(){if(this.path)for(let r=0;r<this.path.length;r++)this.ka(this.path.get(r))}ka(r){if(0===r.length)throw this.Fa("Document fields must not be empty");if(ug(this.Da)&&nd.test(r))throw this.Fa('Document fields cannot begin and end with "__"')}}class ly{constructor(r,a,c){this.databaseId=r,this.ignoreUndefinedProperties=a,this.N=c||Kh(r)}Ba(r,a,c,h=!1){return new zd({Da:r,methodName:a,La:c,path:or.emptyPath(),xa:!1,Ma:h},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Pl(u){const r=u._freezeSettings(),a=Kh(u._databaseId);return new ly(u._databaseId,!!r.ignoreUndefinedProperties,a)}function Kd(u,r,a,c,h,E={}){const A=u.Ba(E.merge||E.mergeFields?2:0,r,a,h);vf("Data must be an object, but it was:",A,c);const B=hg(c,A);let Y,_e;if(E.merge)Y=new Bu(A.fieldMask),_e=A.fieldTransforms;else if(E.mergeFields){const De=[];for(const Le of E.mergeFields){const lt=fg(r,Le,a);if(!A.contains(lt))throw new xt(st.INVALID_ARGUMENT,`Field '${lt}' is specified in your field mask but missing from your input data.`);pg(De,lt)||De.push(lt)}Y=new Bu(De),_e=A.fieldTransforms.filter(Le=>Y.covers(Le.field))}else Y=null,_e=A.fieldTransforms;return new uy(new Ds(B),Y,_e)}class rd extends Ba{_toFieldTransform(r){if(2!==r.Da)throw r.Fa(1===r.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return r.fieldMask.push(r.path),null}isEqual(r){return r instanceof rd}}function lg(u,r,a){return new zd({Da:3,La:r.settings.La,methodName:u._methodName,xa:a},r.databaseId,r.N,r.ignoreUndefinedProperties)}class cg extends Ba{_toFieldTransform(r){return new vu(r.path,new _u)}isEqual(r){return r instanceof cg}}class cy extends Ba{constructor(r,a){super(r),this.Ua=a}_toFieldTransform(r){const a=lg(this,r,!0),c=this.Ua.map(E=>yc(E,a)),h=new ml(c);return new vu(r.path,h)}isEqual(r){return this===r}}class ev extends Ba{constructor(r,a){super(r),this.Ua=a}_toFieldTransform(r){const a=lg(this,r,!0),c=this.Ua.map(E=>yc(E,a)),h=new zu(c);return new vu(r.path,h)}isEqual(r){return this===r}}class tv extends Ba{constructor(r,a){super(r),this.qa=a}_toFieldTransform(r){const a=new yl(r.N,Xa(r.N,this.qa));return new vu(r.path,a)}isEqual(r){return this===r}}function _f(u,r,a,c){const h=u.Ba(1,r,a);vf("Data must be an object, but it was:",h,c);const E=[],A=Ds.empty();Ka(c,(Y,_e)=>{const De=hy(r,Y,a);_e=(0,Ge.m9)(_e);const Le=h.$a(De);if(_e instanceof rd)E.push(De);else{const lt=yc(_e,Le);null!=lt&&(E.push(De),A.set(De,lt))}});const B=new Bu(E);return new ag(A,B,h.fieldTransforms)}function dg(u,r,a,c,h,E){const A=u.Ba(1,r,a),B=[fg(r,c,a)],Y=[h];if(E.length%2!=0)throw new xt(st.INVALID_ARGUMENT,`Function ${r}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let lt=0;lt<E.length;lt+=2)B.push(fg(r,E[lt])),Y.push(E[lt+1]);const _e=[],De=Ds.empty();for(let lt=B.length-1;lt>=0;--lt)if(!pg(_e,B[lt])){const Ct=B[lt];let jt=Y[lt];jt=(0,Ge.m9)(jt);const En=A.$a(Ct);if(jt instanceof rd)_e.push(Ct);else{const Yn=yc(jt,En);null!=Yn&&(_e.push(Ct),De.set(Ct,Yn))}}const Le=new Bu(_e);return new ag(De,Le,A.fieldTransforms)}function nv(u,r,a,c=!1){return yc(a,u.Ba(c?4:3,r))}function yc(u,r){if(dy(u=(0,Ge.m9)(u)))return vf("Unsupported field value:",r,u),hg(u,r);if(u instanceof Ba)return function(a,c){if(!ug(c.Da))throw c.Fa(`${a._methodName}() can only be used with update() and set()`);if(!c.path)throw c.Fa(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(c);h&&c.fieldTransforms.push(h)}(u,r),null;if(void 0===u&&r.ignoreUndefinedProperties)return null;if(r.path&&r.fieldMask.push(r.path),u instanceof Array){if(r.settings.xa&&4!==r.Da)throw r.Fa("Nested arrays are not supported");return function(a,c){const h=[];let E=0;for(const A of a){let B=yc(A,c.Oa(E));null==B&&(B={nullValue:"NULL_VALUE"}),h.push(B),E++}return{arrayValue:{values:h}}}(u,r)}return function(a,c){if(null===(a=(0,Ge.m9)(a)))return{nullValue:"NULL_VALUE"};if("number"==typeof a)return Xa(c.N,a);if("boolean"==typeof a)return{booleanValue:a};if("string"==typeof a)return{stringValue:a};if(a instanceof Date){const h=ti.fromDate(a);return{timestampValue:zl(c.N,h)}}if(a instanceof ti){const h=new ti(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:zl(c.N,h)}}if(a instanceof tl)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Go)return{bytesValue:Kl(c.N,a._byteString)};if(a instanceof Ti){const h=c.databaseId,E=a.firestore._databaseId;if(!E.isEqual(h))throw c.Fa(`Document reference is for database ${E.projectId}/${E.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Rc(a.firestore._databaseId||c.databaseId,a._key.path)}}throw c.Fa(`Unsupported field value: ${ng(a)}`)}(u,r)}function hg(u,r){const a={};return Ic(u)?r.path&&r.path.length>0&&r.fieldMask.push(r.path):Ka(u,(c,h)=>{const E=yc(h,r.Na(c));null!=E&&(a[c]=E)}),{mapValue:{fields:a}}}function dy(u){return!("object"!=typeof u||null===u||u instanceof Array||u instanceof Date||u instanceof ti||u instanceof tl||u instanceof Go||u instanceof Ti||u instanceof Ba)}function vf(u,r,a){if(!dy(a)||"object"!=typeof(c=a)||null===c||Object.getPrototypeOf(c)!==Object.prototype&&null!==Object.getPrototypeOf(c)){const c=ng(a);throw r.Fa("an object"===c?u+" a custom object":u+" "+c)}var c}function fg(u,r,a){if((r=(0,Ge.m9)(r))instanceof ra)return r._internalPath;if("string"==typeof r)return hy(u,r);throw Ef("Field path arguments must be of type string or FieldPath.",u,!1,void 0,a)}const rv=new RegExp("[~\\*/\\[\\]]");function hy(u,r,a){if(r.search(rv)>=0)throw Ef(`Invalid field path (${r}). Paths must not contain '~', '*', '/', '[', or ']'`,u,!1,void 0,a);try{return new ra(...r.split("."))._internalPath}catch(c){throw Ef(`Invalid field path (${r}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,u,!1,void 0,a)}}function Ef(u,r,a,c,h){const E=c&&!c.isEmpty(),A=void 0!==h;let B=`Function ${r}() called with invalid data`;a&&(B+=" (via `toFirestore()`)"),B+=". ";let Y="";return(E||A)&&(Y+=" (found",E&&(Y+=` in field ${c}`),A&&(Y+=` in document ${h}`),Y+=")"),new xt(st.INVALID_ARGUMENT,B+u+Y)}function pg(u,r){return u.some(a=>a.isEqual(r))}class bf{constructor(r,a,c,h,E){this._firestore=r,this._userDataWriter=a,this._key=c,this._document=h,this._converter=E}get id(){return this._key.path.lastSegment()}get ref(){return new Ti(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const r=new KE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(r)}return this._userDataWriter.convertValue(this._document.data.value)}}get(r){if(this._document){const a=this._document.data.field(gg("DocumentSnapshot.get",r));if(null!==a)return this._userDataWriter.convertValue(a)}}}class KE extends bf{data(){return super.data()}}function gg(u,r){return"string"==typeof r?hy(u,r):r instanceof ra?r._internalPath:r._delegate._internalPath}class _c{constructor(r,a){this.hasPendingWrites=r,this.fromCache=a}isEqual(r){return this.hasPendingWrites===r.hasPendingWrites&&this.fromCache===r.fromCache}}class Ll extends bf{constructor(r,a,c,h,E,A){super(r,a,c,h,A),this._firestore=r,this._firestoreImpl=r,this.metadata=E}exists(){return super.exists()}data(r={}){if(this._document){if(this._converter){const a=new Zd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(a,r)}return this._userDataWriter.convertValue(this._document.data.value,r.serverTimestamps)}}get(r,a={}){if(this._document){const c=this._document.data.field(gg("DocumentSnapshot.get",r));if(null!==c)return this._userDataWriter.convertValue(c,a.serverTimestamps)}}}class Zd extends Ll{data(r={}){return super.data(r)}}class kl{constructor(r,a,c,h){this._firestore=r,this._userDataWriter=a,this._snapshot=h,this.metadata=new _c(h.hasPendingWrites,h.fromCache),this.query=c}get docs(){const r=[];return this.forEach(a=>r.push(a)),r}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(r,a){this._snapshot.docs.forEach(c=>{r.call(a,new Zd(this._firestore,this._userDataWriter,c.key,c,new _c(this._snapshot.mutatedKeys.has(c.key),this._snapshot.fromCache),this.query.converter))})}docChanges(r={}){const a=!!r.includeMetadataChanges;if(a&&this._snapshot.excludesMetadataChanges)throw new xt(st.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===a||(this._cachedChanges=function(c,h){if(c._snapshot.oldDocs.isEmpty()){let E=0;return c._snapshot.docChanges.map(A=>({type:"added",doc:new Zd(c._firestore,c._userDataWriter,A.doc.key,A.doc,new _c(c._snapshot.mutatedKeys.has(A.doc.key),c._snapshot.fromCache),c.query.converter),oldIndex:-1,newIndex:E++}))}{let E=c._snapshot.oldDocs;return c._snapshot.docChanges.filter(A=>h||3!==A.type).map(A=>{const B=new Zd(c._firestore,c._userDataWriter,A.doc.key,A.doc,new _c(c._snapshot.mutatedKeys.has(A.doc.key),c._snapshot.fromCache),c.query.converter);let Y=-1,_e=-1;return 0!==A.type&&(Y=E.indexOf(A.doc.key),E=E.delete(A.doc.key)),1!==A.type&&(E=E.add(A.doc),_e=E.indexOf(A.doc.key)),{type:mg(A.type),doc:B,oldIndex:Y,newIndex:_e}})}}(this,a),this._cachedChangesIncludeMetadataChanges=a),this._cachedChanges}}function mg(u){switch(u){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Jt()}}function wf(u,r){return u instanceof Ll&&r instanceof Ll?u._firestore===r._firestore&&u._key.isEqual(r._key)&&(null===u._document?null===r._document:u._document.isEqual(r._document))&&u._converter===r._converter:u instanceof kl&&r instanceof kl&&u._firestore===r._firestore&&sy(u.query,r.query)&&u.metadata.isEqual(r.metadata)&&u._snapshot.isEqual(r._snapshot)}function fy(u){if(Ja(u)&&0===u.explicitOrderBy.length)throw new xt(st.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cf{}function vc(u,...r){for(const a of r)u=a._apply(u);return u}class ZE extends Cf{constructor(r,a,c){super(),this.Ka=r,this.ja=a,this.Qa=c,this.type="where"}_apply(r){const a=Pl(r.firestore),c=function(h,E,A,B,Y,_e,De){let Le;if(Y.isKeyField()){if("array-contains"===_e||"array-contains-any"===_e)throw new xt(st.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_e}' queries on FieldPath.documentId().`);if("in"===_e||"not-in"===_e){Ey(De,_e);const Ct=[];for(const jt of De)Ct.push(vy(B,h,jt));Le={arrayValue:{values:Ct}}}else Le=vy(B,h,De)}else"in"!==_e&&"not-in"!==_e&&"array-contains-any"!==_e||Ey(De,_e),Le=nv(A,"where",De,"in"===_e||"not-in"===_e);const lt=je.create(Y,_e,Le);return function(Ct,jt){if(jt.v()){const Yn=Jo(Ct);if(null!==Yn&&!Yn.isEqual(jt.field))throw new xt(st.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Yn.toString()}' and '${jt.field.toString()}'`);const Ni=Ts(Ct);null!==Ni&&by(0,jt.field,Ni)}const En=function(Yn,Ni){for(const Ys of Yn.filters)if(Ni.indexOf(Ys.op)>=0)return Ys.op;return null}(Ct,function(Yn){switch(Yn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(jt.op));if(null!==En)throw new xt(st.INVALID_ARGUMENT,En===jt.op?`Invalid query. You cannot use more than one '${jt.op.toString()}' filter.`:`Invalid query. You cannot use '${jt.op.toString()}' filters with '${En.toString()}' filters.`)}(h,lt),lt}(r._query,0,a,r.firestore._databaseId,this.Ka,this.ja,this.Qa);return new qs(r.firestore,r.converter,function(h,E){const A=h.filters.concat([E]);return new Ii(h.path,h.collectionGroup,h.explicitOrderBy.slice(),A,h.limit,h.limitType,h.startAt,h.endAt)}(r._query,c))}}class py extends Cf{constructor(r,a){super(),this.Ka=r,this.Wa=a,this.type="orderBy"}_apply(r){const a=function(c,h,E){if(null!==c.startAt)throw new xt(st.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==c.endAt)throw new xt(st.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const A=new Wr(h,E);return function(B,Y){if(null===Ts(B)){const _e=Jo(B);null!==_e&&by(0,_e,Y.field)}}(c,A),A}(r._query,this.Ka,this.Wa);return new qs(r.firestore,r.converter,function(c,h){const E=c.explicitOrderBy.concat([h]);return new Ii(c.path,c.collectionGroup,E,c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(r._query,a))}}class gy extends Cf{constructor(r,a,c){super(),this.type=r,this.Ga=a,this.za=c}_apply(r){return new qs(r.firestore,r.converter,Bn(r._query,this.Ga,this.za))}}class yg extends Cf{constructor(r,a,c){super(),this.type=r,this.Ha=a,this.Ja=c}_apply(r){const a=_y(r,this.type,this.Ha,this.Ja);return new qs(r.firestore,r.converter,(h=a,new Ii((c=r._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,h,c.endAt)));var c,h}}class qd extends Cf{constructor(r,a,c){super(),this.type=r,this.Ha=a,this.Ja=c}_apply(r){const a=_y(r,this.type,this.Ha,this.Ja);return new qs(r.firestore,r.converter,(h=a,new Ii((c=r._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,h)));var c,h}}function _y(u,r,a,c){if(a[0]=(0,Ge.m9)(a[0]),a[0]instanceof bf)return function(h,E,A,B,Y){if(!B)throw new xt(st.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${A}().`);const _e=[];for(const De of nn(h))if(De.field.isKeyField())_e.push(jo(E,B.key));else{const Le=B.data.field(De.field);if(cl(Le))throw new xt(st.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+De.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Le){const lt=De.field.canonicalString();throw new xt(st.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${lt}' (used as the orderBy) does not exist.`)}_e.push(Le)}return new ni(_e,Y)}(u._query,u.firestore._databaseId,r,a[0]._document,c);{const h=Pl(u.firestore);return function(E,A,B,Y,_e,De){const Le=E.explicitOrderBy;if(_e.length>Le.length)throw new xt(st.INVALID_ARGUMENT,`Too many arguments provided to ${Y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const lt=[];for(let Ct=0;Ct<_e.length;Ct++){const jt=_e[Ct];if(Le[Ct].field.isKeyField()){if("string"!=typeof jt)throw new xt(st.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${Y}(), but got a ${typeof jt}`);if(!fl(E)&&-1!==jt.indexOf("/"))throw new xt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${Y}() must be a plain document ID, but '${jt}' contains a slash.`);const En=E.path.child(Tr.fromString(jt));if(!Bt.isDocumentKey(En))throw new xt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${Y}() must result in a valid document path, but '${En}' is not because it contains an odd number of segments.`);const Yn=new Bt(En);lt.push(jo(A,Yn))}else{const En=nv(B,Y,jt);lt.push(En)}}return new ni(lt,De)}(u._query,u.firestore._databaseId,h,r,a,c)}}function vy(u,r,a){if("string"==typeof(a=(0,Ge.m9)(a))){if(""===a)throw new xt(st.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!fl(r)&&-1!==a.indexOf("/"))throw new xt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${a}' contains a '/' character.`);const c=r.path.child(Tr.fromString(a));if(!Bt.isDocumentKey(c))throw new xt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${c}' is not because it has an odd number of segments (${c.length}).`);return jo(u,new Bt(c))}if(a instanceof Ti)return jo(u,a._key);throw new xt(st.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${ng(a)}.`)}function Ey(u,r){if(!Array.isArray(u)||0===u.length)throw new xt(st.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${r.toString()}' filters.`);if(u.length>10)throw new xt(st.INVALID_ARGUMENT,`Invalid Query. '${r.toString()}' filters support a maximum of 10 elements in the value array.`)}function by(u,r,a){if(!a.isEqual(r))throw new xt(st.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${r.toString()}' and so you must also use '${r.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${a.toString()}' instead.`)}class _g{convertValue(r,a="none"){switch(Io(r)){case 0:return null;case 1:return r.booleanValue;case 2:return Ri(r.integerValue||r.doubleValue);case 3:return this.convertTimestamp(r.timestampValue);case 4:return this.convertServerTimestamp(r,a);case 5:return r.stringValue;case 6:return this.convertBytes(Hu(r.bytesValue));case 7:return this.convertReference(r.referenceValue);case 8:return this.convertGeoPoint(r.geoPointValue);case 9:return this.convertArray(r.arrayValue,a);case 10:return this.convertObject(r.mapValue,a);default:throw Jt()}}convertObject(r,a){const c={};return Ka(r.fields,(h,E)=>{c[h]=this.convertValue(E,a)}),c}convertGeoPoint(r){return new tl(Ri(r.latitude),Ri(r.longitude))}convertArray(r,a){return(r.values||[]).map(c=>this.convertValue(c,a))}convertServerTimestamp(r,a){switch(a){case"previous":const c=$u(r);return null==c?null:this.convertValue(c,a);case"estimate":return this.convertTimestamp(ma(r));default:return null}}convertTimestamp(r){const a=Na(r);return new ti(a.seconds,a.nanos)}convertDocumentKey(r,a){const c=Tr.fromString(r);pn(Cd(c));const h=new pc(c.get(1),c.get(3)),E=new Bt(c.popFirst(5));return h.isEqual(a)||mn(`Document ${E} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${a.projectId}/${a.database}) instead.`),E}}function Yd(u,r,a){let c;return c=u?a&&(a.merge||a.mergeFields)?u.toFirestore(r,a):u.toFirestore(r):r,c}class uv extends _g{constructor(r){super(),this.firestore=r}convertBytes(r){return new Go(r)}convertReference(r){const a=this.convertDocumentKey(r,this.firestore._databaseId);return new Ti(this.firestore,null,a)}}class vg{constructor(r,a){this._firestore=r,this._commitHandler=a,this._mutations=[],this._committed=!1,this._dataReader=Pl(r)}set(r,a,c){this._verifyNotCommitted();const h=nl(r,this._firestore),E=Yd(h.converter,a,c),A=Kd(this._dataReader,"WriteBatch.set",h._key,E,null!==h.converter,c);return this._mutations.push(A.toMutation(h._key,Vi.none())),this}update(r,a,c,...h){this._verifyNotCommitted();const E=nl(r,this._firestore);let A;return A="string"==typeof(a=(0,Ge.m9)(a))||a instanceof ra?dg(this._dataReader,"WriteBatch.update",E._key,a,c,h):_f(this._dataReader,"WriteBatch.update",E._key,a),this._mutations.push(A.toMutation(E._key,Vi.exists(!0))),this}delete(r){this._verifyNotCommitted();const a=nl(r,this._firestore);return this._mutations=this._mutations.concat(new Ac(a._key,Vi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xt(st.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function nl(u,r){if((u=(0,Ge.m9)(u)).firestore!==r)throw new xt(st.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return u}class sd extends _g{constructor(r){super(),this.firestore=r}convertBytes(r){return new Go(r)}convertReference(r){const a=this.convertDocumentKey(r,this.firestore._databaseId);return new Ti(this.firestore,null,a)}}function If(u,r,a){u=Nr(u,Ti);const c=Nr(u.firestore,zi),h=Yd(u.converter,r,a);return Jd(c,[Kd(Pl(c),"setDoc",u._key,h,null!==u.converter,a).toMutation(u._key,Vi.none())])}function Df(u,r,a,...c){u=Nr(u,Ti);const h=Nr(u.firestore,zi),E=Pl(h);let A;return A="string"==typeof(r=(0,Ge.m9)(r))||r instanceof ra?dg(E,"updateDoc",u._key,r,a,c):_f(E,"updateDoc",u._key,r),Jd(h,[A.toMutation(u._key,Vi.exists(!0))])}function Tf(u,...r){var a,c,h;u=(0,Ge.m9)(u);let E={includeMetadataChanges:!1},A=0;"object"!=typeof r[A]||sg(r[A])||(E=r[A],A++);const B={includeMetadataChanges:E.includeMetadataChanges};if(sg(r[A])){const Le=r[A];r[A]=null===(a=Le.next)||void 0===a?void 0:a.bind(Le),r[A+1]=null===(c=Le.error)||void 0===c?void 0:c.bind(Le),r[A+2]=null===(h=Le.complete)||void 0===h?void 0:h.bind(Le)}let Y,_e,De;if(u instanceof Ti)_e=Nr(u.firestore,zi),De=_r(u._key.path),Y={next:Le=>{r[A]&&r[A](Cg(_e,u,Le))},error:r[A+1],complete:r[A+2]};else{const Le=Nr(u,qs);_e=Nr(Le.firestore,zi),De=Le._query;const lt=new sd(_e);Y={next:Ct=>{r[A]&&r[A](new kl(_e,lt,Le,Ct))},error:r[A+1],complete:r[A+2]},fy(u._query)}return function(Le,lt,Ct,jt){const En=new Yc(jt),Yn=new Jh(lt,En,Ct);return Le.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return Sp(yield Qc(Le),Yn)})),()=>{En.Xo(),Le.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return Qh(yield Qc(Le),Yn)}))}}(Bs(_e),De,B,Y)}function Jd(u,r){return function(a,c){const h=new ts;return a.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(u,r,a){return Bd.apply(this,arguments)}(yield hf(a),c,h)})),h.promise}(Bs(u),r)}function Cg(u,r,a){const c=a.docs.get(r._key),h=new sd(u);return new Ll(u,h,r._key,c,new _c(a.hasPendingWrites,a.fromCache),r.converter)}class Cy extends class{constructor(r,a){this._firestore=r,this._transaction=a,this._dataReader=Pl(r)}get(r){const a=nl(r,this._firestore),c=new uv(this._firestore);return this._transaction.lookup([a._key]).then(h=>{if(!h||1!==h.length)return Jt();const E=h[0];if(E.isFoundDocument())return new bf(this._firestore,c,E.key,E,a.converter);if(E.isNoDocument())return new bf(this._firestore,c,a._key,null,a.converter);throw Jt()})}set(r,a,c){const h=nl(r,this._firestore),E=Yd(h.converter,a,c),A=Kd(this._dataReader,"Transaction.set",h._key,E,null!==h.converter,c);return this._transaction.set(h._key,A),this}update(r,a,c,...h){const E=nl(r,this._firestore);let A;return A="string"==typeof(a=(0,Ge.m9)(a))||a instanceof ra?dg(this._dataReader,"Transaction.update",E._key,a,c,h):_f(this._dataReader,"Transaction.update",E._key,a),this._transaction.update(E._key,A),this}delete(r){const a=nl(r,this._firestore);return this._transaction.delete(a._key),this}}{constructor(r,a){super(r,a),this._firestore=r}get(r){const a=nl(r,this._firestore),c=new sd(this._firestore);return super.get(r).then(h=>new Ll(this._firestore,c,a._key,h._document,new _c(!1,!1),a.converter))}}function Sf(u,r){if(void 0===r)return{merge:!1};if(void 0!==r.mergeFields&&void 0!==r.merge)throw new xt("invalid-argument",`Invalid options passed to function ${u}(): You cannot specify both "merge" and "mergeFields".`);return r}function Af(){if("undefined"==typeof Uint8Array)throw new xt("unimplemented","Uint8Arrays are not available in this environment.")}function Tg(){if("undefined"==typeof atob)throw new xt("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(u){ct=u})(_t.SDK_VERSION),(0,_t._registerComponent)(new sn.wA("firestore",(u,{options:r})=>{const a=u.getProvider("app").getImmediate(),c=new zi(a,new Cc(u.getProvider("auth-internal")));return r=Object.assign({useFetchStreams:!0},r),c._setSettings(r),c},"PUBLIC")),(0,_t.registerVersion)("@firebase/firestore","3.0.0",void 0);class Xd{constructor(r){this._delegate=r}static fromBase64String(r){return Tg(),new Xd(Go.fromBase64String(r))}static fromUint8Array(r){return Af(),new Xd(Go.fromUint8Array(r))}toBase64(){return Tg(),this._delegate.toBase64()}toUint8Array(){return Af(),this._delegate.toUint8Array()}isEqual(r){return this._delegate.isEqual(r._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Sg(u){return function(u,r){if("object"!=typeof u||null===u)return!1;const a=u;for(const c of["next","error","complete"])if(c in a&&"function"==typeof a[c])return!0;return!1}(u)}class Ag{enableIndexedDbPersistence(r,a){return function(u,r){mc(u=Nr(u,zi));const a=Bs(u),c=u._freezeSettings(),h=new Xm;return Xc(a,h,new Yr(h,c.cacheSizeBytes,null==r?void 0:r.forceOwnership))}(r._delegate,{forceOwnership:a})}enableMultiTabIndexedDbPersistence(r){return function(u){mc(u=Nr(u,zi));const r=Bs(u),a=u._freezeSettings(),c=new Xm;return Xc(r,c,new Gp(c,a.cacheSizeBytes))}(r._delegate)}clearIndexedDbPersistence(r){return function(u){if(u._initialized&&!u._terminated)throw new xt(st.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const r=new ts;return u._queue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{yield(a=(0,me.Z)(function*(c){if(!So.Pt())return Promise.resolve();const h=c+"main";yield So.delete(h)}),function(c){return a.apply(this,arguments)})(ym(u._databaseId,u._persistenceKey)),r.resolve()}catch(a){r.reject(a)}var a})),r.promise}(r._delegate)}}class eh{constructor(r,a,c){this._delegate=a,this._persistenceProvider=c,this.INTERNAL={delete:()=>this.terminate()},r instanceof pc||(this._appCompat=r)}get _databaseId(){return this._delegate._databaseId}settings(r){const a=this._delegate._getSettings();!r.merge&&a.host!==r.host&&wi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),r.merge&&delete(r=Object.assign(Object.assign({},a),r)).merge,this._delegate._setSettings(r)}useEmulator(r,a,c={}){!function(u,r,a,c={}){var h;const E=(u=Nr(u,Wd))._getSettings();if("firestore.googleapis.com"!==E.host&&E.host!==r&&wi("Host has been set in both settings() and useEmulator(), emulator host will be used"),u._setSettings(Object.assign(Object.assign({},E),{host:`${r}:${a}`,ssl:!1})),c.mockUserToken){let A,B;if("string"==typeof c.mockUserToken)A=c.mockUserToken,B=Ae.MOCK_USER;else{A=(0,Ge.Sg)(c.mockUserToken,null===(h=u._app)||void 0===h?void 0:h.options.projectId);const Y=c.mockUserToken.sub||c.mockUserToken.user_id;if(!Y)throw new xt(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");B=new Ae(Y)}u._credentials=new jl(new Vu(A,B))}}(this._delegate,r,a,c)}enableNetwork(){return function(u){return function(u){return u.asyncQueue.enqueue((0,me.Z)(function*(){const r=yield Qp(u),a=yield Jp(u);return r.setNetworkEnabled(!0),function(c){const h=kt(c);return h.Kr.delete(0),oc(h)}(a)}))}(Bs(u=Nr(u,zi)))}(this._delegate)}disableNetwork(){return function(u){return function(u){return u.asyncQueue.enqueue((0,me.Z)(function*(){const r=yield Qp(u),a=yield Jp(u);return r.setNetworkEnabled(!1),(c=(0,me.Z)(function*(h){const E=kt(h);E.Kr.add(0),yield Ml(E),E.Wr.set("Offline")}),function(h){return c.apply(this,arguments)})(a);var c}))}(Bs(u=Nr(u,zi)))}(this._delegate)}enablePersistence(r){let a=!1,c=!1;return r&&(a=!!r.synchronizeTabs,c=!!r.experimentalForceOwningTab,Va("synchronizeTabs",a,"experimentalForceOwningTab",c)),a?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,c)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(u){return function(r){const a=new ts;return r.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(u,r){return sf.apply(this,arguments)}(yield hf(r),a)})),a.promise}(Bs(u=Nr(u,zi)))}(this._delegate)}onSnapshotsInSync(r){return function(u,r){return function(u,r){const a=new Yc(r);return u.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return c=yield Qc(u),h=a,kt(c).Zr.add(h),void h.next();var c,h})),()=>{a.Xo(),u.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return c=yield Qc(u),h=a,void kt(c).Zr.delete(h);var c,h}))}}(Bs(u=Nr(u,zi)),sg(r)?r:{next:r})}(this._delegate,r)}get app(){if(!this._appCompat)throw new xt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(r){try{return new Ec(this,ff(this._delegate,r))}catch(a){throw xo(a,"collection()","Firestore.collection()")}}doc(r){try{return new ba(this,pf(this._delegate,r))}catch(a){throw xo(a,"doc()","Firestore.doc()")}}collectionGroup(r){try{return new Mo(this,function(u,r){if(u=Nr(u,Wd),ry("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new xt(st.INVALID_ARGUMENT,`Invalid collection ID '${r}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new qs(u,null,(a=r,new Ii(Tr.emptyPath(),a)));var a}(this._delegate,r))}catch(a){throw xo(a,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(r){return function(u,r){return function(u,r){const a=new ts;return u.asyncQueue.enqueueAndForget((0,me.Z)(function*(){const c=yield(h=u,Nl(h).then(E=>E.datastore));var h;new $_(u.asyncQueue,c,r,a).run()})),a.promise}(Bs(u),a=>r(new Cy(u,a)))}(this._delegate,a=>r(new xg(this,a)))}batch(){return Bs(this._delegate),new Mg(new vg(this._delegate,r=>Jd(this._delegate,r)))}loadBundle(r){return function(u,r){const a=Bs(u=Nr(u,zi)),c=new gf;return function(u,r,a,c){const h=function(E,A){let B;return B="string"==typeof E?(new TextEncoder).encode(E):E,Y=function(Y,_e){if(Y instanceof Uint8Array)return Au(Y,void 0);if(Y instanceof ArrayBuffer)return Au(new Uint8Array(Y),void 0);if(Y instanceof ReadableStream)return Y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(B),new zp(Y,A);var Y}(a,Kh(r));u.asyncQueue.enqueueAndForget((0,me.Z)(function*(){!function(u,r,a){const c=kt(u);var h;(h=(0,me.Z)(function*(E,A,B){try{const Y=yield A.getMetadata();if(yield function(lt,Ct){const jt=kt(lt),En=Bi(Ct.createTime);return jt.persistence.runTransaction("hasNewerBundle","readonly",Yn=>jt.Je.getBundleMetadata(Yn,Ct.id)).then(Yn=>!!Yn&&Yn.createTime.compareTo(En)>=0)}(E.localStore,Y))return yield A.close(),void B._completeWith((lt=Y,{taskState:"Success",documentsLoaded:lt.totalDocuments,bytesLoaded:lt.totalBytes,totalDocuments:lt.totalDocuments,totalBytes:lt.totalBytes}));B._updateProgress(Xh(Y));const _e=new Tu(Y,E.localStore,A.N);let De=yield A.Qo();for(;De;){const lt=yield _e.fo(De);lt&&B._updateProgress(lt),De=yield A.Qo()}const Le=yield _e.complete();yield Su(E,Le.Tn,void 0),yield function(lt,Ct){const jt=kt(lt);return jt.persistence.runTransaction("Save bundle","readwrite",En=>jt.Je.saveBundleMetadata(En,Ct))}(E.localStore,Y),B._completeWith(Le.progress)}catch(Y){wi("SyncEngine",`Loading bundle failed with ${Y}`),B._failWith(Y)}var lt}),function(E,A,B){return h.apply(this,arguments)})(c,r,a).then(()=>{c.sharedClientState.notifyBundleLoaded()})}(yield hf(u),h,c)}))}(a,u._databaseId,r,c),c}(this._delegate,r)}namedQuery(r){return function(u,r){return function(u,r){return u.asyncQueue.enqueue((0,me.Z)(function*(){return function(a,c){const h=kt(a);return h.persistence.runTransaction("Get named query","readonly",E=>h.Je.getNamedQuery(E,c))}(yield df(u),r)}))}(Bs(u=Nr(u,zi)),r).then(a=>a?new qs(u,null,a.query):null)}(this._delegate,r).then(a=>a?new Mo(this,a):null)}}class th extends _g{constructor(r){super(),this.firestore=r}convertBytes(r){return new Xd(new Go(r))}convertReference(r){const a=this.convertDocumentKey(r,this.firestore._databaseId);return ba.forKey(a,this.firestore,null)}}class xg{constructor(r,a){this._firestore=r,this._delegate=a,this._userDataWriter=new th(r)}get(r){const a=bc(r);return this._delegate.get(a).then(c=>new nh(this._firestore,new Ll(this._firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,a.converter)))}set(r,a,c){const h=bc(r);return c?(Sf("Transaction.set",c),this._delegate.set(h,a,c)):this._delegate.set(h,a),this}update(r,a,c,...h){const E=bc(r);return 2===arguments.length?this._delegate.update(E,a):this._delegate.update(E,a,c,...h),this}delete(r){const a=bc(r);return this._delegate.delete(a),this}}class Mg{constructor(r){this._delegate=r}set(r,a,c){const h=bc(r);return c?(Sf("WriteBatch.set",c),this._delegate.set(h,a,c)):this._delegate.set(h,a),this}update(r,a,c,...h){const E=bc(r);return 2===arguments.length?this._delegate.update(E,a):this._delegate.update(E,a,c,...h),this}delete(r){const a=bc(r);return this._delegate.delete(a),this}commit(){return this._delegate.commit()}}class Fl{constructor(r,a,c){this._firestore=r,this._userDataWriter=a,this._delegate=c}fromFirestore(r,a){const c=new Zd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,null);return this._delegate.fromFirestore(new rh(this._firestore,c),null!=a?a:{})}toFirestore(r,a){return a?this._delegate.toFirestore(r,a):this._delegate.toFirestore(r)}static getInstance(r,a){const c=Fl.INSTANCES;let h=c.get(r);h||(h=new WeakMap,c.set(r,h));let E=h.get(a);return E||(E=new Fl(r,new th(r),a),h.set(a,E)),E}}Fl.INSTANCES=new WeakMap;class ba{constructor(r,a){this.firestore=r,this._delegate=a,this._userDataWriter=new th(r)}static forPath(r,a,c){if(r.length%2!=0)throw new xt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${r.canonicalString()} has ${r.length}`);return new ba(a,new Ti(a._delegate,c,new Bt(r)))}static forKey(r,a,c){return new ba(a,new Ti(a._delegate,c,r))}get id(){return this._delegate.id}get parent(){return new Ec(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(r){try{return new Ec(this.firestore,ff(this._delegate,r))}catch(a){throw xo(a,"collection()","DocumentReference.collection()")}}isEqual(r){return(r=(0,Ge.m9)(r))instanceof Ti&&iy(this._delegate,r)}set(r,a){a=Sf("DocumentReference.set",a);try{return a?If(this._delegate,r,a):If(this._delegate,r)}catch(c){throw xo(c,"setDoc()","DocumentReference.set()")}}update(r,a,...c){try{return 1===arguments.length?Df(this._delegate,r):Df(this._delegate,r,a,...c)}catch(h){throw xo(h,"updateDoc()","DocumentReference.update()")}}delete(){return function(u){return Jd(Nr(u.firestore,zi),[new Ac(u._key,Vi.none())])}(this._delegate)}onSnapshot(...r){const a=Og(r),c=gv(r,h=>new nh(this.firestore,new Ll(this.firestore._delegate,this._userDataWriter,h._key,h._document,h.metadata,this._delegate.converter)));return Tf(this._delegate,a,c)}get(r){let a;return a="cache"===(null==r?void 0:r.source)?function(u){u=Nr(u,Ti);const r=Nr(u.firestore,zi),a=Bs(r),c=new sd(r);return function(u,r){const a=new ts;return u.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(c=(0,me.Z)(function*(h,E,A){try{const B=yield function(Y,_e){const De=kt(Y);return De.persistence.runTransaction("read document","readonly",Le=>De.Qn.An(Le,_e))}(h,E);B.isFoundDocument()?A.resolve(B):B.isNoDocument()?A.resolve(null):A.reject(new xt(st.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(B){const Y=dc(B,`Failed to get document '${E} from cache`);A.reject(Y)}}),function(h,E,A){return c.apply(this,arguments)})(yield df(u),r,a);var c})),a.promise}(a,u._key).then(h=>new Ll(r,c,u._key,h,new _c(null!==h&&h.hasLocalMutations,!0),u.converter))}(this._delegate):"server"===(null==r?void 0:r.source)?function(u){u=Nr(u,Ti);const r=Nr(u.firestore,zi);return K_(Bs(r),u._key,{source:"server"}).then(a=>Cg(r,u,a))}(this._delegate):function(u){u=Nr(u,Ti);const r=Nr(u.firestore,zi);return K_(Bs(r),u._key).then(a=>Cg(r,u,a))}(this._delegate),a.then(c=>new nh(this.firestore,new Ll(this.firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,this._delegate.converter)))}withConverter(r){return new ba(this.firestore,this._delegate.withConverter(r?Fl.getInstance(this.firestore,r):null))}}function xo(u,r,a){return u.message=u.message.replace(r,a),u}function Og(u){for(const r of u)if("object"==typeof r&&!Sg(r))return r;return{}}function gv(u,r){var a,c;let h;return h=Sg(u[0])?u[0]:Sg(u[1])?u[1]:"function"==typeof u[0]?{next:u[0],error:u[1],complete:u[2]}:{next:u[1],error:u[2],complete:u[3]},{next:E=>{h.next&&h.next(r(E))},error:null===(a=h.error)||void 0===a?void 0:a.bind(h),complete:null===(c=h.complete)||void 0===c?void 0:c.bind(h)}}class nh{constructor(r,a){this._firestore=r,this._delegate=a}get ref(){return new ba(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(r){return this._delegate.data(r)}get(r,a){return this._delegate.get(r,a)}isEqual(r){return wf(this._delegate,r._delegate)}}class rh extends nh{data(r){const a=this._delegate.data(r);return function(u,r){u||Jt()}(void 0!==a),a}}class Mo{constructor(r,a){this.firestore=r,this._delegate=a,this._userDataWriter=new th(r)}where(r,a,c){try{return new Mo(this.firestore,vc(this._delegate,function(u,r,a){const c=r,h=gg("where",u);return new ZE(h,c,a)}(r,a,c)))}catch(h){throw xo(h,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(r,a){try{return new Mo(this.firestore,vc(this._delegate,function(u,r="asc"){const a=r,c=gg("orderBy",u);return new py(c,a)}(r,a)))}catch(c){throw xo(c,/(orderBy|where)\(\)/,"Query.$1()")}}limit(r){try{return new Mo(this.firestore,vc(this._delegate,function(u){return rg("limit",u),new gy("limit",u,"F")}(r)))}catch(a){throw xo(a,"limit()","Query.limit()")}}limitToLast(r){try{return new Mo(this.firestore,vc(this._delegate,function(u){return rg("limitToLast",u),new gy("limitToLast",u,"L")}(r)))}catch(a){throw xo(a,"limitToLast()","Query.limitToLast()")}}startAt(...r){try{return new Mo(this.firestore,vc(this._delegate,function(...u){return new yg("startAt",u,!0)}(...r)))}catch(a){throw xo(a,"startAt()","Query.startAt()")}}startAfter(...r){try{return new Mo(this.firestore,vc(this._delegate,function(...u){return new yg("startAfter",u,!1)}(...r)))}catch(a){throw xo(a,"startAfter()","Query.startAfter()")}}endBefore(...r){try{return new Mo(this.firestore,vc(this._delegate,function(...u){return new qd("endBefore",u,!0)}(...r)))}catch(a){throw xo(a,"endBefore()","Query.endBefore()")}}endAt(...r){try{return new Mo(this.firestore,vc(this._delegate,function(...u){return new qd("endAt",u,!1)}(...r)))}catch(a){throw xo(a,"endAt()","Query.endAt()")}}isEqual(r){return sy(this._delegate,r._delegate)}get(r){let a;return a="cache"===(null==r?void 0:r.source)?function(u){u=Nr(u,qs);const r=Nr(u.firestore,zi),a=Bs(r),c=new sd(r);return function(u,r){const a=new ts;return u.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(c=(0,me.Z)(function*(h,E,A){try{const B=yield Zn(h,E,!0),Y=new N_(E,B.Gn),_e=Y.Io(B.documents),De=Y.applyChanges(_e,!1);A.resolve(De.snapshot)}catch(B){const Y=dc(B,`Failed to execute query '${E} against cache`);A.reject(Y)}}),function(h,E,A){return c.apply(this,arguments)})(yield df(u),r,a);var c})),a.promise}(a,u._query).then(h=>new kl(r,c,u,h))}(this._delegate):"server"===(null==r?void 0:r.source)?function(u){u=Nr(u,qs);const r=Nr(u.firestore,zi),a=Bs(r),c=new sd(r);return ny(a,u._query,{source:"server"}).then(h=>new kl(r,c,u,h))}(this._delegate):function(u){u=Nr(u,qs);const r=Nr(u.firestore,zi),a=Bs(r),c=new sd(r);return fy(u._query),ny(a,u._query).then(h=>new kl(r,c,u,h))}(this._delegate),a.then(c=>new gs(this.firestore,new kl(this.firestore._delegate,this._userDataWriter,this._delegate,c._snapshot)))}onSnapshot(...r){const a=Og(r),c=gv(r,h=>new gs(this.firestore,new kl(this.firestore._delegate,this._userDataWriter,this._delegate,h._snapshot)));return Tf(this._delegate,a,c)}withConverter(r){return new Mo(this.firestore,this._delegate.withConverter(r?Fl.getInstance(this.firestore,r):null))}}class mv{constructor(r,a){this._firestore=r,this._delegate=a}get type(){return this._delegate.type}get doc(){return new rh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class gs{constructor(r,a){this._firestore=r,this._delegate=a}get query(){return new Mo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(r=>new rh(this._firestore,r))}docChanges(r){return this._delegate.docChanges(r).map(a=>new mv(this._firestore,a))}forEach(r,a){this._delegate.forEach(c=>{r.call(a,new rh(this._firestore,c))})}isEqual(r){return wf(this._delegate,r._delegate)}}class Ec extends Mo{constructor(r,a){super(r,a),this.firestore=r,this._delegate=a}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const r=this._delegate.parent;return r?new ba(this.firestore,r):null}doc(r){try{return new ba(this.firestore,void 0===r?pf(this._delegate):pf(this._delegate,r))}catch(a){throw xo(a,"doc()","CollectionReference.doc()")}}add(r){return function(u,r){const a=Nr(u.firestore,zi),c=pf(u),h=Yd(u.converter,r);return Jd(a,[Kd(Pl(u.firestore),"addDoc",c._key,h,null!==u.converter,{}).toMutation(c._key,Vi.exists(!1))]).then(()=>c)}(this._delegate,r).then(a=>new ba(this.firestore,a))}isEqual(r){return iy(this._delegate,r._delegate)}withConverter(r){return new Ec(this.firestore,this._delegate.withConverter(r?Fl.getInstance(this.firestore,r):null))}}function bc(u){return Nr(u,Ti)}class Rg{constructor(...r){this._delegate=new ra(...r)}static documentId(){return new Rg(or.keyField().canonicalString())}isEqual(r){return(r=(0,Ge.m9)(r))instanceof ra&&this._delegate._internalPath.isEqual(r._internalPath)}}class Vl{constructor(r){this._delegate=r}static serverTimestamp(){const r=new cg("serverTimestamp");return r._methodName="FieldValue.serverTimestamp",new Vl(r)}static delete(){const r=new rd("deleteField");return r._methodName="FieldValue.delete",new Vl(r)}static arrayUnion(...r){const a=function(...u){return new cy("arrayUnion",u)}(...r);return a._methodName="FieldValue.arrayUnion",new Vl(a)}static arrayRemove(...r){const a=function(...u){return new ev("arrayRemove",u)}(...r);return a._methodName="FieldValue.arrayRemove",new Vl(a)}static increment(r){const a=function(u){return new tv("increment",u)}(r);return a._methodName="FieldValue.increment",new Vl(a)}isEqual(r){return this._delegate.isEqual(r._delegate)}}const yv={Firestore:eh,GeoPoint:tl,Timestamp:ti,Blob:Xd,Transaction:xg,WriteBatch:Mg,DocumentReference:ba,DocumentSnapshot:nh,Query:Mo,QueryDocumentSnapshot:rh,QuerySnapshot:gs,CollectionReference:Ec,FieldPath:Rg,FieldValue:Vl,setLogLevel:function(u){!function(u){Wt.setLogLevel(u)}(u)},CACHE_SIZE_UNLIMITED:-1};!function(u){(function(u,r){u.INTERNAL.registerComponent(new sn.wA("firestore-compat",a=>((r,a)=>new eh(r,a,new Ag))(a.getProvider("app-compat").getImmediate(),a.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},yv)))})(u),u.registerVersion("@firebase/firestore-compat","0.1.0")}(Xe.Z);var ja=R(1325);function Ny(u,r){return function(u,r=O.z){return new se.y(a=>{let c;return null!=r?r.schedule(()=>{c=u.onSnapshot({includeMetadataChanges:!0},a)}):c=u.onSnapshot({includeMetadataChanges:!0},a),()=>{null!=c&&c()}})}(u,r)}function Ng(u,r){return Ny(u,r).pipe((0,J.U)(a=>({payload:a,type:"query"})))}function ih(u,r){return Ng(u,r).pipe((0,de.O)(void 0),(0,q.G)(),(0,J.U)(([a,c])=>{const h=c.payload.docChanges(),E=h.map(A=>({type:A.type,payload:A}));return a&&JSON.stringify(a.payload.metadata)!==JSON.stringify(c.payload.metadata)&&c.payload.docs.forEach((A,B)=>{const Y=h.find(De=>De.doc.ref.isEqual(A.ref)),_e=null==a?void 0:a.payload.docs.find(De=>De.ref.isEqual(A.ref));Y&&JSON.stringify(Y.doc.metadata)===JSON.stringify(A.metadata)||!Y&&_e&&JSON.stringify(_e.metadata)===JSON.stringify(A.metadata)||E.push({type:"modified",payload:{oldIndex:B,newIndex:B,type:"modified",doc:A}})}),E}))}function vv(u,r,a){return ih(u,a).pipe((0,Q.R)((c,h)=>function(u,r,a){return r.forEach(c=>{a.indexOf(c.type)>-1&&(u=function(u,r){switch(r.type){case"added":if(!u[r.newIndex]||!u[r.newIndex].doc.ref.isEqual(r.doc.ref))return sh(u,r.newIndex,0,r);break;case"modified":if(null==u[r.oldIndex]||u[r.oldIndex].doc.ref.isEqual(r.doc.ref)){if(r.oldIndex!==r.newIndex){const a=u.slice();return a.splice(r.oldIndex,1),a.splice(r.newIndex,0,r),a}return sh(u,r.newIndex,1,r)}break;case"removed":if(u[r.oldIndex]&&u[r.oldIndex].doc.ref.isEqual(r.doc.ref))return sh(u,r.oldIndex,1)}return u}(u,c))}),u}(c,h.map(E=>E.payload),r),[]),(0,ue.x)(),(0,J.U)(c=>c.map(h=>({type:h.type,payload:h}))))}function sh(u,r,a,...c){const h=u.slice();return h.splice(r,a,...c),h}function ky(u){return(!u||0===u.length)&&(u=["added","removed","modified"]),u}class Fy{constructor(r,a,c){this.ref=r,this.query=a,this.afs=c}stateChanges(r){let a=ih(this.query,this.afs.schedulers.outsideAngular);return r&&r.length>0&&(a=a.pipe((0,J.U)(c=>c.filter(h=>r.indexOf(h.type)>-1)))),a.pipe((0,de.O)(void 0),(0,q.G)(),(0,X.h)(([c,h])=>h.length>0||!c),(0,J.U)(([c,h])=>h),re.iC)}auditTrail(r){return this.stateChanges(r).pipe((0,Q.R)((a,c)=>[...a,...c],[]))}snapshotChanges(r){const a=ky(r);return vv(this.query,a,this.afs.schedulers.outsideAngular).pipe(re.iC)}valueChanges(r={}){return Ng(this.query,this.afs.schedulers.outsideAngular).pipe((0,J.U)(a=>a.payload.docs.map(c=>r.idField?Object.assign(Object.assign({},c.data()),{[r.idField]:c.id}):c.data())),re.iC)}get(r){return(0,oe.D)(this.query.get(r)).pipe(re.f6)}add(r){return this.ref.add(r)}doc(r){return new au(this.ref.doc(r),this.afs)}}class au{constructor(r,a){this.ref=r,this.afs=a}set(r,a){return this.ref.set(r,a)}update(r){return this.ref.update(r)}delete(){return this.ref.delete()}collection(r,a){const c=this.ref.collection(r),{ref:h,query:E}=Uy(c,a);return new Fy(h,E,this.afs)}snapshotChanges(){return function(u,r){return Ny(u,r).pipe((0,de.O)(void 0),(0,q.G)(),(0,J.U)(([a,c])=>c.exists?(null==a?void 0:a.exists)?{payload:c,type:"modified"}:{payload:c,type:"added"}:{payload:c,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(re.iC)}valueChanges(r={}){return this.snapshotChanges().pipe((0,J.U)(({payload:a})=>r.idField?Object.assign(Object.assign({},a.data()),{[r.idField]:a.id}):a.data()))}get(r){return(0,oe.D)(this.ref.get(r)).pipe((0,fe.QV)(this.afs.schedulers.insideAngular))}}class uu{constructor(r,a){this.query=r,this.afs=a}stateChanges(r){return r&&0!==r.length?ih(this.query,this.afs.schedulers.outsideAngular).pipe((0,J.U)(a=>a.filter(c=>r.indexOf(c.type)>-1)),(0,X.h)(a=>a.length>0),re.iC):ih(this.query,this.afs.schedulers.outsideAngular).pipe(re.iC)}auditTrail(r){return this.stateChanges(r).pipe((0,Q.R)((a,c)=>[...a,...c],[]))}snapshotChanges(r){const a=ky(r);return vv(this.query,a,this.afs.schedulers.outsideAngular).pipe(re.iC)}valueChanges(r={}){return Ng(this.query,this.afs.schedulers.outsideAngular).pipe((0,J.U)(c=>c.payload.docs.map(h=>r.idField?Object.assign({[r.idField]:h.id},h.data()):h.data())),re.iC)}get(r){return(0,oe.D)(this.query.get(r)).pipe(re.f6)}}const Ha=new b.OlP("angularfire2.enableFirestorePersistence"),Pg=new b.OlP("angularfire2.firestore.persistenceSettings"),Vy=new b.OlP("angularfire2.firestore.settings"),Ev=new b.OlP("angularfire2.firestore.use-emulator");function Uy(u,r=(a=>a)){return{query:r(u),ref:u}}let By=(()=>{class u{constructor(a,c,h,E,A,B,Y,_e,De,Le,lt,Ct,jt,En,Yn,Ni){this.schedulers=Y;const Ys=(0,ye.on)(a,B,c),Nu=De;if(Le){const Oo=Ct;(0,re.cc)(`${Ys.name}.auth`,"AngularFireAuth",Ys.name,()=>{const ia=B.runOutsideAngular(()=>Ys.auth());if(lt&&ia.useEmulator(...lt),jt&&(ia.tenantId=jt),ia.languageCode=En,Yn&&ia.useDeviceLanguage(),Oo)for(const[od,wv]of Object.entries(Oo))ia.settings[od]=wv;return Ni&&ia.setPersistence(Ni),ia},[lt,jt,En,Yn,Oo,Ni])}[this.firestore,this.persistenceEnabled$]=(0,re.cc)(`${Ys.name}.firestore`,"AngularFirestore",Ys.name,()=>{const Oo=B.runOutsideAngular(()=>Ys.firestore());if(E&&Oo.settings(E),Nu&&Oo.useEmulator(...Nu),h&&!(0,Pe.PM)(A)){const ia=()=>{try{return(0,oe.D)(Oo.enablePersistence(_e||void 0).then(()=>!0,()=>!1))}catch(od){return"undefined"!=typeof console&&console.warn(od),(0,L.of)(!1)}};return[Oo,B.runOutsideAngular(ia)]}return[Oo,(0,L.of)(!1)]},[E,Nu,h])}collection(a,c){let h;h="string"==typeof a?this.firestore.collection(a):a;const{ref:E,query:A}=Uy(h,c),B=this.schedulers.ngZone.run(()=>E);return new Fy(B,A,this)}collectionGroup(a,c){const h=c||(A=>A),E=this.firestore.collectionGroup(a);return new uu(h(E),this)}doc(a){let c;c="string"==typeof a?this.firestore.doc(a):a;const h=this.schedulers.ngZone.run(()=>c);return new au(h,this)}createId(){return this.firestore.collection("_").doc().id}}return u.\u0275fac=function(a){return new(a||u)(b.LFG(ye.Dh),b.LFG(ye.xv,8),b.LFG(Ha,8),b.LFG(Vy,8),b.LFG(b.Lbi),b.LFG(b.R0b),b.LFG(re.HU),b.LFG(Pg,8),b.LFG(Ev,8),b.LFG(ja.zQ,8),b.LFG(ja.Qv,8),b.LFG(ja.L6,8),b.LFG(ja._Q,8),b.LFG(ja.rT,8),b.LFG(ja.lh,8),b.LFG(ja.f7,8))},u.\u0275prov=b.Yz7({token:u,factory:u.\u0275fac,providedIn:"any"}),u})(),bv=(()=>{class u{static enablePersistence(a){return{ngModule:u,providers:[{provide:Ha,useValue:!0},{provide:Pg,useValue:a}]}}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=b.oAB({type:u}),u.\u0275inj=b.cJS({providers:[By]}),u})()},9958:(yt,Me,R)=>{"use strict";R.d(Me,{hO:()=>Pe,xv:()=>ue,Dh:()=>Q,GT:()=>q,on:()=>X,pX:()=>de});var b=R(7716),O=R(4486);O.Z.registerVersion("firebase","9.0.0","app-compat");var L=R(9126);yt=R.hmd(yt);const re=["ngOnDestroy"],de=(Ze,Xe,me,_t={})=>new Proxy(Ze,{get:(sn,bt)=>me.runOutsideAngular(()=>{var Ge;if(Ze[bt])return(null===(Ge=null==_t?void 0:_t.spy)||void 0===Ge?void 0:Ge.get)&&_t.spy.get(bt,Ze[bt]),Ze[bt];if(re.indexOf(bt)>-1)return()=>{};const $t=Xe.toPromise().then(We=>{const Rt=We&&We[bt];return"function"==typeof Rt?Rt.bind(We):Rt&&Rt.then?Rt.then(Ot=>me.run(()=>Ot)):me.run(()=>Rt)});return new Proxy(()=>{},{get:(We,Rt)=>$t[Rt],apply:(We,Rt,Ot)=>$t.then(xe=>{var $e;const Re=xe&&xe(...Ot);return(null===($e=null==_t?void 0:_t.spy)||void 0===$e?void 0:$e.apply)&&_t.spy.apply(bt,Ot,Re),Re})})})}),q=(Ze,Xe)=>{Xe.forEach(me=>{Object.getOwnPropertyNames(me.prototype||me).forEach(_t=>{Object.defineProperty(Ze.prototype,_t,Object.getOwnPropertyDescriptor(me.prototype||me,_t))})})};class J{constructor(Xe){return Xe}}const Q=new b.OlP("angularfire2.app.options"),ue=new b.OlP("angularfire2.app.name");function X(Ze,Xe,me){const sn="object"==typeof me&&me||{};sn.name=sn.name||"string"==typeof me&&me||"[DEFAULT]";const Ge=O.Z.apps.filter($t=>$t&&$t.name===sn.name)[0]||Xe.runOutsideAngular(()=>O.Z.initializeApp(Ze,sn));try{JSON.stringify(Ze)!==JSON.stringify(Ge.options)&&fe("error",`${Ge.name} Firebase App already initialized with different options${yt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch($t){}return new J(Ge)}const fe=(Ze,...Xe)=>{(0,b.X6Q)()&&"undefined"!=typeof console&&console[Ze](...Xe)},ye={provide:J,useFactory:X,deps:[Q,b.R0b,[new b.FiY,ue]]};let Pe=(()=>{class Ze{constructor(me){O.Z.registerVersion("angularfire",L.q4.full,`compat-${me.toString()}`),O.Z.registerVersion("angular",b.q4F.full)}static initializeApp(me,_t){return{ngModule:Ze,providers:[{provide:Q,useValue:me},{provide:ue,useValue:_t}]}}}return Ze.\u0275fac=function(me){return new(me||Ze)(b.LFG(b.Lbi))},Ze.\u0275mod=b.oAB({type:Ze}),Ze.\u0275inj=b.cJS({providers:[ye]}),Ze})()},9126:(yt,Me,R)=>{"use strict";R.d(Me,{q4:()=>Q,iC:()=>xe,f6:()=>Ot,HU:()=>bt,cc:()=>fe});var b=R(7716);(0,R(5452).registerVersion)("firebase","9.0.0","app");var L=R(7771),re=R(3637),de=R(8307),q=R(9746),J=R(9673);yt=R.hmd(yt);const Q=new b.GfV("7.0.0"),ue=!!yt.hot,X=(Ye,...Ne)=>{(0,b.X6Q)()&&"undefined"!=typeof console&&console[Ye](...Ne)};function fe(Ye,Ne,Dt,Zt,ot){const[,vt,ke]=globalThis.\u0275AngularfireInstanceCache.find(Je=>Je[0]===Ye)||[];if(vt)return function(Ye,Ne){try{return Ye.toString()===Ne.toString()}catch(Dt){return Ye===Ne}}(ot,ke)||(X("error",`${Ne} was already initialized on the ${Dt} Firebase App with different settings.${ue?" You may need to reload as Firebase is not HMR aware.":""}`),X("warn",{is:ot,was:ke})),vt;{const Je=Zt();return globalThis.\u0275AngularfireInstanceCache.push([Ye,Je,ot]),Je}}function me(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class _t{constructor(Ne,Dt=L.N){this.zone=Ne,this.delegate=Dt}now(){return this.delegate.now()}schedule(Ne,Dt,Zt){const ot=this.zone;return this.delegate.schedule(function(ke){ot.runGuarded(()=>{Ne.apply(this,[ke])})},Dt,Zt)}}class sn{constructor(Ne){this.zone=Ne,this.task=null}call(Ne,Dt){const Zt=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",me,{},me,me)),Dt.pipe((0,de.b)({next:Zt,complete:Zt,error:Zt})).subscribe(Ne).add(Zt)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let bt=(()=>{class Ye{constructor(Dt){this.ngZone=Dt,this.outsideAngular=Dt.runOutsideAngular(()=>new _t(Zone.current)),this.insideAngular=Dt.run(()=>new _t(Zone.current,re.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return Ye.\u0275fac=function(Dt){return new(Dt||Ye)(b.LFG(b.R0b))},Ye.\u0275prov=b.Yz7({token:Ye,factory:Ye.\u0275fac,providedIn:"root"}),Ye})();function Ge(){const Ye=globalThis.\u0275AngularFireScheduler;if(!Ye)throw new Error("AngularFireModule has not been provided");return Ye}function Ot(Ye){return Ye.pipe((0,q.QV)(Ge().insideAngular))}function xe(Ye){return Ge(),function(Ye){return function(Dt){return(Dt=Dt.lift(new sn(Ye.ngZone))).pipe((0,J.R)(Ye.outsideAngular),(0,q.QV)(Ye.insideAngular))}}(Ge())(Ye)}},3679:(yt,Me,R)=>{"use strict";R.d(Me,{Wl:()=>Q,Fj:()=>ye,qu:()=>us,u:()=>Or,sg:()=>Yi,u5:()=>bs,JJ:()=>mr,JL:()=>Qt,F:()=>Wn,On:()=>Ln,YN:()=>vi,wV:()=>js,UX:()=>$s,Q7:()=>Hs,EJ:()=>xi,kI:()=>sn,_Y:()=>Ai,Kr:()=>hi});var b=R(7716),O=R(8583),se=R(9412),oe=R(5758),L=R(8002);let re=(()=>{class G{constructor(k,te){this._renderer=k,this._elementRef=te,this.onChange=tt=>{},this.onTouched=()=>{}}setProperty(k,te){this._renderer.setProperty(this._elementRef.nativeElement,k,te)}registerOnTouched(k){this.onTouched=k}registerOnChange(k){this.onChange=k}setDisabledState(k){this.setProperty("disabled",k)}}return G.\u0275fac=function(k){return new(k||G)(b.Y36(b.Qsj),b.Y36(b.SBq))},G.\u0275dir=b.lG2({type:G}),G})(),de=(()=>{class G extends re{}return G.\u0275fac=function(){let j;return function(te){return(j||(j=b.n5z(G)))(te||G)}}(),G.\u0275dir=b.lG2({type:G,features:[b.qOj]}),G})();const q=new b.OlP("NgValueAccessor"),J={provide:q,useExisting:(0,b.Gpc)(()=>Q),multi:!0};let Q=(()=>{class G extends de{writeValue(k){this.setProperty("checked",k)}}return G.\u0275fac=function(){let j;return function(te){return(j||(j=b.n5z(G)))(te||G)}}(),G.\u0275dir=b.lG2({type:G,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(k,te){1&k&&b.NdJ("change",function(Gt){return te.onChange(Gt.target.checked)})("blur",function(){return te.onTouched()})},features:[b._Bn([J]),b.qOj]}),G})();const ue={provide:q,useExisting:(0,b.Gpc)(()=>ye),multi:!0},fe=new b.OlP("CompositionEventMode");let ye=(()=>{class G extends re{constructor(k,te,tt){super(k,te),this._compositionMode=tt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const G=(0,O.q)()?(0,O.q)().getUserAgent():"";return/android (\d+)/.test(G.toLowerCase())}())}writeValue(k){this.setProperty("value",null==k?"":k)}_handleInput(k){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(k)}_compositionStart(){this._composing=!0}_compositionEnd(k){this._composing=!1,this._compositionMode&&this.onChange(k)}}return G.\u0275fac=function(k){return new(k||G)(b.Y36(b.Qsj),b.Y36(b.SBq),b.Y36(fe,8))},G.\u0275dir=b.lG2({type:G,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(k,te){1&k&&b.NdJ("input",function(Gt){return te._handleInput(Gt.target.value)})("blur",function(){return te.onTouched()})("compositionstart",function(){return te._compositionStart()})("compositionend",function(Gt){return te._compositionEnd(Gt.target.value)})},features:[b._Bn([ue]),b.qOj]}),G})();function Pe(G){return null==G||0===G.length}function Ze(G){return null!=G&&"number"==typeof G.length}const Xe=new b.OlP("NgValidators"),me=new b.OlP("NgAsyncValidators"),_t=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class sn{static min(j){return G=j,j=>{if(Pe(j.value)||Pe(G))return null;const k=parseFloat(j.value);return!isNaN(k)&&k<G?{min:{min:G,actual:j.value}}:null};var G}static max(j){return G=j,j=>{if(Pe(j.value)||Pe(G))return null;const k=parseFloat(j.value);return!isNaN(k)&&k>G?{max:{max:G,actual:j.value}}:null};var G}static required(j){return $t(j)}static requiredTrue(j){return!0===j.value?null:{required:!0}}static email(j){return Pe((G=j).value)||_t.test(G.value)?null:{email:!0};var G}static minLength(j){return G=j,j=>Pe(j.value)||!Ze(j.value)?null:j.value.length<G?{minlength:{requiredLength:G,actualLength:j.value.length}}:null;var G}static maxLength(j){return G=j,j=>Ze(j.value)&&j.value.length>G?{maxlength:{requiredLength:G,actualLength:j.value.length}}:null;var G}static pattern(j){return function(G){if(!G)return Re;let j,k;return"string"==typeof G?(k="","^"!==G.charAt(0)&&(k+="^"),k+=G,"$"!==G.charAt(G.length-1)&&(k+="$"),j=new RegExp(k)):(k=G.toString(),j=G),te=>{if(Pe(te.value))return null;const tt=te.value;return j.test(tt)?null:{pattern:{requiredPattern:k,actualValue:tt}}}}(j)}static nullValidator(j){return null}static compose(j){return vt(j)}static composeAsync(j){return Je(j)}}function $t(G){return Pe(G.value)?{required:!0}:null}function Re(G){return null}function Qe(G){return null!=G}function Ye(G){const j=(0,b.QGY)(G)?(0,se.D)(G):G;return(0,b.CqO)(j),j}function Ne(G){let j={};return G.forEach(k=>{j=null!=k?Object.assign(Object.assign({},j),k):j}),0===Object.keys(j).length?null:j}function Dt(G,j){return j.map(k=>k(G))}function ot(G){return G.map(j=>function(G){return!G.validate}(j)?j:k=>j.validate(k))}function vt(G){if(!G)return null;const j=G.filter(Qe);return 0==j.length?null:function(k){return Ne(Dt(k,j))}}function ke(G){return null!=G?vt(ot(G)):null}function Je(G){if(!G)return null;const j=G.filter(Qe);return 0==j.length?null:function(k){const te=Dt(k,j).map(Ye);return(0,oe.D)(te).pipe((0,L.U)(Ne))}}function Yt(G){return null!=G?Je(ot(G)):null}function un(G,j){return null===G?[j]:Array.isArray(G)?[...G,j]:[G,j]}function ln(G){return G._rawValidators}function tn(G){return G._rawAsyncValidators}function cr(G){return G?Array.isArray(G)?G:[G]:[]}function jn(G,j){return Array.isArray(G)?G.includes(j):G===j}function qn(G,j){const k=cr(j);return cr(G).forEach(tt=>{jn(k,tt)||k.push(tt)}),k}function yn(G,j){return cr(j).filter(k=>!jn(G,k))}let qt=(()=>{class G{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(k){this._rawValidators=k||[],this._composedValidatorFn=ke(this._rawValidators)}_setAsyncValidators(k){this._rawAsyncValidators=k||[],this._composedAsyncValidatorFn=Yt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(k){this._onDestroyCallbacks.push(k)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(k=>k()),this._onDestroyCallbacks=[]}reset(k){this.control&&this.control.reset(k)}hasError(k,te){return!!this.control&&this.control.hasError(k,te)}getError(k,te){return this.control?this.control.getError(k,te):null}}return G.\u0275fac=function(k){return new(k||G)},G.\u0275dir=b.lG2({type:G}),G})(),Vn=(()=>{class G extends qt{get formDirective(){return null}get path(){return null}}return G.\u0275fac=function(){let j;return function(te){return(j||(j=b.n5z(G)))(te||G)}}(),G.\u0275dir=b.lG2({type:G,features:[b.qOj]}),G})();class Er extends qt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Sr{constructor(j){this._cd=j}is(j){var k,te,tt;return"submitted"===j?!!(null===(k=this._cd)||void 0===k?void 0:k.submitted):!!(null===(tt=null===(te=this._cd)||void 0===te?void 0:te.control)||void 0===tt?void 0:tt[j])}}let mr=(()=>{class G extends Sr{constructor(k){super(k)}}return G.\u0275fac=function(k){return new(k||G)(b.Y36(Er,2))},G.\u0275dir=b.lG2({type:G,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(k,te){2&k&&b.ekj("ng-untouched",te.is("untouched"))("ng-touched",te.is("touched"))("ng-pristine",te.is("pristine"))("ng-dirty",te.is("dirty"))("ng-valid",te.is("valid"))("ng-invalid",te.is("invalid"))("ng-pending",te.is("pending"))},features:[b.qOj]}),G})(),Qt=(()=>{class G extends Sr{constructor(k){super(k)}}return G.\u0275fac=function(k){return new(k||G)(b.Y36(Vn,10))},G.\u0275dir=b.lG2({type:G,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(k,te){2&k&&b.ekj("ng-untouched",te.is("untouched"))("ng-touched",te.is("touched"))("ng-pristine",te.is("pristine"))("ng-dirty",te.is("dirty"))("ng-valid",te.is("valid"))("ng-invalid",te.is("invalid"))("ng-pending",te.is("pending"))("ng-submitted",te.is("submitted"))},features:[b.qOj]}),G})();function ur(G,j){return[...j.path,G]}function qe(G,j){gt(G,j),j.valueAccessor.writeValue(G.value),function(G,j){j.valueAccessor.registerOnChange(k=>{G._pendingValue=k,G._pendingChange=!0,G._pendingDirty=!0,"change"===G.updateOn&&On(G,j)})}(G,j),function(G,j){const k=(te,tt)=>{j.valueAccessor.writeValue(te),tt&&j.viewToModelUpdate(te)};G.registerOnChange(k),j._registerOnDestroy(()=>{G._unregisterOnChange(k)})}(G,j),function(G,j){j.valueAccessor.registerOnTouched(()=>{G._pendingTouched=!0,"blur"===G.updateOn&&G._pendingChange&&On(G,j),"submit"!==G.updateOn&&G.markAsTouched()})}(G,j),function(G,j){if(j.valueAccessor.setDisabledState){const k=te=>{j.valueAccessor.setDisabledState(te)};G.registerOnDisabledChange(k),j._registerOnDestroy(()=>{G._unregisterOnDisabledChange(k)})}}(G,j)}function we(G,j,k=!0){const te=()=>{};j.valueAccessor&&(j.valueAccessor.registerOnChange(te),j.valueAccessor.registerOnTouched(te)),Lt(G,j),G&&(j._invokeOnDestroyCallbacks(),G._registerOnCollectionChange(()=>{}))}function Ce(G,j){G.forEach(k=>{k.registerOnValidatorChange&&k.registerOnValidatorChange(j)})}function gt(G,j){const k=ln(G);null!==j.validator?G.setValidators(un(k,j.validator)):"function"==typeof k&&G.setValidators([k]);const te=tn(G);null!==j.asyncValidator?G.setAsyncValidators(un(te,j.asyncValidator)):"function"==typeof te&&G.setAsyncValidators([te]);const tt=()=>G.updateValueAndValidity();Ce(j._rawValidators,tt),Ce(j._rawAsyncValidators,tt)}function Lt(G,j){let k=!1;if(null!==G){if(null!==j.validator){const tt=ln(G);if(Array.isArray(tt)&&tt.length>0){const Gt=tt.filter(sr=>sr!==j.validator);Gt.length!==tt.length&&(k=!0,G.setValidators(Gt))}}if(null!==j.asyncValidator){const tt=tn(G);if(Array.isArray(tt)&&tt.length>0){const Gt=tt.filter(sr=>sr!==j.asyncValidator);Gt.length!==tt.length&&(k=!0,G.setAsyncValidators(Gt))}}}const te=()=>{};return Ce(j._rawValidators,te),Ce(j._rawAsyncValidators,te),k}function On(G,j){G._pendingDirty&&G.markAsDirty(),G.setValue(G._pendingValue,{emitModelToViewChange:!1}),j.viewToModelUpdate(G._pendingValue),G._pendingChange=!1}function Ar(G,j){gt(G,j)}function en(G,j){if(!G.hasOwnProperty("model"))return!1;const k=G.model;return!!k.isFirstChange()||!Object.is(j,k.currentValue)}function be(G,j){G._syncPendingControls(),j.forEach(k=>{const te=k.control;"submit"===te.updateOn&&te._pendingChange&&(k.viewToModelUpdate(te._pendingValue),te._pendingChange=!1)})}function Ve(G,j){if(!j)return null;let k,te,tt;return Array.isArray(j),j.forEach(Gt=>{Gt.constructor===ye?k=Gt:function(G){return Object.getPrototypeOf(G.constructor)===de}(Gt)?te=Gt:tt=Gt}),tt||te||k||null}function ze(G,j){const k=G.indexOf(j);k>-1&&G.splice(k,1)}const Mt="VALID",Nt="INVALID",wn="PENDING",Rn="DISABLED";function br(G){return(it(G)?G.validators:G)||null}function Pr(G){return Array.isArray(G)?ke(G):G||null}function rt(G,j){return(it(j)?j.asyncValidators:G)||null}function et(G){return Array.isArray(G)?Yt(G):G||null}function it(G){return null!=G&&!Array.isArray(G)&&"object"==typeof G}class St{constructor(j,k){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=j,this._rawAsyncValidators=k,this._composedValidatorFn=Pr(this._rawValidators),this._composedAsyncValidatorFn=et(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(j){this._rawValidators=this._composedValidatorFn=j}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(j){this._rawAsyncValidators=this._composedAsyncValidatorFn=j}get parent(){return this._parent}get valid(){return this.status===Mt}get invalid(){return this.status===Nt}get pending(){return this.status==wn}get disabled(){return this.status===Rn}get enabled(){return this.status!==Rn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(j){this._rawValidators=j,this._composedValidatorFn=Pr(j)}setAsyncValidators(j){this._rawAsyncValidators=j,this._composedAsyncValidatorFn=et(j)}addValidators(j){this.setValidators(qn(j,this._rawValidators))}addAsyncValidators(j){this.setAsyncValidators(qn(j,this._rawAsyncValidators))}removeValidators(j){this.setValidators(yn(j,this._rawValidators))}removeAsyncValidators(j){this.setAsyncValidators(yn(j,this._rawAsyncValidators))}hasValidator(j){return jn(this._rawValidators,j)}hasAsyncValidator(j){return jn(this._rawAsyncValidators,j)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(j={}){this.touched=!0,this._parent&&!j.onlySelf&&this._parent.markAsTouched(j)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(j=>j.markAllAsTouched())}markAsUntouched(j={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(k=>{k.markAsUntouched({onlySelf:!0})}),this._parent&&!j.onlySelf&&this._parent._updateTouched(j)}markAsDirty(j={}){this.pristine=!1,this._parent&&!j.onlySelf&&this._parent.markAsDirty(j)}markAsPristine(j={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(k=>{k.markAsPristine({onlySelf:!0})}),this._parent&&!j.onlySelf&&this._parent._updatePristine(j)}markAsPending(j={}){this.status=wn,!1!==j.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!j.onlySelf&&this._parent.markAsPending(j)}disable(j={}){const k=this._parentMarkedDirty(j.onlySelf);this.status=Rn,this.errors=null,this._forEachChild(te=>{te.disable(Object.assign(Object.assign({},j),{onlySelf:!0}))}),this._updateValue(),!1!==j.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},j),{skipPristineCheck:k})),this._onDisabledChange.forEach(te=>te(!0))}enable(j={}){const k=this._parentMarkedDirty(j.onlySelf);this.status=Mt,this._forEachChild(te=>{te.enable(Object.assign(Object.assign({},j),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:j.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},j),{skipPristineCheck:k})),this._onDisabledChange.forEach(te=>te(!1))}_updateAncestors(j){this._parent&&!j.onlySelf&&(this._parent.updateValueAndValidity(j),j.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(j){this._parent=j}updateValueAndValidity(j={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Mt||this.status===wn)&&this._runAsyncValidator(j.emitEvent)),!1!==j.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!j.onlySelf&&this._parent.updateValueAndValidity(j)}_updateTreeValidity(j={emitEvent:!0}){this._forEachChild(k=>k._updateTreeValidity(j)),this.updateValueAndValidity({onlySelf:!0,emitEvent:j.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Rn:Mt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(j){if(this.asyncValidator){this.status=wn,this._hasOwnPendingAsyncValidator=!0;const k=Ye(this.asyncValidator(this));this._asyncValidationSubscription=k.subscribe(te=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(te,{emitEvent:j})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(j,k={}){this.errors=j,this._updateControlsErrors(!1!==k.emitEvent)}get(j){return function(G,j,k){if(null==j||(Array.isArray(j)||(j=j.split(".")),Array.isArray(j)&&0===j.length))return null;let te=G;return j.forEach(tt=>{te=te instanceof Kt?te.controls.hasOwnProperty(tt)?te.controls[tt]:null:te instanceof Tn&&te.at(tt)||null}),te}(this,j)}getError(j,k){const te=k?this.get(k):this;return te&&te.errors?te.errors[j]:null}hasError(j,k){return!!this.getError(j,k)}get root(){let j=this;for(;j._parent;)j=j._parent;return j}_updateControlsErrors(j){this.status=this._calculateStatus(),j&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(j)}_initObservables(){this.valueChanges=new b.vpe,this.statusChanges=new b.vpe}_calculateStatus(){return this._allControlsDisabled()?Rn:this.errors?Nt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wn)?wn:this._anyControlsHaveStatus(Nt)?Nt:Mt}_anyControlsHaveStatus(j){return this._anyControls(k=>k.status===j)}_anyControlsDirty(){return this._anyControls(j=>j.dirty)}_anyControlsTouched(){return this._anyControls(j=>j.touched)}_updatePristine(j={}){this.pristine=!this._anyControlsDirty(),this._parent&&!j.onlySelf&&this._parent._updatePristine(j)}_updateTouched(j={}){this.touched=this._anyControlsTouched(),this._parent&&!j.onlySelf&&this._parent._updateTouched(j)}_isBoxedValue(j){return"object"==typeof j&&null!==j&&2===Object.keys(j).length&&"value"in j&&"disabled"in j}_registerOnCollectionChange(j){this._onCollectionChange=j}_setUpdateStrategy(j){it(j)&&null!=j.updateOn&&(this._updateOn=j.updateOn)}_parentMarkedDirty(j){return!j&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Tt extends St{constructor(j=null,k,te){super(br(k),rt(te,k)),this._onChange=[],this._applyFormState(j),this._setUpdateStrategy(k),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(j,k={}){this.value=this._pendingValue=j,this._onChange.length&&!1!==k.emitModelToViewChange&&this._onChange.forEach(te=>te(this.value,!1!==k.emitViewToModelChange)),this.updateValueAndValidity(k)}patchValue(j,k={}){this.setValue(j,k)}reset(j=null,k={}){this._applyFormState(j),this.markAsPristine(k),this.markAsUntouched(k),this.setValue(this.value,k),this._pendingChange=!1}_updateValue(){}_anyControls(j){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(j){this._onChange.push(j)}_unregisterOnChange(j){ze(this._onChange,j)}registerOnDisabledChange(j){this._onDisabledChange.push(j)}_unregisterOnDisabledChange(j){ze(this._onDisabledChange,j)}_forEachChild(j){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(j){this._isBoxedValue(j)?(this.value=this._pendingValue=j.value,j.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=j}}class Kt extends St{constructor(j,k,te){super(br(k),rt(te,k)),this.controls=j,this._initObservables(),this._setUpdateStrategy(k),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(j,k){return this.controls[j]?this.controls[j]:(this.controls[j]=k,k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange),k)}addControl(j,k,te={}){this.registerControl(j,k),this.updateValueAndValidity({emitEvent:te.emitEvent}),this._onCollectionChange()}removeControl(j,k={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),delete this.controls[j],this.updateValueAndValidity({emitEvent:k.emitEvent}),this._onCollectionChange()}setControl(j,k,te={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),delete this.controls[j],k&&this.registerControl(j,k),this.updateValueAndValidity({emitEvent:te.emitEvent}),this._onCollectionChange()}contains(j){return this.controls.hasOwnProperty(j)&&this.controls[j].enabled}setValue(j,k={}){this._checkAllValuesPresent(j),Object.keys(j).forEach(te=>{this._throwIfControlMissing(te),this.controls[te].setValue(j[te],{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k)}patchValue(j,k={}){null!=j&&(Object.keys(j).forEach(te=>{this.controls[te]&&this.controls[te].patchValue(j[te],{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k))}reset(j={},k={}){this._forEachChild((te,tt)=>{te.reset(j[tt],{onlySelf:!0,emitEvent:k.emitEvent})}),this._updatePristine(k),this._updateTouched(k),this.updateValueAndValidity(k)}getRawValue(){return this._reduceChildren({},(j,k,te)=>(j[te]=k instanceof Tt?k.value:k.getRawValue(),j))}_syncPendingControls(){let j=this._reduceChildren(!1,(k,te)=>!!te._syncPendingControls()||k);return j&&this.updateValueAndValidity({onlySelf:!0}),j}_throwIfControlMissing(j){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[j])throw new Error(`Cannot find form control with name: ${j}.`)}_forEachChild(j){Object.keys(this.controls).forEach(k=>{const te=this.controls[k];te&&j(te,k)})}_setUpControls(){this._forEachChild(j=>{j.setParent(this),j._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(j){for(const k of Object.keys(this.controls)){const te=this.controls[k];if(this.contains(k)&&j(te))return!0}return!1}_reduceValue(){return this._reduceChildren({},(j,k,te)=>((k.enabled||this.disabled)&&(j[te]=k.value),j))}_reduceChildren(j,k){let te=j;return this._forEachChild((tt,Gt)=>{te=k(te,tt,Gt)}),te}_allControlsDisabled(){for(const j of Object.keys(this.controls))if(this.controls[j].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(j){this._forEachChild((k,te)=>{if(void 0===j[te])throw new Error(`Must supply a value for form control with name: '${te}'.`)})}}class Tn extends St{constructor(j,k,te){super(br(k),rt(te,k)),this.controls=j,this._initObservables(),this._setUpdateStrategy(k),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(j){return this.controls[j]}push(j,k={}){this.controls.push(j),this._registerControl(j),this.updateValueAndValidity({emitEvent:k.emitEvent}),this._onCollectionChange()}insert(j,k,te={}){this.controls.splice(j,0,k),this._registerControl(k),this.updateValueAndValidity({emitEvent:te.emitEvent})}removeAt(j,k={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),this.controls.splice(j,1),this.updateValueAndValidity({emitEvent:k.emitEvent})}setControl(j,k,te={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),this.controls.splice(j,1),k&&(this.controls.splice(j,0,k),this._registerControl(k)),this.updateValueAndValidity({emitEvent:te.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(j,k={}){this._checkAllValuesPresent(j),j.forEach((te,tt)=>{this._throwIfControlMissing(tt),this.at(tt).setValue(te,{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k)}patchValue(j,k={}){null!=j&&(j.forEach((te,tt)=>{this.at(tt)&&this.at(tt).patchValue(te,{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k))}reset(j=[],k={}){this._forEachChild((te,tt)=>{te.reset(j[tt],{onlySelf:!0,emitEvent:k.emitEvent})}),this._updatePristine(k),this._updateTouched(k),this.updateValueAndValidity(k)}getRawValue(){return this.controls.map(j=>j instanceof Tt?j.value:j.getRawValue())}clear(j={}){this.controls.length<1||(this._forEachChild(k=>k._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:j.emitEvent}))}_syncPendingControls(){let j=this.controls.reduce((k,te)=>!!te._syncPendingControls()||k,!1);return j&&this.updateValueAndValidity({onlySelf:!0}),j}_throwIfControlMissing(j){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(j))throw new Error(`Cannot find form control at index ${j}`)}_forEachChild(j){this.controls.forEach((k,te)=>{j(k,te)})}_updateValue(){this.value=this.controls.filter(j=>j.enabled||this.disabled).map(j=>j.value)}_anyControls(j){return this.controls.some(k=>k.enabled&&j(k))}_setUpControls(){this._forEachChild(j=>this._registerControl(j))}_checkAllValuesPresent(j){this._forEachChild((k,te)=>{if(void 0===j[te])throw new Error(`Must supply a value for form control at index: ${te}.`)})}_allControlsDisabled(){for(const j of this.controls)if(j.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(j){j.setParent(this),j._registerOnCollectionChange(this._onCollectionChange)}}const Xt={provide:Vn,useExisting:(0,b.Gpc)(()=>Wn)},xn=(()=>Promise.resolve(null))();let Wn=(()=>{class G extends Vn{constructor(k,te){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new b.vpe,this.form=new Kt({},ke(k),Yt(te))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(k){xn.then(()=>{const te=this._findContainer(k.path);k.control=te.registerControl(k.name,k.control),qe(k.control,k),k.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(k)})}getControl(k){return this.form.get(k.path)}removeControl(k){xn.then(()=>{const te=this._findContainer(k.path);te&&te.removeControl(k.name),ze(this._directives,k)})}addFormGroup(k){xn.then(()=>{const te=this._findContainer(k.path),tt=new Kt({});Ar(tt,k),te.registerControl(k.name,tt),tt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(k){xn.then(()=>{const te=this._findContainer(k.path);te&&te.removeControl(k.name)})}getFormGroup(k){return this.form.get(k.path)}updateModel(k,te){xn.then(()=>{this.form.get(k.path).setValue(te)})}setValue(k){this.control.setValue(k)}onSubmit(k){return this.submitted=!0,be(this.form,this._directives),this.ngSubmit.emit(k),!1}onReset(){this.resetForm()}resetForm(k){this.form.reset(k),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(k){return k.pop(),k.length?this.form.get(k):this.form}}return G.\u0275fac=function(k){return new(k||G)(b.Y36(Xe,10),b.Y36(me,10))},G.\u0275dir=b.lG2({type:G,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(k,te){1&k&&b.NdJ("submit",function(Gt){return te.onSubmit(Gt)})("reset",function(){return te.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[b._Bn([Xt]),b.qOj]}),G})();const Cn={provide:Er,useExisting:(0,b.Gpc)(()=>Ln)},tr=(()=>Promise.resolve(null))();let Ln=(()=>{class G extends Er{constructor(k,te,tt,Gt){super(),this.control=new Tt,this._registered=!1,this.update=new b.vpe,this._parent=k,this._setValidators(te),this._setAsyncValidators(tt),this.valueAccessor=Ve(0,Gt)}ngOnChanges(k){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in k&&this._updateDisabled(k),en(k,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?ur(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(k){this.viewModel=k,this.update.emit(k)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){qe(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(k){tr.then(()=>{this.control.setValue(k,{emitViewToModelChange:!1})})}_updateDisabled(k){const te=k.isDisabled.currentValue,tt=""===te||te&&"false"!==te;tr.then(()=>{tt&&!this.control.disabled?this.control.disable():!tt&&this.control.disabled&&this.control.enable()})}}return G.\u0275fac=function(k){return new(k||G)(b.Y36(Vn,9),b.Y36(Xe,10),b.Y36(me,10),b.Y36(q,10))},G.\u0275dir=b.lG2({type:G,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[b._Bn([Cn]),b.qOj,b.TTD]}),G})(),Ai=(()=>{class G{}return G.\u0275fac=function(k){return new(k||G)},G.\u0275dir=b.lG2({type:G,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),G})();const Dr={provide:q,useExisting:(0,b.Gpc)(()=>js),multi:!0};let js=(()=>{class G extends de{writeValue(k){this.setProperty("value",null==k?"":k)}registerOnChange(k){this.onChange=te=>{k(""==te?null:parseFloat(te))}}}return G.\u0275fac=function(){let j;return function(te){return(j||(j=b.n5z(G)))(te||G)}}(),G.\u0275dir=b.lG2({type:G,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(k,te){1&k&&b.NdJ("input",function(Gt){return te.onChange(Gt.target.value)})("blur",function(){return te.onTouched()})},features:[b._Bn([Dr]),b.qOj]}),G})(),Zi=(()=>{class G{}return G.\u0275fac=function(k){return new(k||G)},G.\u0275mod=b.oAB({type:G}),G.\u0275inj=b.cJS({}),G})();const ji=new b.OlP("NgModelWithFormControlWarning"),Gn={provide:Vn,useExisting:(0,b.Gpc)(()=>Yi)};let Yi=(()=>{class G extends Vn{constructor(k,te){super(),this.validators=k,this.asyncValidators=te,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new b.vpe,this._setValidators(k),this._setAsyncValidators(te)}ngOnChanges(k){this._checkFormPresent(),k.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Lt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(k){const te=this.form.get(k.path);return qe(te,k),te.updateValueAndValidity({emitEvent:!1}),this.directives.push(k),te}getControl(k){return this.form.get(k.path)}removeControl(k){we(k.control||null,k,!1),ze(this.directives,k)}addFormGroup(k){this._setUpFormContainer(k)}removeFormGroup(k){this._cleanUpFormContainer(k)}getFormGroup(k){return this.form.get(k.path)}addFormArray(k){this._setUpFormContainer(k)}removeFormArray(k){this._cleanUpFormContainer(k)}getFormArray(k){return this.form.get(k.path)}updateModel(k,te){this.form.get(k.path).setValue(te)}onSubmit(k){return this.submitted=!0,be(this.form,this.directives),this.ngSubmit.emit(k),!1}onReset(){this.resetForm()}resetForm(k){this.form.reset(k),this.submitted=!1}_updateDomValue(){this.directives.forEach(k=>{const te=k.control,tt=this.form.get(k.path);te!==tt&&(we(te||null,k),tt instanceof Tt&&(qe(tt,k),k.control=tt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(k){const te=this.form.get(k.path);Ar(te,k),te.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(k){if(this.form){const te=this.form.get(k.path);te&&function(G,j){return Lt(G,j)}(te,k)&&te.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){gt(this.form,this),this._oldForm&&Lt(this._oldForm,this)}_checkFormPresent(){}}return G.\u0275fac=function(k){return new(k||G)(b.Y36(Xe,10),b.Y36(me,10))},G.\u0275dir=b.lG2({type:G,selectors:[["","formGroup",""]],hostBindings:function(k,te){1&k&&b.NdJ("submit",function(Gt){return te.onSubmit(Gt)})("reset",function(){return te.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[b._Bn([Gn]),b.qOj,b.TTD]}),G})();const di={provide:Er,useExisting:(0,b.Gpc)(()=>Or)};let Or=(()=>{class G extends Er{constructor(k,te,tt,Gt,sr){super(),this._ngModelWarningConfig=sr,this._added=!1,this.update=new b.vpe,this._ngModelWarningSent=!1,this._parent=k,this._setValidators(te),this._setAsyncValidators(tt),this.valueAccessor=Ve(0,Gt)}set isDisabled(k){}ngOnChanges(k){this._added||this._setUpControl(),en(k,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(k){this.viewModel=k,this.update.emit(k)}get path(){return ur(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return G.\u0275fac=function(k){return new(k||G)(b.Y36(Vn,13),b.Y36(Xe,10),b.Y36(me,10),b.Y36(q,10),b.Y36(ji,8))},G.\u0275dir=b.lG2({type:G,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[b._Bn([di]),b.qOj,b.TTD]}),G._ngModelWarningSentOnce=!1,G})();const Js={provide:q,useExisting:(0,b.Gpc)(()=>xi),multi:!0};function Pi(G,j){return null==G?`${j}`:(j&&"object"==typeof j&&(j="Object"),`${G}: ${j}`.slice(0,50))}let xi=(()=>{class G extends de{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(k){this._compareWith=k}writeValue(k){this.value=k;const te=this._getOptionId(k);null==te&&this.setProperty("selectedIndex",-1);const tt=Pi(te,k);this.setProperty("value",tt)}registerOnChange(k){this.onChange=te=>{this.value=this._getOptionValue(te),k(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(k){for(const te of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(te),k))return te;return null}_getOptionValue(k){const te=function(G){return G.split(":")[0]}(k);return this._optionMap.has(te)?this._optionMap.get(te):k}}return G.\u0275fac=function(){let j;return function(te){return(j||(j=b.n5z(G)))(te||G)}}(),G.\u0275dir=b.lG2({type:G,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(k,te){1&k&&b.NdJ("change",function(Gt){return te.onChange(Gt.target.value)})("blur",function(){return te.onTouched()})},inputs:{compareWith:"compareWith"},features:[b._Bn([Js]),b.qOj]}),G})(),vi=(()=>{class G{constructor(k,te,tt){this._element=k,this._renderer=te,this._select=tt,this._select&&(this.id=this._select._registerOption())}set ngValue(k){null!=this._select&&(this._select._optionMap.set(this.id,k),this._setElementValue(Pi(this.id,k)),this._select.writeValue(this._select.value))}set value(k){this._setElementValue(k),this._select&&this._select.writeValue(this._select.value)}_setElementValue(k){this._renderer.setProperty(this._element.nativeElement,"value",k)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return G.\u0275fac=function(k){return new(k||G)(b.Y36(b.SBq),b.Y36(b.Qsj),b.Y36(xi,9))},G.\u0275dir=b.lG2({type:G,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),G})();const Li={provide:q,useExisting:(0,b.Gpc)(()=>vs),multi:!0};function Vr(G,j){return null==G?`${j}`:("string"==typeof j&&(j=`'${j}'`),j&&"object"==typeof j&&(j="Object"),`${G}: ${j}`.slice(0,50))}let vs=(()=>{class G extends de{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(k){this._compareWith=k}writeValue(k){let te;if(this.value=k,Array.isArray(k)){const tt=k.map(Gt=>this._getOptionId(Gt));te=(Gt,sr)=>{Gt._setSelected(tt.indexOf(sr.toString())>-1)}}else te=(tt,Gt)=>{tt._setSelected(!1)};this._optionMap.forEach(te)}registerOnChange(k){this.onChange=te=>{const tt=[];if(void 0!==te.selectedOptions){const Gt=te.selectedOptions;for(let sr=0;sr<Gt.length;sr++){const Zr=Gt.item(sr),ii=this._getOptionValue(Zr.value);tt.push(ii)}}else{const Gt=te.options;for(let sr=0;sr<Gt.length;sr++){const Zr=Gt.item(sr);if(Zr.selected){const ii=this._getOptionValue(Zr.value);tt.push(ii)}}}this.value=tt,k(tt)}}_registerOption(k){const te=(this._idCounter++).toString();return this._optionMap.set(te,k),te}_getOptionId(k){for(const te of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(te)._value,k))return te;return null}_getOptionValue(k){const te=function(G){return G.split(":")[0]}(k);return this._optionMap.has(te)?this._optionMap.get(te)._value:k}}return G.\u0275fac=function(){let j;return function(te){return(j||(j=b.n5z(G)))(te||G)}}(),G.\u0275dir=b.lG2({type:G,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(k,te){1&k&&b.NdJ("change",function(Gt){return te.onChange(Gt.target)})("blur",function(){return te.onTouched()})},inputs:{compareWith:"compareWith"},features:[b._Bn([Li]),b.qOj]}),G})(),hi=(()=>{class G{constructor(k,te,tt){this._element=k,this._renderer=te,this._select=tt,this._select&&(this.id=this._select._registerOption(this))}set ngValue(k){null!=this._select&&(this._value=k,this._setElementValue(Vr(this.id,k)),this._select.writeValue(this._select.value))}set value(k){this._select?(this._value=k,this._setElementValue(Vr(this.id,k)),this._select.writeValue(this._select.value)):this._setElementValue(k)}_setElementValue(k){this._renderer.setProperty(this._element.nativeElement,"value",k)}_setSelected(k){this._renderer.setProperty(this._element.nativeElement,"selected",k)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return G.\u0275fac=function(k){return new(k||G)(b.Y36(b.SBq),b.Y36(b.Qsj),b.Y36(vs,9))},G.\u0275dir=b.lG2({type:G,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),G})();const Es={provide:Xe,useExisting:(0,b.Gpc)(()=>Hs),multi:!0};let Hs=(()=>{class G{constructor(){this._required=!1}get required(){return this._required}set required(k){this._required=null!=k&&!1!==k&&"false"!=`${k}`,this._onChange&&this._onChange()}validate(k){return this.required?$t(k):null}registerOnValidatorChange(k){this._onChange=k}}return G.\u0275fac=function(k){return new(k||G)},G.\u0275dir=b.lG2({type:G,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(k,te){2&k&&b.uIk("required",te.required?"":null)},inputs:{required:"required"},features:[b._Bn([Es])]}),G})(),Xr=(()=>{class G{}return G.\u0275fac=function(k){return new(k||G)},G.\u0275mod=b.oAB({type:G}),G.\u0275inj=b.cJS({imports:[[Zi]]}),G})(),bs=(()=>{class G{}return G.\u0275fac=function(k){return new(k||G)},G.\u0275mod=b.oAB({type:G}),G.\u0275inj=b.cJS({imports:[Xr]}),G})(),$s=(()=>{class G{static withConfig(k){return{ngModule:G,providers:[{provide:ji,useValue:k.warnOnNgModelWithFormControl}]}}}return G.\u0275fac=function(k){return new(k||G)},G.\u0275mod=b.oAB({type:G}),G.\u0275inj=b.cJS({imports:[Xr]}),G})(),us=(()=>{class G{group(k,te=null){const tt=this._reduceControls(k);let Zr,Gt=null,sr=null;return null!=te&&(function(G){return void 0!==G.asyncValidators||void 0!==G.validators||void 0!==G.updateOn}(te)?(Gt=null!=te.validators?te.validators:null,sr=null!=te.asyncValidators?te.asyncValidators:null,Zr=null!=te.updateOn?te.updateOn:void 0):(Gt=null!=te.validator?te.validator:null,sr=null!=te.asyncValidator?te.asyncValidator:null)),new Kt(tt,{asyncValidators:sr,updateOn:Zr,validators:Gt})}control(k,te,tt){return new Tt(k,te,tt)}array(k,te,tt){const Gt=k.map(sr=>this._createControl(sr));return new Tn(Gt,te,tt)}_reduceControls(k){const te={};return Object.keys(k).forEach(tt=>{te[tt]=this._createControl(k[tt])}),te}_createControl(k){return k instanceof Tt||k instanceof Kt||k instanceof Tn?k:Array.isArray(k)?this.control(k[0],k.length>1?k[1]:null,k.length>2?k[2]:null):this.control(k)}}return G.\u0275fac=function(k){return new(k||G)},G.\u0275prov=(0,b.Yz7)({factory:function(){return new G},token:G,providedIn:$s}),G})()},9895:(yt,Me,R)=>{"use strict";R.d(Me,{F0:()=>gi,yS:()=>Aa,Bz:()=>Is,lC:()=>da});var b=R(8583),O=R(7716),se=R(9412),oe=R(5917),L=R(6215),re=R(9112),de=R(9897),q=R(3410),J=R(9923),Q=R(1439),ue=R(9193),X=R(2441),fe=R(9765),ye=R(8002),Pe=R(3190),Ze=R(5257),Xe=R(9761),me=R(2145),_t=R(5435),sn=R(5304),bt=R(4612),Ge=R(2627),$t=R(8049),We=R(9773),Rt=R(8307),Ot=R(548),xe=R(1307),$e=R(8939),Re=R(3282);class Qe{constructor(M,D){this.id=M,this.url=D}}class Ye extends Qe{constructor(M,D,H="imperative",Z=null){super(M,D),this.navigationTrigger=H,this.restoredState=Z}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ne extends Qe{constructor(M,D,H){super(M,D),this.urlAfterRedirects=H}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Dt extends Qe{constructor(M,D,H){super(M,D),this.reason=H}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Zt extends Qe{constructor(M,D,H){super(M,D),this.error=H}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ot extends Qe{constructor(M,D,H,Z){super(M,D),this.urlAfterRedirects=H,this.state=Z}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vt extends Qe{constructor(M,D,H,Z){super(M,D),this.urlAfterRedirects=H,this.state=Z}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ke extends Qe{constructor(M,D,H,Z,ie){super(M,D),this.urlAfterRedirects=H,this.state=Z,this.shouldActivate=ie}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Je extends Qe{constructor(M,D,H,Z){super(M,D),this.urlAfterRedirects=H,this.state=Z}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yt extends Qe{constructor(M,D,H,Z){super(M,D),this.urlAfterRedirects=H,this.state=Z}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class un{constructor(M){this.route=M}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ln{constructor(M){this.route=M}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class tn{constructor(M){this.snapshot=M}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cr{constructor(M){this.snapshot=M}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jn{constructor(M){this.snapshot=M}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qn{constructor(M){this.snapshot=M}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yn{constructor(M,D,H){this.routerEvent=M,this.position=D,this.anchor=H}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const qt="primary";class Vn{constructor(M){this.params=M||{}}has(M){return Object.prototype.hasOwnProperty.call(this.params,M)}get(M){if(this.has(M)){const D=this.params[M];return Array.isArray(D)?D[0]:D}return null}getAll(M){if(this.has(M)){const D=this.params[M];return Array.isArray(D)?D:[D]}return[]}get keys(){return Object.keys(this.params)}}function Er(P){return new Vn(P)}const Sr="ngNavigationCancelingError";function dr(P){const M=Error("NavigationCancelingError: "+P);return M[Sr]=!0,M}function mr(P,M,D){const H=D.path.split("/");if(H.length>P.length||"full"===D.pathMatch&&(M.hasChildren()||H.length<P.length))return null;const Z={};for(let ie=0;ie<H.length;ie++){const Se=H[ie],Ae=P[ie];if(Se.startsWith(":"))Z[Se.substring(1)]=Ae;else if(Se!==Ae.path)return null}return{consumed:P.slice(0,H.length),posParams:Z}}function bn(P,M){const D=P?Object.keys(P):void 0,H=M?Object.keys(M):void 0;if(!D||!H||D.length!=H.length)return!1;let Z;for(let ie=0;ie<D.length;ie++)if(Z=D[ie],!Qr(P[Z],M[Z]))return!1;return!0}function Qr(P,M){if(Array.isArray(P)&&Array.isArray(M)){if(P.length!==M.length)return!1;const D=[...P].sort(),H=[...M].sort();return D.every((Z,ie)=>H[ie]===Z)}return P===M}function ur(P){return Array.prototype.concat.apply([],P)}function qe(P){return P.length>0?P[P.length-1]:null}function Ce(P,M){for(const D in P)P.hasOwnProperty(D)&&M(P[D],D)}function nt(P){return(0,O.CqO)(P)?P:(0,O.QGY)(P)?(0,se.D)(Promise.resolve(P)):(0,oe.of)(P)}const Lt={exact:function Cr(P,M,D){if(!ze(P.segments,M.segments)||!Nn(P.segments,M.segments,D)||P.numberOfChildren!==M.numberOfChildren)return!1;for(const H in M.children)if(!P.children[H]||!Cr(P.children[H],M.children[H],D))return!1;return!0},subset:An},mt={exact:function(P,M){return bn(P,M)},subset:function(P,M){return Object.keys(M).length<=Object.keys(P).length&&Object.keys(M).every(D=>Qr(P[D],M[D]))},ignored:()=>!0};function Ft(P,M,D){return Lt[D.paths](P.root,M.root,D.matrixParams)&&mt[D.queryParams](P.queryParams,M.queryParams)&&!("exact"===D.fragment&&P.fragment!==M.fragment)}function An(P,M,D){return Ir(P,M,M.segments,D)}function Ir(P,M,D,H){if(P.segments.length>D.length){const Z=P.segments.slice(0,D.length);return!(!ze(Z,D)||M.hasChildren()||!Nn(Z,D,H))}if(P.segments.length===D.length){if(!ze(P.segments,D)||!Nn(P.segments,D,H))return!1;for(const Z in M.children)if(!P.children[Z]||!An(P.children[Z],M.children[Z],H))return!1;return!0}{const Z=D.slice(0,P.segments.length),ie=D.slice(P.segments.length);return!!(ze(P.segments,Z)&&Nn(P.segments,Z,H)&&P.children[qt])&&Ir(P.children[qt],M,ie,H)}}function Nn(P,M,D){return M.every((H,Z)=>mt[D](P[Z].parameters,H.parameters))}class en{constructor(M,D,H){this.root=M,this.queryParams=D,this.fragment=H}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Er(this.queryParams)),this._queryParamMap}toString(){return wn.serialize(this)}}class ve{constructor(M,D){this.segments=M,this.children=D,this.parent=null,Ce(D,(H,Z)=>H.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Rn(this)}}class be{constructor(M,D){this.path=M,this.parameters=D}get parameterMap(){return this._parameterMap||(this._parameterMap=Er(this.parameters)),this._parameterMap}toString(){return Tt(this)}}function ze(P,M){return P.length===M.length&&P.every((D,H)=>D.path===M[H].path)}class Mt{}class Nt{parse(M){const D=new Ht(M);return new en(D.parseRootSegment(),D.parseQueryParams(),D.parseFragment())}serialize(M){var P;return`${`/${_n(M.root,!0)}`}${function(P){const M=Object.keys(P).map(D=>{const H=P[D];return Array.isArray(H)?H.map(Z=>`${Pr(D)}=${Pr(Z)}`).join("&"):`${Pr(D)}=${Pr(H)}`}).filter(D=>!!D);return M.length?`?${M.join("&")}`:""}(M.queryParams)}${"string"==typeof M.fragment?`#${P=M.fragment,encodeURI(P)}`:""}`}}const wn=new Nt;function Rn(P){return P.segments.map(M=>Tt(M)).join("/")}function _n(P,M){if(!P.hasChildren())return Rn(P);if(M){const D=P.children[qt]?_n(P.children[qt],!1):"",H=[];return Ce(P.children,(Z,ie)=>{ie!==qt&&H.push(`${ie}:${_n(Z,!1)}`)}),H.length>0?`${D}(${H.join("//")})`:D}{const D=function(P,M){let D=[];return Ce(P.children,(H,Z)=>{Z===qt&&(D=D.concat(M(H,Z)))}),Ce(P.children,(H,Z)=>{Z!==qt&&(D=D.concat(M(H,Z)))}),D}(P,(H,Z)=>Z===qt?[_n(P.children[qt],!1)]:[`${Z}:${_n(H,!1)}`]);return 1===Object.keys(P.children).length&&null!=P.children[qt]?`${Rn(P)}/${D[0]}`:`${Rn(P)}/(${D.join("//")})`}}function br(P){return encodeURIComponent(P).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pr(P){return br(P).replace(/%3B/gi,";")}function et(P){return br(P).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function it(P){return decodeURIComponent(P)}function St(P){return it(P.replace(/\+/g,"%20"))}function Tt(P){return`${et(P.path)}${function(P){return Object.keys(P).map(M=>`;${et(M)}=${et(P[M])}`).join("")}(P.parameters)}`}const Xt=/^[^\/()?;=#]+/;function kn(P){const M=P.match(Xt);return M?M[0]:""}const xn=/^[^=?&#]+/,Si=/^[^?&#]+/;class Ht{constructor(M){this.url=M,this.remaining=M}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ve([],{}):new ve([],this.parseChildren())}parseQueryParams(){const M={};if(this.consumeOptional("?"))do{this.parseQueryParam(M)}while(this.consumeOptional("&"));return M}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const M=[];for(this.peekStartsWith("(")||M.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),M.push(this.parseSegment());let D={};this.peekStartsWith("/(")&&(this.capture("/"),D=this.parseParens(!0));let H={};return this.peekStartsWith("(")&&(H=this.parseParens(!1)),(M.length>0||Object.keys(D).length>0)&&(H[qt]=new ve(M,D)),H}parseSegment(){const M=kn(this.remaining);if(""===M&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(M),new be(it(M),this.parseMatrixParams())}parseMatrixParams(){const M={};for(;this.consumeOptional(";");)this.parseParam(M);return M}parseParam(M){const D=kn(this.remaining);if(!D)return;this.capture(D);let H="";if(this.consumeOptional("=")){const Z=kn(this.remaining);Z&&(H=Z,this.capture(H))}M[it(D)]=it(H)}parseQueryParam(M){const D=function(P){const M=P.match(xn);return M?M[0]:""}(this.remaining);if(!D)return;this.capture(D);let H="";if(this.consumeOptional("=")){const Se=function(P){const M=P.match(Si);return M?M[0]:""}(this.remaining);Se&&(H=Se,this.capture(H))}const Z=St(D),ie=St(H);if(M.hasOwnProperty(Z)){let Se=M[Z];Array.isArray(Se)||(Se=[Se],M[Z]=Se),Se.push(ie)}else M[Z]=ie}parseParens(M){const D={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const H=kn(this.remaining),Z=this.remaining[H.length];if("/"!==Z&&")"!==Z&&";"!==Z)throw new Error(`Cannot parse url '${this.url}'`);let ie;H.indexOf(":")>-1?(ie=H.substr(0,H.indexOf(":")),this.capture(ie),this.capture(":")):M&&(ie=qt);const Se=this.parseChildren();D[ie]=1===Object.keys(Se).length?Se[qt]:new ve([],Se),this.consumeOptional("//")}return D}peekStartsWith(M){return this.remaining.startsWith(M)}consumeOptional(M){return!!this.peekStartsWith(M)&&(this.remaining=this.remaining.substring(M.length),!0)}capture(M){if(!this.consumeOptional(M))throw new Error(`Expected "${M}".`)}}class Pn{constructor(M){this._root=M}get root(){return this._root.value}parent(M){const D=this.pathFromRoot(M);return D.length>1?D[D.length-2]:null}children(M){const D=Cn(M,this._root);return D?D.children.map(H=>H.value):[]}firstChild(M){const D=Cn(M,this._root);return D&&D.children.length>0?D.children[0].value:null}siblings(M){const D=Jr(M,this._root);return D.length<2?[]:D[D.length-2].children.map(Z=>Z.value).filter(Z=>Z!==M)}pathFromRoot(M){return Jr(M,this._root).map(D=>D.value)}}function Cn(P,M){if(P===M.value)return M;for(const D of M.children){const H=Cn(P,D);if(H)return H}return null}function Jr(P,M){if(P===M.value)return[M];for(const D of M.children){const H=Jr(P,D);if(H.length)return H.unshift(M),H}return[]}class tr{constructor(M,D){this.value=M,this.children=D}toString(){return`TreeNode(${this.value})`}}function Ln(P){const M={};return P&&P.children.forEach(D=>M[D.value.outlet]=D),M}class Ai extends Pn{constructor(M,D){super(M),this.snapshot=D,qi(this,M)}toString(){return this.snapshot.toString()}}function Dr(P,M){const D=function(P,M){const Se=new li([],{},{},"",{},qt,M,null,P.root,-1,{});return new ss("",new tr(Se,[]))}(P,M),H=new L.X([new be("",{})]),Z=new L.X({}),ie=new L.X({}),Se=new L.X({}),Ae=new L.X(""),ct=new ri(H,Z,Se,Ae,ie,qt,M,D.root);return ct.snapshot=D.root,new Ai(new tr(ct,[]),D)}class ri{constructor(M,D,H,Z,ie,Se,Ae,ct){this.url=M,this.params=D,this.queryParams=H,this.fragment=Z,this.data=ie,this.outlet=Se,this.component=Ae,this._futureSnapshot=ct}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ye.U)(M=>Er(M)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ye.U)(M=>Er(M)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Sn(P,M="emptyOnly"){const D=P.pathFromRoot;let H=0;if("always"!==M)for(H=D.length-1;H>=1;){const Z=D[H],ie=D[H-1];if(Z.routeConfig&&""===Z.routeConfig.path)H--;else{if(ie.component)break;H--}}return function(P){return P.reduce((M,D)=>({params:Object.assign(Object.assign({},M.params),D.params),data:Object.assign(Object.assign({},M.data),D.data),resolve:Object.assign(Object.assign({},M.resolve),D._resolvedData)}),{params:{},data:{},resolve:{}})}(D.slice(H))}class li{constructor(M,D,H,Z,ie,Se,Ae,ct,Wt,hn,zn){this.url=M,this.params=D,this.queryParams=H,this.fragment=Z,this.data=ie,this.outlet=Se,this.component=Ae,this.routeConfig=ct,this._urlSegment=Wt,this._lastPathIndex=hn,this._resolve=zn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Er(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Er(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(H=>H.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ss extends Pn{constructor(M,D){super(D),this.url=M,qi(this,D)}toString(){return zr(this._root)}}function qi(P,M){M.value._routerState=P,M.children.forEach(D=>qi(P,D))}function zr(P){const M=P.children.length>0?` { ${P.children.map(zr).join(", ")} } `:"";return`${P.value}${M}`}function ji(P){if(P.snapshot){const M=P.snapshot,D=P._futureSnapshot;P.snapshot=D,bn(M.queryParams,D.queryParams)||P.queryParams.next(D.queryParams),M.fragment!==D.fragment&&P.fragment.next(D.fragment),bn(M.params,D.params)||P.params.next(D.params),function(P,M){if(P.length!==M.length)return!1;for(let D=0;D<P.length;++D)if(!bn(P[D],M[D]))return!1;return!0}(M.url,D.url)||P.url.next(D.url),bn(M.data,D.data)||P.data.next(D.data)}else P.snapshot=P._futureSnapshot,P.data.next(P._futureSnapshot.data)}function Hi(P,M){return bn(P.params,M.params)&&function(P,M){return ze(P,M)&&P.every((D,H)=>bn(D.parameters,M[H].parameters))}(P.url,M.url)&&!(!P.parent!=!M.parent)&&(!P.parent||Hi(P.parent,M.parent))}function Gn(P,M,D){if(D&&P.shouldReuseRoute(M.value,D.value.snapshot)){const H=D.value;H._futureSnapshot=M.value;const Z=function(P,M,D){return M.children.map(H=>{for(const Z of D.children)if(P.shouldReuseRoute(H.value,Z.value.snapshot))return Gn(P,H,Z);return Gn(P,H)})}(P,M,D);return new tr(H,Z)}{if(P.shouldAttach(M.value)){const ie=P.retrieve(M.value);if(null!==ie){const Se=ie.route;return Yi(M,Se),Se}}const H=function(P){return new ri(new L.X(P.url),new L.X(P.params),new L.X(P.queryParams),new L.X(P.fragment),new L.X(P.data),P.outlet,P.component,P)}(M.value),Z=M.children.map(ie=>Gn(P,ie));return new tr(H,Z)}}function Yi(P,M){if(P.value.routeConfig!==M.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(P.children.length!==M.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");M.value._futureSnapshot=P.value;for(let D=0;D<P.children.length;++D)Yi(P.children[D],M.children[D])}function ci(P){return"object"==typeof P&&null!=P&&!P.outlets&&!P.segmentPath}function yi(P){return"object"==typeof P&&null!=P&&P.outlets}function di(P,M,D,H,Z){let ie={};return H&&Ce(H,(Se,Ae)=>{ie[Ae]=Array.isArray(Se)?Se.map(ct=>`${ct}`):`${Se}`}),new en(D.root===P?M:Or(D.root,P,M),ie,Z)}function Or(P,M,D){const H={};return Ce(P.children,(Z,ie)=>{H[ie]=Z===M?D:Or(Z,M,D)}),new ve(P.segments,H)}class Js{constructor(M,D,H){if(this.isAbsolute=M,this.numberOfDoubleDots=D,this.commands=H,M&&H.length>0&&ci(H[0]))throw new Error("Root segment cannot have matrix parameters");const Z=H.find(yi);if(Z&&Z!==qe(H))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _i{constructor(M,D,H){this.segmentGroup=M,this.processChildren=D,this.index=H}}function Vr(P,M,D){if(P||(P=new ve([],{})),0===P.segments.length&&P.hasChildren())return Fn(P,M,D);const H=function(P,M,D){let H=0,Z=M;const ie={match:!1,pathIndex:0,commandIndex:0};for(;Z<P.segments.length;){if(H>=D.length)return ie;const Se=P.segments[Z],Ae=D[H];if(yi(Ae))break;const ct=`${Ae}`,Wt=H<D.length-1?D[H+1]:null;if(Z>0&&void 0===ct)break;if(ct&&Wt&&"object"==typeof Wt&&void 0===Wt.outlets){if(!Ur(ct,Wt,Se))return ie;H+=2}else{if(!Ur(ct,{},Se))return ie;H++}Z++}return{match:!0,pathIndex:Z,commandIndex:H}}(P,M,D),Z=D.slice(H.commandIndex);if(H.match&&H.pathIndex<P.segments.length){const ie=new ve(P.segments.slice(0,H.pathIndex),{});return ie.children[qt]=new ve(P.segments.slice(H.pathIndex),P.children),Fn(ie,0,Z)}return H.match&&0===Z.length?new ve(P.segments,{}):H.match&&!P.hasChildren()?vs(P,M,D):H.match?Fn(P,0,Z):vs(P,M,D)}function Fn(P,M,D){if(0===D.length)return new ve(P.segments,{});{const H=function(P){return yi(P[0])?P[0].outlets:{[qt]:P}}(D),Z={};return Ce(H,(ie,Se)=>{"string"==typeof ie&&(ie=[ie]),null!==ie&&(Z[Se]=Vr(P.children[Se],M,ie))}),Ce(P.children,(ie,Se)=>{void 0===H[Se]&&(Z[Se]=ie)}),new ve(P.segments,Z)}}function vs(P,M,D){const H=P.segments.slice(0,M);let Z=0;for(;Z<D.length;){const ie=D[Z];if(yi(ie)){const ct=hi(ie.outlets);return new ve(H,ct)}if(0===Z&&ci(D[0])){H.push(new be(P.segments[M].path,ho(D[0]))),Z++;continue}const Se=yi(ie)?ie.outlets[qt]:`${ie}`,Ae=Z<D.length-1?D[Z+1]:null;Se&&Ae&&ci(Ae)?(H.push(new be(Se,ho(Ae))),Z+=2):(H.push(new be(Se,{})),Z++)}return new ve(H,{})}function hi(P){const M={};return Ce(P,(D,H)=>{"string"==typeof D&&(D=[D]),null!==D&&(M[H]=vs(new ve([],{}),0,D))}),M}function ho(P){const M={};return Ce(P,(D,H)=>M[H]=`${D}`),M}function Ur(P,M,D){return P==D.path&&bn(M,D.parameters)}class os{constructor(M,D,H,Z){this.routeReuseStrategy=M,this.futureState=D,this.currState=H,this.forwardEvent=Z}activate(M){const D=this.futureState._root,H=this.currState?this.currState._root:null;this.deactivateChildRoutes(D,H,M),ji(this.futureState.root),this.activateChildRoutes(D,H,M)}deactivateChildRoutes(M,D,H){const Z=Ln(D);M.children.forEach(ie=>{const Se=ie.value.outlet;this.deactivateRoutes(ie,Z[Se],H),delete Z[Se]}),Ce(Z,(ie,Se)=>{this.deactivateRouteAndItsChildren(ie,H)})}deactivateRoutes(M,D,H){const Z=M.value,ie=D?D.value:null;if(Z===ie)if(Z.component){const Se=H.getContext(Z.outlet);Se&&this.deactivateChildRoutes(M,D,Se.children)}else this.deactivateChildRoutes(M,D,H);else ie&&this.deactivateRouteAndItsChildren(D,H)}deactivateRouteAndItsChildren(M,D){this.routeReuseStrategy.shouldDetach(M.value.snapshot)?this.detachAndStoreRouteSubtree(M,D):this.deactivateRouteAndOutlet(M,D)}detachAndStoreRouteSubtree(M,D){const H=D.getContext(M.value.outlet);if(H&&H.outlet){const Z=H.outlet.detach(),ie=H.children.onOutletDeactivated();this.routeReuseStrategy.store(M.value.snapshot,{componentRef:Z,route:M,contexts:ie})}}deactivateRouteAndOutlet(M,D){const H=D.getContext(M.value.outlet),Z=H&&M.value.component?H.children:D,ie=Ln(M);for(const Se of Object.keys(ie))this.deactivateRouteAndItsChildren(ie[Se],Z);H&&H.outlet&&(H.outlet.deactivate(),H.children.onOutletDeactivated(),H.attachRef=null,H.resolver=null,H.route=null)}activateChildRoutes(M,D,H){const Z=Ln(D);M.children.forEach(ie=>{this.activateRoutes(ie,Z[ie.value.outlet],H),this.forwardEvent(new qn(ie.value.snapshot))}),M.children.length&&this.forwardEvent(new cr(M.value.snapshot))}activateRoutes(M,D,H){const Z=M.value,ie=D?D.value:null;if(ji(Z),Z===ie)if(Z.component){const Se=H.getOrCreateContext(Z.outlet);this.activateChildRoutes(M,D,Se.children)}else this.activateChildRoutes(M,D,H);else if(Z.component){const Se=H.getOrCreateContext(Z.outlet);if(this.routeReuseStrategy.shouldAttach(Z.snapshot)){const Ae=this.routeReuseStrategy.retrieve(Z.snapshot);this.routeReuseStrategy.store(Z.snapshot,null),Se.children.onOutletReAttached(Ae.contexts),Se.attachRef=Ae.componentRef,Se.route=Ae.route.value,Se.outlet&&Se.outlet.attach(Ae.componentRef,Ae.route.value),yr(Ae.route)}else{const Ae=function(P){for(let M=P.parent;M;M=M.parent){const D=M.routeConfig;if(D&&D._loadedConfig)return D._loadedConfig;if(D&&D.component)return null}return null}(Z.snapshot),ct=Ae?Ae.module.componentFactoryResolver:null;Se.attachRef=null,Se.route=Z,Se.resolver=ct,Se.outlet&&Se.outlet.activateWith(Z,ct),this.activateChildRoutes(M,null,Se.children)}}else this.activateChildRoutes(M,null,H)}}function yr(P){ji(P.value),P.children.forEach(yr)}class Es{constructor(M,D){this.routes=M,this.module=D}}function Oi(P){return"function"==typeof P}function Qi(P){return P instanceof en}const Lr=Symbol("INITIAL_VALUE");function fi(){return(0,Pe.w)(P=>(0,re.aj)(P.map(M=>M.pipe((0,Ze.q)(1),(0,Xe.O)(Lr)))).pipe((0,me.R)((M,D)=>{let H=!1;return D.reduce((Z,ie,Se)=>Z!==Lr?Z:(ie===Lr&&(H=!0),H||!1!==ie&&Se!==D.length-1&&!Qi(ie)?Z:ie),M)},Lr),(0,_t.h)(M=>M!==Lr),(0,ye.U)(M=>Qi(M)?M:!0===M),(0,Ze.q)(1)))}let eo=(()=>{class P{}return P.\u0275fac=function(D){return new(D||P)},P.\u0275cmp=O.Xpm({type:P,selectors:[["ng-component"]],decls:1,vars:0,template:function(D,H){1&D&&O._UZ(0,"router-outlet")},directives:function(){return[da]},encapsulation:2}),P})();function Rs(P,M=""){for(let D=0;D<P.length;D++){const H=P[D];Ns(H,Ji(M,H))}}function Ns(P,M){P.children&&Rs(P.children,M)}function Ji(P,M){return M?P||M.path?P&&!M.path?`${P}/`:!P&&M.path?M.path:`${P}/${M.path}`:"":P}function Xi(P){const M=P.children&&P.children.map(Xi),D=M?Object.assign(Object.assign({},P),{children:M}):Object.assign({},P);return!D.component&&(M||D.loadChildren)&&D.outlet&&D.outlet!==qt&&(D.component=eo),D}function Xr(P){return P.outlet||qt}function bs(P,M){const D=P.filter(H=>Xr(H)===M);return D.push(...P.filter(H=>Xr(H)!==M)),D}const $s={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function as(P,M,D){var H;if(""===M.path)return"full"===M.pathMatch&&(P.hasChildren()||D.length>0)?Object.assign({},$s):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const ie=(M.matcher||mr)(D,P,M);if(!ie)return Object.assign({},$s);const Se={};Ce(ie.posParams,(ct,Wt)=>{Se[Wt]=ct.path});const Ae=ie.consumed.length>0?Object.assign(Object.assign({},Se),ie.consumed[ie.consumed.length-1].parameters):Se;return{matched:!0,consumedSegments:ie.consumed,lastChild:ie.consumed.length,parameters:Ae,positionalParamSegments:null!==(H=ie.posParams)&&void 0!==H?H:{}}}function us(P,M,D,H,Z="corrected"){if(D.length>0&&function(P,M,D){return D.some(H=>te(P,M,H)&&Xr(H)!==qt)}(P,D,H)){const Se=new ve(M,function(P,M,D,H){const Z={};Z[qt]=H,H._sourceSegment=P,H._segmentIndexShift=M.length;for(const ie of D)if(""===ie.path&&Xr(ie)!==qt){const Se=new ve([],{});Se._sourceSegment=P,Se._segmentIndexShift=M.length,Z[Xr(ie)]=Se}return Z}(P,M,H,new ve(D,P.children)));return Se._sourceSegment=P,Se._segmentIndexShift=M.length,{segmentGroup:Se,slicedSegments:[]}}if(0===D.length&&function(P,M,D){return D.some(H=>te(P,M,H))}(P,D,H)){const Se=new ve(P.segments,function(P,M,D,H,Z,ie){const Se={};for(const Ae of H)if(te(P,D,Ae)&&!Z[Xr(Ae)]){const ct=new ve([],{});ct._sourceSegment=P,ct._segmentIndexShift="legacy"===ie?P.segments.length:M.length,Se[Xr(Ae)]=ct}return Object.assign(Object.assign({},Z),Se)}(P,M,D,H,P.children,Z));return Se._sourceSegment=P,Se._segmentIndexShift=M.length,{segmentGroup:Se,slicedSegments:D}}const ie=new ve(P.segments,P.children);return ie._sourceSegment=P,ie._segmentIndexShift=M.length,{segmentGroup:ie,slicedSegments:D}}function te(P,M,D){return(!(P.hasChildren()||M.length>0)||"full"!==D.pathMatch)&&""===D.path}function tt(P,M,D,H){return!!(Xr(P)===H||H!==qt&&te(M,D,P))&&("**"===P.path||as(M,P,D).matched)}function Gt(P,M,D){return 0===M.length&&!P.children[D]}class sr{constructor(M){this.segmentGroup=M||null}}class Zr{constructor(M){this.urlTree=M}}function ii(P){return new de.y(M=>M.error(new sr(P)))}function ko(P){return new de.y(M=>M.error(new Zr(P)))}function U(P){return new de.y(M=>M.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${P}'`)))}class ae{constructor(M,D,H,Z,ie){this.configLoader=D,this.urlSerializer=H,this.urlTree=Z,this.config=ie,this.allowRedirects=!0,this.ngModule=M.get(O.h0i)}apply(){const M=us(this.urlTree.root,[],[],this.config).segmentGroup,D=new ve(M.segments,M.children);return this.expandSegmentGroup(this.ngModule,this.config,D,qt).pipe((0,ye.U)(ie=>this.createUrlTree(at(ie),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,sn.K)(ie=>{if(ie instanceof Zr)return this.allowRedirects=!1,this.match(ie.urlTree);throw ie instanceof sr?this.noMatchError(ie):ie}))}match(M){return this.expandSegmentGroup(this.ngModule,this.config,M.root,qt).pipe((0,ye.U)(Z=>this.createUrlTree(at(Z),M.queryParams,M.fragment))).pipe((0,sn.K)(Z=>{throw Z instanceof sr?this.noMatchError(Z):Z}))}noMatchError(M){return new Error(`Cannot match any routes. URL Segment: '${M.segmentGroup}'`)}createUrlTree(M,D,H){const Z=M.segments.length>0?new ve([],{[qt]:M}):M;return new en(Z,D,H)}expandSegmentGroup(M,D,H,Z){return 0===H.segments.length&&H.hasChildren()?this.expandChildren(M,D,H).pipe((0,ye.U)(ie=>new ve([],ie))):this.expandSegment(M,H,D,H.segments,Z,!0)}expandChildren(M,D,H){const Z=[];for(const ie of Object.keys(H.children))"primary"===ie?Z.unshift(ie):Z.push(ie);return(0,se.D)(Z).pipe((0,bt.b)(ie=>{const Se=H.children[ie],Ae=bs(D,ie);return this.expandSegmentGroup(M,Ae,Se,ie).pipe((0,ye.U)(ct=>({segment:ct,outlet:ie})))}),(0,me.R)((ie,Se)=>(ie[Se.outlet]=Se.segment,ie),{}),(0,Ge.Z)())}expandSegment(M,D,H,Z,ie,Se){return(0,se.D)(H).pipe((0,bt.b)(Ae=>this.expandSegmentAgainstRoute(M,D,H,Ae,Z,ie,Se).pipe((0,sn.K)(Wt=>{if(Wt instanceof sr)return(0,oe.of)(null);throw Wt}))),(0,$t.P)(Ae=>!!Ae),(0,sn.K)((Ae,ct)=>{if(Ae instanceof q.K||"EmptyError"===Ae.name){if(Gt(D,Z,ie))return(0,oe.of)(new ve([],{}));throw new sr(D)}throw Ae}))}expandSegmentAgainstRoute(M,D,H,Z,ie,Se,Ae){return tt(Z,D,ie,Se)?void 0===Z.redirectTo?this.matchSegmentAgainstRoute(M,D,Z,ie,Se):Ae&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(M,D,H,Z,ie,Se):ii(D):ii(D)}expandSegmentAgainstRouteUsingRedirect(M,D,H,Z,ie,Se){return"**"===Z.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(M,H,Z,Se):this.expandRegularSegmentAgainstRouteUsingRedirect(M,D,H,Z,ie,Se)}expandWildCardWithParamsAgainstRouteUsingRedirect(M,D,H,Z){const ie=this.applyRedirectCommands([],H.redirectTo,{});return H.redirectTo.startsWith("/")?ko(ie):this.lineralizeSegments(H,ie).pipe((0,We.zg)(Se=>{const Ae=new ve(Se,{});return this.expandSegment(M,Ae,D,Se,Z,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(M,D,H,Z,ie,Se){const{matched:Ae,consumedSegments:ct,lastChild:Wt,positionalParamSegments:hn}=as(D,Z,ie);if(!Ae)return ii(D);const zn=this.applyRedirectCommands(ct,Z.redirectTo,hn);return Z.redirectTo.startsWith("/")?ko(zn):this.lineralizeSegments(Z,zn).pipe((0,We.zg)(wt=>this.expandSegment(M,D,H,wt.concat(ie.slice(Wt)),Se,!1)))}matchSegmentAgainstRoute(M,D,H,Z,ie){if("**"===H.path)return H.loadChildren?(H._loadedConfig?(0,oe.of)(H._loadedConfig):this.configLoader.load(M.injector,H)).pipe((0,ye.U)(wt=>(H._loadedConfig=wt,new ve(Z,{})))):(0,oe.of)(new ve(Z,{}));const{matched:Se,consumedSegments:Ae,lastChild:ct}=as(D,H,Z);if(!Se)return ii(D);const Wt=Z.slice(ct);return this.getChildConfig(M,H,Z).pipe((0,We.zg)(zn=>{const wt=zn.module,mn=zn.routes,{segmentGroup:wi,slicedSegments:ds}=us(D,Ae,Wt,mn),Jt=new ve(wi.segments,wi.children);if(0===ds.length&&Jt.hasChildren())return this.expandChildren(wt,mn,Jt).pipe((0,ye.U)(st=>new ve(Ae,st)));if(0===mn.length&&0===ds.length)return(0,oe.of)(new ve(Ae,{}));const pn=Xr(H)===ie;return this.expandSegment(wt,Jt,mn,ds,pn?qt:ie,!0).pipe((0,ye.U)(kt=>new ve(Ae.concat(kt.segments),kt.children)))}))}getChildConfig(M,D,H){return D.children?(0,oe.of)(new Es(D.children,M)):D.loadChildren?void 0!==D._loadedConfig?(0,oe.of)(D._loadedConfig):this.runCanLoadGuards(M.injector,D,H).pipe((0,We.zg)(Z=>{return Z?this.configLoader.load(M.injector,D).pipe((0,ye.U)(ie=>(D._loadedConfig=ie,ie))):(P=D,new de.y(M=>M.error(dr(`Cannot load children because the guard of the route "path: '${P.path}'" returned false`))));var P})):(0,oe.of)(new Es([],M))}runCanLoadGuards(M,D,H){const Z=D.canLoad;if(!Z||0===Z.length)return(0,oe.of)(!0);const ie=Z.map(Se=>{const Ae=M.get(Se);let ct;if((P=Ae)&&Oi(P.canLoad))ct=Ae.canLoad(D,H);else{if(!Oi(Ae))throw new Error("Invalid CanLoad guard");ct=Ae(D,H)}var P;return nt(ct)});return(0,oe.of)(ie).pipe(fi(),(0,Rt.b)(Se=>{if(!Qi(Se))return;const Ae=dr(`Redirecting to "${this.urlSerializer.serialize(Se)}"`);throw Ae.url=Se,Ae}),(0,ye.U)(Se=>!0===Se))}lineralizeSegments(M,D){let H=[],Z=D.root;for(;;){if(H=H.concat(Z.segments),0===Z.numberOfChildren)return(0,oe.of)(H);if(Z.numberOfChildren>1||!Z.children[qt])return U(M.redirectTo);Z=Z.children[qt]}}applyRedirectCommands(M,D,H){return this.applyRedirectCreatreUrlTree(D,this.urlSerializer.parse(D),M,H)}applyRedirectCreatreUrlTree(M,D,H,Z){const ie=this.createSegmentGroup(M,D.root,H,Z);return new en(ie,this.createQueryParams(D.queryParams,this.urlTree.queryParams),D.fragment)}createQueryParams(M,D){const H={};return Ce(M,(Z,ie)=>{if("string"==typeof Z&&Z.startsWith(":")){const Ae=Z.substring(1);H[ie]=D[Ae]}else H[ie]=Z}),H}createSegmentGroup(M,D,H,Z){const ie=this.createSegments(M,D.segments,H,Z);let Se={};return Ce(D.children,(Ae,ct)=>{Se[ct]=this.createSegmentGroup(M,Ae,H,Z)}),new ve(ie,Se)}createSegments(M,D,H,Z){return D.map(ie=>ie.path.startsWith(":")?this.findPosParam(M,ie,Z):this.findOrReturn(ie,H))}findPosParam(M,D,H){const Z=H[D.path.substring(1)];if(!Z)throw new Error(`Cannot redirect to '${M}'. Cannot find '${D.path}'.`);return Z}findOrReturn(M,D){let H=0;for(const Z of D){if(Z.path===M.path)return D.splice(H),Z;H++}return M}}function at(P){const M={};for(const H of Object.keys(P.children)){const ie=at(P.children[H]);(ie.segments.length>0||ie.hasChildren())&&(M[H]=ie)}return function(P){if(1===P.numberOfChildren&&P.children[qt]){const M=P.children[qt];return new ve(P.segments.concat(M.segments),M.children)}return P}(new ve(P.segments,M))}class zt{constructor(M){this.path=M,this.route=this.path[this.path.length-1]}}class vn{constructor(M,D){this.component=M,this.route=D}}function hr(P,M,D){const H=P._root;return nr(H,M?M._root:null,D,[H.value])}function In(P,M,D){const H=function(P){if(!P)return null;for(let M=P.parent;M;M=M.parent){const D=M.routeConfig;if(D&&D._loadedConfig)return D._loadedConfig}return null}(M);return(H?H.module.injector:D).get(P)}function nr(P,M,D,H,Z={canDeactivateChecks:[],canActivateChecks:[]}){const ie=Ln(M);return P.children.forEach(Se=>{(function(P,M,D,H,Z={canDeactivateChecks:[],canActivateChecks:[]}){const ie=P.value,Se=M?M.value:null,Ae=D?D.getContext(P.value.outlet):null;if(Se&&ie.routeConfig===Se.routeConfig){const ct=function(P,M,D){if("function"==typeof D)return D(P,M);switch(D){case"pathParamsChange":return!ze(P.url,M.url);case"pathParamsOrQueryParamsChange":return!ze(P.url,M.url)||!bn(P.queryParams,M.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Hi(P,M)||!bn(P.queryParams,M.queryParams);case"paramsChange":default:return!Hi(P,M)}}(Se,ie,ie.routeConfig.runGuardsAndResolvers);ct?Z.canActivateChecks.push(new zt(H)):(ie.data=Se.data,ie._resolvedData=Se._resolvedData),nr(P,M,ie.component?Ae?Ae.children:null:D,H,Z),ct&&Ae&&Ae.outlet&&Ae.outlet.isActivated&&Z.canDeactivateChecks.push(new vn(Ae.outlet.component,Se))}else Se&&kr(M,Ae,Z),Z.canActivateChecks.push(new zt(H)),nr(P,null,ie.component?Ae?Ae.children:null:D,H,Z)})(Se,ie[Se.value.outlet],D,H.concat([Se.value]),Z),delete ie[Se.value.outlet]}),Ce(ie,(Se,Ae)=>kr(Se,D.getContext(Ae),Z)),Z}function kr(P,M,D){const H=Ln(P),Z=P.value;Ce(H,(ie,Se)=>{kr(ie,Z.component?M?M.children.getContext(Se):null:M,D)}),D.canDeactivateChecks.push(new vn(Z.component&&M&&M.outlet&&M.outlet.isActivated?M.outlet.component:null,Z))}class cu{}function po(P){return new de.y(M=>M.error(P))}class Jn{constructor(M,D,H,Z,ie,Se){this.rootComponentType=M,this.config=D,this.urlTree=H,this.url=Z,this.paramsInheritanceStrategy=ie,this.relativeLinkResolution=Se}recognize(){const M=us(this.urlTree.root,[],[],this.config.filter(Se=>void 0===Se.redirectTo),this.relativeLinkResolution).segmentGroup,D=this.processSegmentGroup(this.config,M,qt);if(null===D)return null;const H=new li([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},qt,this.rootComponentType,null,this.urlTree.root,-1,{}),Z=new tr(H,D),ie=new ss(this.url,Z);return this.inheritParamsAndData(ie._root),ie}inheritParamsAndData(M){const D=M.value,H=Sn(D,this.paramsInheritanceStrategy);D.params=Object.freeze(H.params),D.data=Object.freeze(H.data),M.children.forEach(Z=>this.inheritParamsAndData(Z))}processSegmentGroup(M,D,H){return 0===D.segments.length&&D.hasChildren()?this.processChildren(M,D):this.processSegment(M,D,D.segments,H)}processChildren(M,D){const H=[];for(const ie of Object.keys(D.children)){const Se=D.children[ie],Ae=bs(M,ie),ct=this.processSegmentGroup(Ae,Se,ie);if(null===ct)return null;H.push(...ct)}const Z=go(H);return Z.sort((M,D)=>M.value.outlet===qt?-1:D.value.outlet===qt?1:M.value.outlet.localeCompare(D.value.outlet)),Z}processSegment(M,D,H,Z){for(const ie of M){const Se=this.processSegmentAgainstRoute(ie,D,H,Z);if(null!==Se)return Se}return Gt(D,H,Z)?[]:null}processSegmentAgainstRoute(M,D,H,Z){if(M.redirectTo||!tt(M,D,H,Z))return null;let ie,Se=[],Ae=[];if("**"===M.path){const mn=H.length>0?qe(H).parameters:{};ie=new li(H,mn,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$a(M),Xr(M),M.component,M,Zo(D),Ta(D)+H.length,du(M))}else{const mn=as(D,M,H);if(!mn.matched)return null;Se=mn.consumedSegments,Ae=H.slice(mn.lastChild),ie=new li(Se,mn.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$a(M),Xr(M),M.component,M,Zo(D),Ta(D)+Se.length,du(M))}const ct=(P=M).children?P.children:P.loadChildren?P._loadedConfig.routes:[],{segmentGroup:Wt,slicedSegments:hn}=us(D,Se,Ae,ct.filter(mn=>void 0===mn.redirectTo),this.relativeLinkResolution);var P;if(0===hn.length&&Wt.hasChildren()){const mn=this.processChildren(ct,Wt);return null===mn?null:[new tr(ie,mn)]}if(0===ct.length&&0===hn.length)return[new tr(ie,[])];const zn=Xr(M)===Z,wt=this.processSegment(ct,Wt,hn,zn?qt:Z);return null===wt?null:[new tr(ie,wt)]}}function Ko(P){const M=P.value.routeConfig;return M&&""===M.path&&void 0===M.redirectTo}function go(P){const M=[],D=new Set;for(const H of P){if(!Ko(H)){M.push(H);continue}const Z=M.find(ie=>H.value.routeConfig===ie.value.routeConfig);void 0!==Z?(Z.children.push(...H.children),D.add(Z)):M.push(H)}for(const H of D){const Z=go(H.children);M.push(new tr(H.value,Z))}return M.filter(H=>!D.has(H))}function Zo(P){let M=P;for(;M._sourceSegment;)M=M._sourceSegment;return M}function Ta(P){let M=P,D=M._segmentIndexShift?M._segmentIndexShift:0;for(;M._sourceSegment;)M=M._sourceSegment,D+=M._segmentIndexShift?M._segmentIndexShift:0;return D-1}function $a(P){return P.data||{}}function du(P){return P.resolve||{}}function $i(P){return(0,Pe.w)(M=>{const D=P(M);return D?(0,se.D)(D).pipe((0,ye.U)(()=>M)):(0,oe.of)(M)})}class Hr extends class{shouldDetach(M){return!1}store(M,D){}shouldAttach(M){return!1}retrieve(M){return null}shouldReuseRoute(M,D){return M.routeConfig===D.routeConfig}}{}const qo=new O.OlP("ROUTES");class Sa{constructor(M,D,H,Z){this.loader=M,this.compiler=D,this.onLoadStartListener=H,this.onLoadEndListener=Z}load(M,D){if(D._loader$)return D._loader$;this.onLoadStartListener&&this.onLoadStartListener(D);const Z=this.loadModuleFactory(D.loadChildren).pipe((0,ye.U)(ie=>{this.onLoadEndListener&&this.onLoadEndListener(D);const Se=ie.create(M);return new Es(ur(Se.injector.get(qo,void 0,O.XFs.Self|O.XFs.Optional)).map(Xi),Se)}),(0,sn.K)(ie=>{throw D._loader$=void 0,ie}));return D._loader$=new X.c(Z,()=>new fe.xQ).pipe((0,xe.x)()),D._loader$}loadModuleFactory(M){return"string"==typeof M?(0,se.D)(this.loader.load(M)):nt(M()).pipe((0,We.zg)(D=>D instanceof O.YKP?(0,oe.of)(D):(0,se.D)(this.compiler.compileModuleAsync(D))))}}class ua{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new yo,this.attachRef=null}}class yo{constructor(){this.contexts=new Map}onChildOutletCreated(M,D){const H=this.getOrCreateContext(M);H.outlet=D,this.contexts.set(M,H)}onChildOutletDestroyed(M){const D=this.getContext(M);D&&(D.outlet=null)}onOutletDeactivated(){const M=this.contexts;return this.contexts=new Map,M}onOutletReAttached(M){this.contexts=M}getOrCreateContext(M){let D=this.getContext(M);return D||(D=new ua,this.contexts.set(M,D)),D}getContext(M){return this.contexts.get(M)||null}}class _o{shouldProcessUrl(M){return!0}extract(M){return M}merge(M,D){return M}}function la(P){throw P}function vo(P,M,D){return M.parse("/")}function Ws(P,M){return(0,oe.of)(null)}const Wa={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ro={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let gi=(()=>{class P{constructor(D,H,Z,ie,Se,Ae,ct,Wt){this.rootComponentType=D,this.urlSerializer=H,this.rootContexts=Z,this.location=ie,this.config=Wt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new fe.xQ,this.errorHandler=la,this.malformedUriErrorHandler=vo,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ws,afterPreactivation:Ws},this.urlHandlingStrategy=new _o,this.routeReuseStrategy=new Hr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Se.get(O.h0i),this.console=Se.get(O.c2e);const wt=Se.get(O.R0b);this.isNgZoneEnabled=wt instanceof O.R0b&&O.R0b.isInAngularZone(),this.resetConfig(Wt),this.currentUrlTree=new en(new ve([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Sa(Ae,ct,mn=>this.triggerEvent(new un(mn)),mn=>this.triggerEvent(new ln(mn))),this.routerState=Dr(this.currentUrlTree,this.rootComponentType),this.transitions=new L.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var D;return null===(D=this.location.getState())||void 0===D?void 0:D.\u0275routerPageId}setupNavigations(D){const H=this.events;return D.pipe((0,_t.h)(Z=>0!==Z.id),(0,ye.U)(Z=>Object.assign(Object.assign({},Z),{extractedUrl:this.urlHandlingStrategy.extract(Z.rawUrl)})),(0,Pe.w)(Z=>{let ie=!1,Se=!1;return(0,oe.of)(Z).pipe((0,Rt.b)(Ae=>{this.currentNavigation={id:Ae.id,initialUrl:Ae.currentRawUrl,extractedUrl:Ae.extractedUrl,trigger:Ae.source,extras:Ae.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Pe.w)(Ae=>{const ct=!this.navigated||Ae.extractedUrl.toString()!==this.browserUrlTree.toString(),Wt=("reload"===this.onSameUrlNavigation||ct)&&this.urlHandlingStrategy.shouldProcessUrl(Ae.rawUrl);if(Gs(Ae.source)&&(this.browserUrlTree=Ae.rawUrl),Wt)return(0,oe.of)(Ae).pipe((0,Pe.w)(hn=>{const zn=this.transitions.getValue();return H.next(new Ye(hn.id,this.serializeUrl(hn.extractedUrl),hn.source,hn.restoredState)),zn!==this.transitions.getValue()?ue.E:Promise.resolve(hn)}),function(P,M,D,H){return(0,Pe.w)(Z=>function(P,M,D,H,Z){return new ae(P,M,D,H,Z).apply()}(P,M,D,Z.extractedUrl,H).pipe((0,ye.U)(ie=>Object.assign(Object.assign({},Z),{urlAfterRedirects:ie}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Rt.b)(hn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:hn.urlAfterRedirects})}),function(P,M,D,H,Z){return(0,We.zg)(ie=>function(P,M,D,H,Z="emptyOnly",ie="legacy"){try{const Se=new Jn(P,M,D,H,Z,ie).recognize();return null===Se?po(new cu):(0,oe.of)(Se)}catch(Se){return po(Se)}}(P,M,ie.urlAfterRedirects,D(ie.urlAfterRedirects),H,Z).pipe((0,ye.U)(Se=>Object.assign(Object.assign({},ie),{targetSnapshot:Se}))))}(this.rootComponentType,this.config,hn=>this.serializeUrl(hn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Rt.b)(hn=>{"eager"===this.urlUpdateStrategy&&(hn.extras.skipLocationChange||this.setBrowserUrl(hn.urlAfterRedirects,hn),this.browserUrlTree=hn.urlAfterRedirects);const zn=new ot(hn.id,this.serializeUrl(hn.extractedUrl),this.serializeUrl(hn.urlAfterRedirects),hn.targetSnapshot);H.next(zn)}));if(ct&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:zn,extractedUrl:wt,source:mn,restoredState:wi,extras:ds}=Ae,Jt=new Ye(zn,this.serializeUrl(wt),mn,wi);H.next(Jt);const pn=Dr(wt,this.rootComponentType).snapshot;return(0,oe.of)(Object.assign(Object.assign({},Ae),{targetSnapshot:pn,urlAfterRedirects:wt,extras:Object.assign(Object.assign({},ds),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Ae.rawUrl,this.browserUrlTree=Ae.urlAfterRedirects,Ae.resolve(null),ue.E}),$i(Ae=>{const{targetSnapshot:ct,id:Wt,extractedUrl:hn,rawUrl:zn,extras:{skipLocationChange:wt,replaceUrl:mn}}=Ae;return this.hooks.beforePreactivation(ct,{navigationId:Wt,appliedUrlTree:hn,rawUrlTree:zn,skipLocationChange:!!wt,replaceUrl:!!mn})}),(0,Rt.b)(Ae=>{const ct=new vt(Ae.id,this.serializeUrl(Ae.extractedUrl),this.serializeUrl(Ae.urlAfterRedirects),Ae.targetSnapshot);this.triggerEvent(ct)}),(0,ye.U)(Ae=>Object.assign(Object.assign({},Ae),{guards:hr(Ae.targetSnapshot,Ae.currentSnapshot,this.rootContexts)})),function(P,M){return(0,We.zg)(D=>{const{targetSnapshot:H,currentSnapshot:Z,guards:{canActivateChecks:ie,canDeactivateChecks:Se}}=D;return 0===Se.length&&0===ie.length?(0,oe.of)(Object.assign(Object.assign({},D),{guardsResult:!0})):function(P,M,D,H){return(0,se.D)(P).pipe((0,We.zg)(Z=>function(P,M,D,H,Z){const ie=M&&M.routeConfig?M.routeConfig.canDeactivate:null;if(!ie||0===ie.length)return(0,oe.of)(!0);const Se=ie.map(Ae=>{const ct=In(Ae,M,Z);let Wt;if(function(P){return P&&Oi(P.canDeactivate)}(ct))Wt=nt(ct.canDeactivate(P,M,D,H));else{if(!Oi(ct))throw new Error("Invalid CanDeactivate guard");Wt=nt(ct(P,M,D,H))}return Wt.pipe((0,$t.P)())});return(0,oe.of)(Se).pipe(fi())}(Z.component,Z.route,D,M,H)),(0,$t.P)(Z=>!0!==Z,!0))}(Se,H,Z,P).pipe((0,We.zg)(Ae=>Ae&&function(P){return"boolean"==typeof P}(Ae)?function(P,M,D,H){return(0,se.D)(M).pipe((0,bt.b)(Z=>(0,J.z)(function(P,M){return null!==P&&M&&M(new tn(P)),(0,oe.of)(!0)}(Z.route.parent,H),function(P,M){return null!==P&&M&&M(new jn(P)),(0,oe.of)(!0)}(Z.route,H),function(P,M,D){const H=M[M.length-1],ie=M.slice(0,M.length-1).reverse().map(Se=>function(P){const M=P.routeConfig?P.routeConfig.canActivateChild:null;return M&&0!==M.length?{node:P,guards:M}:null}(Se)).filter(Se=>null!==Se).map(Se=>(0,Q.P)(()=>{const Ae=Se.guards.map(ct=>{const Wt=In(ct,Se.node,D);let hn;if(function(P){return P&&Oi(P.canActivateChild)}(Wt))hn=nt(Wt.canActivateChild(H,P));else{if(!Oi(Wt))throw new Error("Invalid CanActivateChild guard");hn=nt(Wt(H,P))}return hn.pipe((0,$t.P)())});return(0,oe.of)(Ae).pipe(fi())}));return(0,oe.of)(ie).pipe(fi())}(P,Z.path,D),function(P,M,D){const H=M.routeConfig?M.routeConfig.canActivate:null;if(!H||0===H.length)return(0,oe.of)(!0);const Z=H.map(ie=>(0,Q.P)(()=>{const Se=In(ie,M,D);let Ae;if(function(P){return P&&Oi(P.canActivate)}(Se))Ae=nt(Se.canActivate(M,P));else{if(!Oi(Se))throw new Error("Invalid CanActivate guard");Ae=nt(Se(M,P))}return Ae.pipe((0,$t.P)())}));return(0,oe.of)(Z).pipe(fi())}(P,Z.route,D))),(0,$t.P)(Z=>!0!==Z,!0))}(H,ie,P,M):(0,oe.of)(Ae)),(0,ye.U)(Ae=>Object.assign(Object.assign({},D),{guardsResult:Ae})))})}(this.ngModule.injector,Ae=>this.triggerEvent(Ae)),(0,Rt.b)(Ae=>{if(Qi(Ae.guardsResult)){const Wt=dr(`Redirecting to "${this.serializeUrl(Ae.guardsResult)}"`);throw Wt.url=Ae.guardsResult,Wt}const ct=new ke(Ae.id,this.serializeUrl(Ae.extractedUrl),this.serializeUrl(Ae.urlAfterRedirects),Ae.targetSnapshot,!!Ae.guardsResult);this.triggerEvent(ct)}),(0,_t.h)(Ae=>!!Ae.guardsResult||(this.restoreHistory(Ae),this.cancelNavigationTransition(Ae,""),!1)),$i(Ae=>{if(Ae.guards.canActivateChecks.length)return(0,oe.of)(Ae).pipe((0,Rt.b)(ct=>{const Wt=new Je(ct.id,this.serializeUrl(ct.extractedUrl),this.serializeUrl(ct.urlAfterRedirects),ct.targetSnapshot);this.triggerEvent(Wt)}),(0,Pe.w)(ct=>{let Wt=!1;return(0,oe.of)(ct).pipe(function(P,M){return(0,We.zg)(D=>{const{targetSnapshot:H,guards:{canActivateChecks:Z}}=D;if(!Z.length)return(0,oe.of)(D);let ie=0;return(0,se.D)(Z).pipe((0,bt.b)(Se=>function(P,M,D,H){return function(P,M,D,H){const Z=Object.keys(P);if(0===Z.length)return(0,oe.of)({});const ie={};return(0,se.D)(Z).pipe((0,We.zg)(Se=>function(P,M,D,H){const Z=In(P,M,H);return nt(Z.resolve?Z.resolve(M,D):Z(M,D))}(P[Se],M,D,H).pipe((0,Rt.b)(Ae=>{ie[Se]=Ae}))),(0,Ot.h)(1),(0,We.zg)(()=>Object.keys(ie).length===Z.length?(0,oe.of)(ie):ue.E))}(P._resolve,P,M,H).pipe((0,ye.U)(ie=>(P._resolvedData=ie,P.data=Object.assign(Object.assign({},P.data),Sn(P,D).resolve),null)))}(Se.route,H,P,M)),(0,Rt.b)(()=>ie++),(0,Ot.h)(1),(0,We.zg)(Se=>ie===Z.length?(0,oe.of)(D):ue.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Rt.b)({next:()=>Wt=!0,complete:()=>{Wt||(this.restoreHistory(ct),this.cancelNavigationTransition(ct,"At least one route resolver didn't emit any value."))}}))}),(0,Rt.b)(ct=>{const Wt=new Yt(ct.id,this.serializeUrl(ct.extractedUrl),this.serializeUrl(ct.urlAfterRedirects),ct.targetSnapshot);this.triggerEvent(Wt)}))}),$i(Ae=>{const{targetSnapshot:ct,id:Wt,extractedUrl:hn,rawUrl:zn,extras:{skipLocationChange:wt,replaceUrl:mn}}=Ae;return this.hooks.afterPreactivation(ct,{navigationId:Wt,appliedUrlTree:hn,rawUrlTree:zn,skipLocationChange:!!wt,replaceUrl:!!mn})}),(0,ye.U)(Ae=>{const ct=function(P,M,D){const H=Gn(P,M._root,D?D._root:void 0);return new Ai(H,M)}(this.routeReuseStrategy,Ae.targetSnapshot,Ae.currentRouterState);return Object.assign(Object.assign({},Ae),{targetRouterState:ct})}),(0,Rt.b)(Ae=>{this.currentUrlTree=Ae.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,Ae.rawUrl),this.routerState=Ae.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Ae.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Ae),this.browserUrlTree=Ae.urlAfterRedirects)}),((P,M,D)=>(0,ye.U)(H=>(new os(M,H.targetRouterState,H.currentRouterState,D).activate(P),H)))(this.rootContexts,this.routeReuseStrategy,Ae=>this.triggerEvent(Ae)),(0,Rt.b)({next(){ie=!0},complete(){ie=!0}}),(0,$e.x)(()=>{if(!ie&&!Se){const Ae=`Navigation ID ${Z.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(Z),this.cancelNavigationTransition(Z,Ae)):this.cancelNavigationTransition(Z,Ae)}this.currentNavigation=null}),(0,sn.K)(Ae=>{if(Se=!0,function(P){return P&&P[Sr]}(Ae)){const ct=Qi(Ae.url);ct||(this.navigated=!0,this.restoreHistory(Z,!0));const Wt=new Dt(Z.id,this.serializeUrl(Z.extractedUrl),Ae.message);H.next(Wt),ct?setTimeout(()=>{const hn=this.urlHandlingStrategy.merge(Ae.url,this.rawUrlTree),zn={skipLocationChange:Z.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Gs(Z.source)};this.scheduleNavigation(hn,"imperative",null,zn,{resolve:Z.resolve,reject:Z.reject,promise:Z.promise})},0):Z.resolve(!1)}else{this.restoreHistory(Z,!0);const ct=new Zt(Z.id,this.serializeUrl(Z.extractedUrl),Ae);H.next(ct);try{Z.resolve(this.errorHandler(Ae))}catch(Wt){Z.reject(Wt)}}return ue.E}))}))}resetRootComponentType(D){this.rootComponentType=D,this.routerState.root.component=this.rootComponentType}getTransition(){const D=this.transitions.value;return D.urlAfterRedirects=this.browserUrlTree,D}setTransition(D){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),D))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(D=>{const H=this.extractLocationChangeInfoFromEvent(D);this.shouldScheduleNavigation(this.lastLocationChangeInfo,H)&&setTimeout(()=>{const{source:Z,state:ie,urlTree:Se}=H,Ae={replaceUrl:!0};if(ie){const ct=Object.assign({},ie);delete ct.navigationId,delete ct.\u0275routerPageId,0!==Object.keys(ct).length&&(Ae.state=ct)}this.scheduleNavigation(Se,Z,ie,Ae)},0),this.lastLocationChangeInfo=H}))}extractLocationChangeInfoFromEvent(D){var H;return{source:"popstate"===D.type?"popstate":"hashchange",urlTree:this.parseUrl(D.url),state:(null===(H=D.state)||void 0===H?void 0:H.navigationId)?D.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(D,H){if(!D)return!0;const Z=H.urlTree.toString()===D.urlTree.toString();return H.transitionId!==D.transitionId||!Z||!("hashchange"===H.source&&"popstate"===D.source||"popstate"===H.source&&"hashchange"===D.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(D){this.events.next(D)}resetConfig(D){Rs(D),this.config=D.map(Xi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(D,H={}){const{relativeTo:Z,queryParams:ie,fragment:Se,queryParamsHandling:Ae,preserveFragment:ct}=H,Wt=Z||this.routerState.root,hn=ct?this.currentUrlTree.fragment:Se;let zn=null;switch(Ae){case"merge":zn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),ie);break;case"preserve":zn=this.currentUrlTree.queryParams;break;default:zn=ie||null}return null!==zn&&(zn=this.removeEmptyProps(zn)),function(P,M,D,H,Z){if(0===D.length)return di(M.root,M.root,M,H,Z);const ie=function(P){if("string"==typeof P[0]&&1===P.length&&"/"===P[0])return new Js(!0,0,P);let M=0,D=!1;const H=P.reduce((Z,ie,Se)=>{if("object"==typeof ie&&null!=ie){if(ie.outlets){const Ae={};return Ce(ie.outlets,(ct,Wt)=>{Ae[Wt]="string"==typeof ct?ct.split("/"):ct}),[...Z,{outlets:Ae}]}if(ie.segmentPath)return[...Z,ie.segmentPath]}return"string"!=typeof ie?[...Z,ie]:0===Se?(ie.split("/").forEach((Ae,ct)=>{0==ct&&"."===Ae||(0==ct&&""===Ae?D=!0:".."===Ae?M++:""!=Ae&&Z.push(Ae))}),Z):[...Z,ie]},[]);return new Js(D,M,H)}(D);if(ie.toRoot())return di(M.root,new ve([],{}),M,H,Z);const Se=function(P,M,D){if(P.isAbsolute)return new _i(M.root,!0,0);if(-1===D.snapshot._lastPathIndex){const ie=D.snapshot._urlSegment;return new _i(ie,ie===M.root,0)}const H=ci(P.commands[0])?0:1;return function(P,M,D){let H=P,Z=M,ie=D;for(;ie>Z;){if(ie-=Z,H=H.parent,!H)throw new Error("Invalid number of '../'");Z=H.segments.length}return new _i(H,!1,Z-ie)}(D.snapshot._urlSegment,D.snapshot._lastPathIndex+H,P.numberOfDoubleDots)}(ie,M,P),Ae=Se.processChildren?Fn(Se.segmentGroup,Se.index,ie.commands):Vr(Se.segmentGroup,Se.index,ie.commands);return di(Se.segmentGroup,Ae,M,H,Z)}(Wt,this.currentUrlTree,D,zn,null!=hn?hn:null)}navigateByUrl(D,H={skipLocationChange:!1}){const Z=Qi(D)?D:this.parseUrl(D),ie=this.urlHandlingStrategy.merge(Z,this.rawUrlTree);return this.scheduleNavigation(ie,"imperative",null,H)}navigate(D,H={skipLocationChange:!1}){return function(P){for(let M=0;M<P.length;M++){const D=P[M];if(null==D)throw new Error(`The requested path contains ${D} segment at index ${M}`)}}(D),this.navigateByUrl(this.createUrlTree(D,H),H)}serializeUrl(D){return this.urlSerializer.serialize(D)}parseUrl(D){let H;try{H=this.urlSerializer.parse(D)}catch(Z){H=this.malformedUriErrorHandler(Z,this.urlSerializer,D)}return H}isActive(D,H){let Z;if(Z=!0===H?Object.assign({},Wa):!1===H?Object.assign({},ro):H,Qi(D))return Ft(this.currentUrlTree,D,Z);const ie=this.parseUrl(D);return Ft(this.currentUrlTree,ie,Z)}removeEmptyProps(D){return Object.keys(D).reduce((H,Z)=>{const ie=D[Z];return null!=ie&&(H[Z]=ie),H},{})}processNavigations(){this.navigations.subscribe(D=>{this.navigated=!0,this.lastSuccessfulId=D.id,this.currentPageId=D.targetPageId,this.events.next(new Ne(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,D.resolve(!0)},D=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(D,H,Z,ie,Se){var Ae,ct;if(this.disposed)return Promise.resolve(!1);const Wt=this.getTransition(),hn=Gs(H)&&Wt&&!Gs(Wt.source),mn=(this.lastSuccessfulId===Wt.id||this.currentNavigation?Wt.rawUrl:Wt.urlAfterRedirects).toString()===D.toString();if(hn&&mn)return Promise.resolve(!0);let wi,ds,Jt;Se?(wi=Se.resolve,ds=Se.reject,Jt=Se.promise):Jt=new Promise((kt,st)=>{wi=kt,ds=st});const pn=++this.navigationId;let fa;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(Z=this.location.getState()),fa=Z&&Z.\u0275routerPageId?Z.\u0275routerPageId:ie.replaceUrl||ie.skipLocationChange?null!==(Ae=this.browserPageId)&&void 0!==Ae?Ae:0:(null!==(ct=this.browserPageId)&&void 0!==ct?ct:0)+1):fa=0,this.setTransition({id:pn,targetPageId:fa,source:H,restoredState:Z,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:D,extras:ie,resolve:wi,reject:ds,promise:Jt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Jt.catch(kt=>Promise.reject(kt))}setBrowserUrl(D,H){const Z=this.urlSerializer.serialize(D),ie=Object.assign(Object.assign({},H.extras.state),this.generateNgRouterState(H.id,H.targetPageId));this.location.isCurrentPathEqualTo(Z)||H.extras.replaceUrl?this.location.replaceState(Z,"",ie):this.location.go(Z,"",ie)}restoreHistory(D,H=!1){var Z,ie;if("computed"===this.canceledNavigationResolution){const Se=this.currentPageId-D.targetPageId;"popstate"!==D.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(Z=this.currentNavigation)||void 0===Z?void 0:Z.finalUrl)||0===Se?this.currentUrlTree===(null===(ie=this.currentNavigation)||void 0===ie?void 0:ie.finalUrl)&&0===Se&&(this.resetState(D),this.browserUrlTree=D.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Se)}else"replace"===this.canceledNavigationResolution&&(H&&this.resetState(D),this.resetUrlToCurrentUrlTree())}resetState(D){this.routerState=D.currentRouterState,this.currentUrlTree=D.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,D.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(D,H){const Z=new Dt(D.id,this.serializeUrl(D.extractedUrl),H);this.triggerEvent(Z),D.resolve(!1)}generateNgRouterState(D,H){return"computed"===this.canceledNavigationResolution?{navigationId:D,\u0275routerPageId:H}:{navigationId:D}}}return P.\u0275fac=function(D){return new(D||P)(O.LFG(O.DyG),O.LFG(Mt),O.LFG(yo),O.LFG(b.Ye),O.LFG(O.zs3),O.LFG(O.v3s),O.LFG(O.Sil),O.LFG(void 0))},P.\u0275prov=O.Yz7({token:P,factory:P.\u0275fac}),P})();function Gs(P){return"imperative"!==P}let Aa=(()=>{class P{constructor(D,H,Z){this.router=D,this.route=H,this.locationStrategy=Z,this.commands=[],this.onChanges=new fe.xQ,this.subscription=D.events.subscribe(ie=>{ie instanceof Ne&&this.updateTargetUrlAndHref()})}set routerLink(D){this.commands=null!=D?Array.isArray(D)?D:[D]:[]}ngOnChanges(D){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(D,H,Z,ie,Se){if(0!==D||H||Z||ie||Se||"string"==typeof this.target&&"_self"!=this.target)return!0;const Ae={skipLocationChange:ei(this.skipLocationChange),replaceUrl:ei(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Ae),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ei(this.preserveFragment)})}}return P.\u0275fac=function(D){return new(D||P)(O.Y36(gi),O.Y36(ri),O.Y36(b.S$))},P.\u0275dir=O.lG2({type:P,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(D,H){1&D&&O.NdJ("click",function(ie){return H.onClick(ie.button,ie.ctrlKey,ie.shiftKey,ie.altKey,ie.metaKey)}),2&D&&(O.Ikx("href",H.href,O.LSH),O.uIk("target",H.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[O.TTD]}),P})();function ei(P){return""===P||!!P}let da=(()=>{class P{constructor(D,H,Z,ie,Se){this.parentContexts=D,this.location=H,this.resolver=Z,this.changeDetector=Se,this.activated=null,this._activatedRoute=null,this.activateEvents=new O.vpe,this.deactivateEvents=new O.vpe,this.name=ie||qt,D.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const D=this.parentContexts.getContext(this.name);D&&D.route&&(D.attachRef?this.attach(D.attachRef,D.route):this.activateWith(D.route,D.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const D=this.activated;return this.activated=null,this._activatedRoute=null,D}attach(D,H){this.activated=D,this._activatedRoute=H,this.location.insert(D.hostView)}deactivate(){if(this.activated){const D=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(D)}}activateWith(D,H){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=D;const Se=(H=H||this.resolver).resolveComponentFactory(D._futureSnapshot.routeConfig.component),Ae=this.parentContexts.getOrCreateContext(this.name).children,ct=new xa(D,Ae,this.location.injector);this.activated=this.location.createComponent(Se,this.location.length,ct),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return P.\u0275fac=function(D){return new(D||P)(O.Y36(yo),O.Y36(O.s_b),O.Y36(O._Vd),O.$8M("name"),O.Y36(O.sBO))},P.\u0275dir=O.lG2({type:P,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),P})();class xa{constructor(M,D,H){this.route=M,this.childContexts=D,this.parent=H}get(M,D){return M===ri?this.route:M===yo?this.childContexts:this.parent.get(M,D)}}class Ma{}class bo{preload(M,D){return(0,oe.of)(null)}}let Ga=(()=>{class P{constructor(D,H,Z,ie,Se){this.router=D,this.injector=ie,this.preloadingStrategy=Se,this.loader=new Sa(H,Z,Wt=>D.triggerEvent(new un(Wt)),Wt=>D.triggerEvent(new ln(Wt)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,_t.h)(D=>D instanceof Ne),(0,bt.b)(()=>this.preload())).subscribe(()=>{})}preload(){const D=this.injector.get(O.h0i);return this.processRoutes(D,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(D,H){const Z=[];for(const ie of H)if(ie.loadChildren&&!ie.canLoad&&ie._loadedConfig){const Se=ie._loadedConfig;Z.push(this.processRoutes(Se.module,Se.routes))}else ie.loadChildren&&!ie.canLoad?Z.push(this.preloadConfig(D,ie)):ie.children&&Z.push(this.processRoutes(D,ie.children));return(0,se.D)(Z).pipe((0,Re.J)(),(0,ye.U)(ie=>{}))}preloadConfig(D,H){return this.preloadingStrategy.preload(H,()=>(H._loadedConfig?(0,oe.of)(H._loadedConfig):this.loader.load(D.injector,H)).pipe((0,We.zg)(ie=>(H._loadedConfig=ie,this.processRoutes(ie.module,ie.routes)))))}}return P.\u0275fac=function(D){return new(D||P)(O.LFG(gi),O.LFG(O.v3s),O.LFG(O.Sil),O.LFG(O.zs3),O.LFG(Ma))},P.\u0275prov=O.Yz7({token:P,factory:P.\u0275fac}),P})(),wo=(()=>{class P{constructor(D,H,Z={}){this.router=D,this.viewportScroller=H,this.options=Z,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Z.scrollPositionRestoration=Z.scrollPositionRestoration||"disabled",Z.anchorScrolling=Z.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(D=>{D instanceof Ye?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=D.navigationTrigger,this.restoredId=D.restoredState?D.restoredState.navigationId:0):D instanceof Ne&&(this.lastId=D.id,this.scheduleScrollEvent(D,this.router.parseUrl(D.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(D=>{D instanceof yn&&(D.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(D.position):D.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(D.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(D,H){this.router.triggerEvent(new yn(D,"popstate"===this.lastSource?this.store[this.restoredId]:null,H))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return P.\u0275fac=function(D){return new(D||P)(O.LFG(gi),O.LFG(b.EM),O.LFG(void 0))},P.\u0275prov=O.Yz7({token:P,factory:P.\u0275fac}),P})();const Cs=new O.OlP("ROUTER_CONFIGURATION"),Co=new O.OlP("ROUTER_FORROOT_GUARD"),Oa=[b.Ye,{provide:Mt,useClass:Nt},{provide:gi,useFactory:function(P,M,D,H,Z,ie,Se,Ae={},ct,Wt){const hn=new gi(null,P,M,D,H,Z,ie,ur(Se));return ct&&(hn.urlHandlingStrategy=ct),Wt&&(hn.routeReuseStrategy=Wt),function(P,M){P.errorHandler&&(M.errorHandler=P.errorHandler),P.malformedUriErrorHandler&&(M.malformedUriErrorHandler=P.malformedUriErrorHandler),P.onSameUrlNavigation&&(M.onSameUrlNavigation=P.onSameUrlNavigation),P.paramsInheritanceStrategy&&(M.paramsInheritanceStrategy=P.paramsInheritanceStrategy),P.relativeLinkResolution&&(M.relativeLinkResolution=P.relativeLinkResolution),P.urlUpdateStrategy&&(M.urlUpdateStrategy=P.urlUpdateStrategy)}(Ae,hn),Ae.enableTracing&&hn.events.subscribe(zn=>{var wt,mn;null===(wt=console.group)||void 0===wt||wt.call(console,`Router Event: ${zn.constructor.name}`),console.log(zn.toString()),console.log(zn),null===(mn=console.groupEnd)||void 0===mn||mn.call(console)}),hn},deps:[Mt,yo,b.Ye,O.zs3,O.v3s,O.Sil,qo,Cs,[class{},new O.FiY],[class{},new O.FiY]]},yo,{provide:ri,useFactory:function(P){return P.routerState.root},deps:[gi]},{provide:O.v3s,useClass:O.EAV},Ga,bo,class{preload(M,D){return D().pipe((0,sn.K)(()=>(0,oe.of)(null)))}},{provide:Cs,useValue:{enableTracing:!1}}];function cs(){return new O.PXZ("Router",gi)}let Is=(()=>{class P{constructor(D,H){}static forRoot(D,H){return{ngModule:P,providers:[Oa,pe(D),{provide:Co,useFactory:F,deps:[[gi,new O.FiY,new O.tp0]]},{provide:Cs,useValue:H||{}},{provide:b.S$,useFactory:I,deps:[b.lw,[new O.tBr(b.mr),new O.FiY],Cs]},{provide:wo,useFactory:he,deps:[gi,b.EM,Cs]},{provide:Ma,useExisting:H&&H.preloadingStrategy?H.preloadingStrategy:bo},{provide:O.PXZ,multi:!0,useFactory:cs},[pr,{provide:O.ip1,multi:!0,useFactory:$r,deps:[pr]},{provide:so,useFactory:io,deps:[pr]},{provide:O.tb,multi:!0,useExisting:so}]]}}static forChild(D){return{ngModule:P,providers:[pe(D)]}}}return P.\u0275fac=function(D){return new(D||P)(O.LFG(Co,8),O.LFG(gi,8))},P.\u0275mod=O.oAB({type:P}),P.\u0275inj=O.cJS({}),P})();function he(P,M,D){return D.scrollOffset&&M.setOffset(D.scrollOffset),new wo(P,M,D)}function I(P,M,D={}){return D.useHash?new b.Do(P,M):new b.b0(P,M)}function F(P){return"guarded"}function pe(P){return[{provide:O.deG,multi:!0,useValue:P},{provide:qo,multi:!0,useValue:P}]}let pr=(()=>{class P{constructor(D){this.injector=D,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new fe.xQ}appInitializer(){return this.injector.get(b.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let H=null;const Z=new Promise(Ae=>H=Ae),ie=this.injector.get(gi),Se=this.injector.get(Cs);return"disabled"===Se.initialNavigation?(ie.setUpLocationChangeListener(),H(!0)):"enabled"===Se.initialNavigation||"enabledBlocking"===Se.initialNavigation?(ie.hooks.afterPreactivation=()=>this.initNavigation?(0,oe.of)(null):(this.initNavigation=!0,H(!0),this.resultOfPreactivationDone),ie.initialNavigation()):H(!0),Z})}bootstrapListener(D){const H=this.injector.get(Cs),Z=this.injector.get(Ga),ie=this.injector.get(wo),Se=this.injector.get(gi),Ae=this.injector.get(O.z2F);D===Ae.components[0]&&(("enabledNonBlocking"===H.initialNavigation||void 0===H.initialNavigation)&&Se.initialNavigation(),Z.setUpPreloading(),ie.init(),Se.resetRootComponentType(Ae.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return P.\u0275fac=function(D){return new(D||P)(O.LFG(O.zs3))},P.\u0275prov=O.Yz7({token:P,factory:P.\u0275fac}),P})();function $r(P){return P.appInitializer.bind(P)}function io(P){return P.bootstrapListener.bind(P)}const so=new O.OlP("Router Initializer")},4486:(yt,Me,R)=>{"use strict";R.d(Me,{Z:()=>Ze});var b=R(4685),O=R(6034),se=R(5452),oe=R(300);class L{constructor(me,_t){this._delegate=me,this.firebase=_t,(0,se._addComponent)(me,new O.wA("app-compat",()=>this,"PUBLIC")),this.container=me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(me){this._delegate.automaticDataCollectionEnabled=me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(me=>{this._delegate.checkDestroyed(),me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,se.deleteApp)(this._delegate)))}_getService(me,_t=se._DEFAULT_ENTRY_NAME){var sn;this._delegate.checkDestroyed();const bt=this._delegate.container.getProvider(me);return!bt.isInitialized()&&"EXPLICIT"===(null===(sn=bt.getComponent())||void 0===sn?void 0:sn.instantiationMode)&&bt.initialize(),bt.getImmediate({identifier:_t})}_removeServiceInstance(me,_t=se._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(me).clearInstance(_t)}_addComponent(me){(0,se._addComponent)(this._delegate,me)}_addOrOverwriteComponent(me){(0,se._addOrOverwriteComponent)(this._delegate,me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const de=new b.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Q=function J(){const Xe=function(Xe){const me={},_t={__esModule:!0,initializeApp:function(Ot,xe={}){const $e=se.initializeApp(Ot,xe);if((0,b.r3)(me,$e.name))return me[$e.name];const Re=new Xe($e,_t);return me[$e.name]=Re,Re},app:bt,registerVersion:se.registerVersion,setLogLevel:se.setLogLevel,onLog:se.onLog,apps:null,SDK_VERSION:se.SDK_VERSION,INTERNAL:{registerComponent:function(Ot){const xe=Ot.name,$e=xe.replace("-compat","");if(se._registerComponent(Ot)&&"PUBLIC"===Ot.type){const Re=(Qe=bt())=>{if("function"!=typeof Qe[$e])throw de.create("invalid-app-argument",{appName:xe});return Qe[$e]()};void 0!==Ot.serviceProps&&(0,b.ZB)(Re,Ot.serviceProps),_t[$e]=Re,Xe.prototype[$e]=function(...Qe){return this._getService.bind(this,xe).apply(this,Ot.multipleInstances?Qe:[])}}return"PUBLIC"===Ot.type?_t[$e]:null},removeApp:function(Ot){delete me[Ot]},useAsService:function(Ot,xe){return"serverAuth"===xe?null:xe},modularAPIs:se}};function bt(Ot){if(!(0,b.r3)(me,Ot=Ot||se._DEFAULT_ENTRY_NAME))throw de.create("no-app",{appName:Ot});return me[Ot]}return _t.default=_t,Object.defineProperty(_t,"apps",{get:function(){return Object.keys(me).map(Ot=>me[Ot])}}),bt.App=Xe,_t}(L);return Xe.INTERNAL=Object.assign(Object.assign({},Xe.INTERNAL),{createFirebaseNamespace:J,extendNamespace:function(_t){(0,b.ZB)(Xe,_t)},createSubscribe:b.ne,ErrorFactory:b.LL,deepExtend:b.ZB}),Xe}(),ue=new oe.Yd("@firebase/app-compat");if((0,b.jU)()&&void 0!==self.firebase){ue.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Xe=self.firebase.SDK_VERSION;Xe&&Xe.indexOf("LITE")>=0&&ue.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Pe=Q;(0,se.registerVersion)("@firebase/app-compat","0.1.0",undefined);const Ze=Pe},5452:(yt,Me,R)=>{"use strict";R.r(Me),R.d(Me,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>Vn,_DEFAULT_ENTRY_NAME:()=>ot,_addComponent:()=>Yt,_addOrOverwriteComponent:()=>un,_apps:()=>ke,_clearComponents:()=>jn,_components:()=>Je,_getProvider:()=>tn,_registerComponent:()=>ln,_removeServiceInstance:()=>cr,deleteApp:()=>Ki,getApp:()=>Sr,getApps:()=>dr,initializeApp:()=>Er,onLog:()=>bn,registerVersion:()=>Qt,setLogLevel:()=>Qr});var b=R(8239),O=R(6034),se=R(300),oe=R(4685);class L{constructor(we){this.container=we}getPlatformInfoString(){return this.container.getProviders().map(Ce=>{if(function(qe){const we=qe.getComponent();return"VERSION"===(null==we?void 0:we.type)}(Ce)){const nt=Ce.getImmediate();return`${nt.library}/${nt.version}`}return null}).filter(Ce=>Ce).join(" ")}}const de="@firebase/app",J=new se.Yd("@firebase/app"),ot="[DEFAULT]",vt={[de]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ke=new Map,Je=new Map;function Yt(qe,we){try{qe.container.addComponent(we)}catch(Ce){J.debug(`Component ${we.name} failed to register with FirebaseApp ${qe.name}`,Ce)}}function un(qe,we){qe.container.addOrOverwriteComponent(we)}function ln(qe){const we=qe.name;if(Je.has(we))return J.debug(`There were multiple attempts to register component ${we}.`),!1;Je.set(we,qe);for(const Ce of ke.values())Yt(Ce,qe);return!0}function tn(qe,we){return qe.container.getProvider(we)}function cr(qe,we,Ce=ot){tn(qe,we).clearInstance(Ce)}function jn(){Je.clear()}const yn=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class qt{constructor(we,Ce,nt){this._isDeleted=!1,this._options=Object.assign({},we),this._config=Object.assign({},Ce),this._name=Ce.name,this._automaticDataCollectionEnabled=Ce.automaticDataCollectionEnabled,this._container=nt,this.container.addComponent(new O.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this.checkDestroyed(),this._automaticDataCollectionEnabled=we}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(we){this._isDeleted=we}checkDestroyed(){if(this.isDeleted)throw yn.create("app-deleted",{appName:this._name})}}const Vn="9.0.0";function Er(qe,we={}){"object"!=typeof we&&(we={name:we});const Ce=Object.assign({name:ot,automaticDataCollectionEnabled:!1},we),nt=Ce.name;if("string"!=typeof nt||!nt)throw yn.create("bad-app-name",{appName:String(nt)});const gt=ke.get(nt);if(gt){if((0,oe.vZ)(qe,gt.options)&&(0,oe.vZ)(Ce,gt.config))return gt;throw yn.create("duplicate-app",{appName:nt})}const Lt=new O.H0(nt);for(const Ft of Je.values())Lt.addComponent(Ft);const mt=new qt(qe,Ce,Lt);return ke.set(nt,mt),mt}function Sr(qe=ot){const we=ke.get(qe);if(!we)throw yn.create("no-app",{appName:qe});return we}function dr(){return Array.from(ke.values())}function Ki(qe){return mr.apply(this,arguments)}function mr(){return(mr=(0,b.Z)(function*(qe){const we=qe.name;ke.has(we)&&(ke.delete(we),yield Promise.all(qe.container.getProviders().map(Ce=>Ce.delete())),qe.isDeleted=!0)})).apply(this,arguments)}function Qt(qe,we,Ce){var nt;let gt=null!==(nt=vt[qe])&&void 0!==nt?nt:qe;Ce&&(gt+=`-${Ce}`);const Lt=gt.match(/\s|\//),mt=we.match(/\s|\//);if(Lt||mt){const Ft=[`Unable to register library "${gt}" with version "${we}":`];return Lt&&Ft.push(`library name "${gt}" contains illegal characters (whitespace or "/")`),Lt&&mt&&Ft.push("and"),mt&&Ft.push(`version name "${we}" contains illegal characters (whitespace or "/")`),void J.warn(Ft.join(" "))}ln(new O.wA(`${gt}-version`,()=>({library:gt,version:we}),"VERSION"))}function bn(qe,we){if(null!==qe&&"function"!=typeof qe)throw yn.create("invalid-log-argument");(0,se.Am)(qe,we)}function Qr(qe){(0,se.Ub)(qe)}ln(new O.wA("platform-logger",we=>new L(we),"PRIVATE")),Qt(de,"0.7.0",undefined),Qt("fire-js","")},6034:(yt,Me,R)=>{"use strict";R.d(Me,{wA:()=>se,H0:()=>q});var b=R(4762),O=R(4685),se=function(){function J(Q,ue,X){this.name=Q,this.instanceFactory=ue,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return J.prototype.setInstantiationMode=function(Q){return this.instantiationMode=Q,this},J.prototype.setMultipleInstances=function(Q){return this.multipleInstances=Q,this},J.prototype.setServiceProps=function(Q){return this.serviceProps=Q,this},J.prototype.setInstanceCreatedCallback=function(Q){return this.onInstanceCreated=Q,this},J}(),oe="[DEFAULT]",L=function(){function J(Q,ue){this.name=Q,this.container=ue,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return J.prototype.get=function(Q){var ue=this.normalizeInstanceIdentifier(Q);if(!this.instancesDeferred.has(ue)){var X=new O.BH;if(this.instancesDeferred.set(ue,X),this.isInitialized(ue)||this.shouldAutoInitialize())try{var fe=this.getOrInitializeService({instanceIdentifier:ue});fe&&X.resolve(fe)}catch(ye){}}return this.instancesDeferred.get(ue).promise},J.prototype.getImmediate=function(Q){var ue,X=this.normalizeInstanceIdentifier(null==Q?void 0:Q.identifier),fe=null!==(ue=null==Q?void 0:Q.optional)&&void 0!==ue&&ue;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if(fe)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(ye){if(fe)return null;throw ye}},J.prototype.getComponent=function(){return this.component},J.prototype.setComponent=function(Q){var ue,X;if(Q.name!==this.name)throw Error("Mismatching Component "+Q.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=Q,this.shouldAutoInitialize()){if(function(J){return"EAGER"===J.instantiationMode}(Q))try{this.getOrInitializeService({instanceIdentifier:oe})}catch(sn){}try{for(var fe=(0,b.XA)(this.instancesDeferred.entries()),ye=fe.next();!ye.done;ye=fe.next()){var Pe=(0,b.CR)(ye.value,2),Xe=Pe[1],me=this.normalizeInstanceIdentifier(Pe[0]);try{var _t=this.getOrInitializeService({instanceIdentifier:me});Xe.resolve(_t)}catch(sn){}}}catch(sn){ue={error:sn}}finally{try{ye&&!ye.done&&(X=fe.return)&&X.call(fe)}finally{if(ue)throw ue.error}}}},J.prototype.clearInstance=function(Q){void 0===Q&&(Q=oe),this.instancesDeferred.delete(Q),this.instancesOptions.delete(Q),this.instances.delete(Q)},J.prototype.delete=function(){return(0,b.mG)(this,void 0,void 0,function(){var Q;return(0,b.Jh)(this,function(ue){switch(ue.label){case 0:return Q=Array.from(this.instances.values()),[4,Promise.all((0,b.ev)((0,b.ev)([],(0,b.CR)(Q.filter(function(X){return"INTERNAL"in X}).map(function(X){return X.INTERNAL.delete()}))),(0,b.CR)(Q.filter(function(X){return"_delete"in X}).map(function(X){return X._delete()}))))];case 1:return ue.sent(),[2]}})})},J.prototype.isComponentSet=function(){return null!=this.component},J.prototype.isInitialized=function(Q){return void 0===Q&&(Q=oe),this.instances.has(Q)},J.prototype.getOptions=function(Q){return void 0===Q&&(Q=oe),this.instancesOptions.get(Q)||{}},J.prototype.initialize=function(Q){var ue,X;void 0===Q&&(Q={});var fe=Q.options,ye=void 0===fe?{}:fe,Pe=this.normalizeInstanceIdentifier(Q.instanceIdentifier);if(this.isInitialized(Pe))throw Error(this.name+"("+Pe+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var Ze=this.getOrInitializeService({instanceIdentifier:Pe,options:ye});try{for(var Xe=(0,b.XA)(this.instancesDeferred.entries()),me=Xe.next();!me.done;me=Xe.next()){var _t=(0,b.CR)(me.value,2),bt=_t[1];Pe===this.normalizeInstanceIdentifier(_t[0])&&bt.resolve(Ze)}}catch($t){ue={error:$t}}finally{try{me&&!me.done&&(X=Xe.return)&&X.call(Xe)}finally{if(ue)throw ue.error}}return Ze},J.prototype.onInit=function(Q,ue){var X,fe=this.normalizeInstanceIdentifier(ue),ye=null!==(X=this.onInitCallbacks.get(fe))&&void 0!==X?X:new Set;ye.add(Q),this.onInitCallbacks.set(fe,ye);var Pe=this.instances.get(fe);return Pe&&Q(Pe,fe),function(){ye.delete(Q)}},J.prototype.invokeOnInitCallbacks=function(Q,ue){var X,fe,ye=this.onInitCallbacks.get(ue);if(ye)try{for(var Pe=(0,b.XA)(ye),Ze=Pe.next();!Ze.done;Ze=Pe.next()){var Xe=Ze.value;try{Xe(Q,ue)}catch(me){}}}catch(me){X={error:me}}finally{try{Ze&&!Ze.done&&(fe=Pe.return)&&fe.call(Pe)}finally{if(X)throw X.error}}},J.prototype.getOrInitializeService=function(Q){var ue=Q.instanceIdentifier,X=Q.options,fe=void 0===X?{}:X,ye=this.instances.get(ue);if(!ye&&this.component&&(ye=this.component.instanceFactory(this.container,{instanceIdentifier:re(ue),options:fe}),this.instances.set(ue,ye),this.instancesOptions.set(ue,fe),this.invokeOnInitCallbacks(ye,ue),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ue,ye)}catch(Pe){}return ye||null},J.prototype.normalizeInstanceIdentifier=function(Q){return void 0===Q&&(Q=oe),this.component?this.component.multipleInstances?Q:oe:Q},J.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},J}();function re(J){return J===oe?void 0:J}var q=function(){function J(Q){this.name=Q,this.providers=new Map}return J.prototype.addComponent=function(Q){var ue=this.getProvider(Q.name);if(ue.isComponentSet())throw new Error("Component "+Q.name+" has already been registered with "+this.name);ue.setComponent(Q)},J.prototype.addOrOverwriteComponent=function(Q){this.getProvider(Q.name).isComponentSet()&&this.providers.delete(Q.name),this.addComponent(Q)},J.prototype.getProvider=function(Q){if(this.providers.has(Q))return this.providers.get(Q);var ue=new L(Q,this);return this.providers.set(Q,ue),ue},J.prototype.getProviders=function(){return Array.from(this.providers.values())},J}()},300:(yt,Me,R)=>{"use strict";function b(){for(var X=0,fe=0,ye=arguments.length;fe<ye;fe++)X+=arguments[fe].length;var Pe=Array(X),Ze=0;for(fe=0;fe<ye;fe++)for(var Xe=arguments[fe],me=0,_t=Xe.length;me<_t;me++,Ze++)Pe[Ze]=Xe[me];return Pe}R.d(Me,{in:()=>oe,Yd:()=>J,Ub:()=>Q,Am:()=>ue});var O,se=[],oe=(()=>{return(X=oe||(oe={}))[X.DEBUG=0]="DEBUG",X[X.VERBOSE=1]="VERBOSE",X[X.INFO=2]="INFO",X[X.WARN=3]="WARN",X[X.ERROR=4]="ERROR",X[X.SILENT=5]="SILENT",oe;var X})(),L={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},re=oe.INFO,de=((O={})[oe.DEBUG]="log",O[oe.VERBOSE]="log",O[oe.INFO]="info",O[oe.WARN]="warn",O[oe.ERROR]="error",O),q=function(X,fe){for(var ye=[],Pe=2;Pe<arguments.length;Pe++)ye[Pe-2]=arguments[Pe];if(!(fe<X.logLevel)){var Ze=(new Date).toISOString(),Xe=de[fe];if(!Xe)throw new Error("Attempted to log a message with an invalid logType (value: "+fe+")");console[Xe].apply(console,b(["["+Ze+"]  "+X.name+":"],ye))}},J=function(){function X(fe){this.name=fe,this._logLevel=re,this._logHandler=q,this._userLogHandler=null,se.push(this)}return Object.defineProperty(X.prototype,"logLevel",{get:function(){return this._logLevel},set:function(fe){if(!(fe in oe))throw new TypeError('Invalid value "'+fe+'" assigned to `logLevel`');this._logLevel=fe},enumerable:!1,configurable:!0}),X.prototype.setLogLevel=function(fe){this._logLevel="string"==typeof fe?L[fe]:fe},Object.defineProperty(X.prototype,"logHandler",{get:function(){return this._logHandler},set:function(fe){if("function"!=typeof fe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=fe},enumerable:!1,configurable:!0}),Object.defineProperty(X.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(fe){this._userLogHandler=fe},enumerable:!1,configurable:!0}),X.prototype.debug=function(){for(var fe=[],ye=0;ye<arguments.length;ye++)fe[ye]=arguments[ye];this._userLogHandler&&this._userLogHandler.apply(this,b([this,oe.DEBUG],fe)),this._logHandler.apply(this,b([this,oe.DEBUG],fe))},X.prototype.log=function(){for(var fe=[],ye=0;ye<arguments.length;ye++)fe[ye]=arguments[ye];this._userLogHandler&&this._userLogHandler.apply(this,b([this,oe.VERBOSE],fe)),this._logHandler.apply(this,b([this,oe.VERBOSE],fe))},X.prototype.info=function(){for(var fe=[],ye=0;ye<arguments.length;ye++)fe[ye]=arguments[ye];this._userLogHandler&&this._userLogHandler.apply(this,b([this,oe.INFO],fe)),this._logHandler.apply(this,b([this,oe.INFO],fe))},X.prototype.warn=function(){for(var fe=[],ye=0;ye<arguments.length;ye++)fe[ye]=arguments[ye];this._userLogHandler&&this._userLogHandler.apply(this,b([this,oe.WARN],fe)),this._logHandler.apply(this,b([this,oe.WARN],fe))},X.prototype.error=function(){for(var fe=[],ye=0;ye<arguments.length;ye++)fe[ye]=arguments[ye];this._userLogHandler&&this._userLogHandler.apply(this,b([this,oe.ERROR],fe)),this._logHandler.apply(this,b([this,oe.ERROR],fe))},X}();function Q(X){se.forEach(function(fe){fe.setLogLevel(X)})}function ue(X,fe){for(var ye=function(me){var _t=null;fe&&fe.level&&(_t=L[fe.level]),me.userLogHandler=null===X?null:function(sn,bt){for(var Ge=[],$t=2;$t<arguments.length;$t++)Ge[$t-2]=arguments[$t];var We=Ge.map(function(Rt){if(null==Rt)return null;if("string"==typeof Rt)return Rt;if("number"==typeof Rt||"boolean"==typeof Rt)return Rt.toString();if(Rt instanceof Error)return Rt.message;try{return JSON.stringify(Rt)}catch(Ot){return null}}).filter(function(Rt){return Rt}).join(" ");bt>=(null!=_t?_t:sn.logLevel)&&X({level:oe[bt].toLowerCase(),message:We,args:Ge,type:sn.name})}},Pe=0,Ze=se;Pe<Ze.length;Pe++)ye(Ze[Pe])}},4685:(yt,Me,R)=>{"use strict";R.d(Me,{BH:()=>ye,LL:()=>Dt,ZR:()=>Ne,tV:()=>Q,r3:()=>cr,Sg:()=>Pe,ne:()=>mr,vZ:()=>qt,ZB:()=>X,pd:()=>dr,m9:()=>en,z$:()=>Ze,jU:()=>_t,ru:()=>sn,d:()=>Ge,xb:()=>qn,w1:()=>$t,hl:()=>xe,uI:()=>Xe,UG:()=>me,b$:()=>bt,G6:()=>Ot,Mn:()=>We,xO:()=>Er,zd:()=>Sr});var b=R(4762),L=function(ve){for(var be=[],Ve=0,ze=0;ze<ve.length;ze++){var He=ve.charCodeAt(ze);He<128?be[Ve++]=He:He<2048?(be[Ve++]=He>>6|192,be[Ve++]=63&He|128):55296==(64512&He)&&ze+1<ve.length&&56320==(64512&ve.charCodeAt(ze+1))?(He=65536+((1023&He)<<10)+(1023&ve.charCodeAt(++ze)),be[Ve++]=He>>18|240,be[Ve++]=He>>12&63|128,be[Ve++]=He>>6&63|128,be[Ve++]=63&He|128):(be[Ve++]=He>>12|224,be[Ve++]=He>>6&63|128,be[Ve++]=63&He|128)}return be},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(ve,be){if(!Array.isArray(ve))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var Ve=be?this.byteToCharMapWebSafe_:this.byteToCharMap_,ze=[],He=0;He<ve.length;He+=3){var Mt=ve[He],Nt=He+1<ve.length,wn=Nt?ve[He+1]:0,Rn=He+2<ve.length,_n=Rn?ve[He+2]:0,rt=(15&wn)<<2|_n>>6,et=63&_n;Rn||(et=64,Nt||(rt=64)),ze.push(Ve[Mt>>2],Ve[(3&Mt)<<4|wn>>4],Ve[rt],Ve[et])}return ze.join("")},encodeString:function(ve,be){return this.HAS_NATIVE_SUPPORT&&!be?btoa(ve):this.encodeByteArray(L(ve),be)},decodeString:function(ve,be){return this.HAS_NATIVE_SUPPORT&&!be?atob(ve):function(ve){for(var be=[],Ve=0,ze=0;Ve<ve.length;){var He=ve[Ve++];if(He<128)be[ze++]=String.fromCharCode(He);else if(He>191&&He<224){var Mt=ve[Ve++];be[ze++]=String.fromCharCode((31&He)<<6|63&Mt)}else if(He>239&&He<365){var Rn=((7&He)<<18|(63&(Mt=ve[Ve++]))<<12|(63&(Nt=ve[Ve++]))<<6|63&ve[Ve++])-65536;be[ze++]=String.fromCharCode(55296+(Rn>>10)),be[ze++]=String.fromCharCode(56320+(1023&Rn))}else{Mt=ve[Ve++];var Nt=ve[Ve++];be[ze++]=String.fromCharCode((15&He)<<12|(63&Mt)<<6|63&Nt)}}return be.join("")}(this.decodeStringToByteArray(ve,be))},decodeStringToByteArray:function(ve,be){this.init_();for(var Ve=be?this.charToByteMapWebSafe_:this.charToByteMap_,ze=[],He=0;He<ve.length;){var Mt=Ve[ve.charAt(He++)],wn=He<ve.length?Ve[ve.charAt(He)]:0,_n=++He<ve.length?Ve[ve.charAt(He)]:64,Pr=++He<ve.length?Ve[ve.charAt(He)]:64;if(++He,null==Mt||null==wn||null==_n||null==Pr)throw Error();ze.push(Mt<<2|wn>>4),64!==_n&&(ze.push(wn<<4&240|_n>>2),64!==Pr&&ze.push(_n<<6&192|Pr))}return ze},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var ve=0;ve<this.ENCODED_VALS.length;ve++)this.byteToCharMap_[ve]=this.ENCODED_VALS.charAt(ve),this.charToByteMap_[this.byteToCharMap_[ve]]=ve,this.byteToCharMapWebSafe_[ve]=this.ENCODED_VALS_WEBSAFE.charAt(ve),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ve]]=ve,ve>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ve)]=ve,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ve)]=ve)}}},J=function(ve){return function(ve){var be=L(ve);return de.encodeByteArray(be,!0)}(ve).replace(/\./g,"")},Q=function(ve){try{return de.decodeString(ve,!0)}catch(be){console.error("base64Decode failed: ",be)}return null};function X(ve,be){if(!(be instanceof Object))return be;switch(be.constructor){case Date:return new Date(be.getTime());case Object:void 0===ve&&(ve={});break;case Array:ve=[];break;default:return be}for(var ze in be)!be.hasOwnProperty(ze)||!fe(ze)||(ve[ze]=X(ve[ze],be[ze]));return ve}function fe(ve){return"__proto__"!==ve}var ye=function(){function ve(){var be=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(Ve,ze){be.resolve=Ve,be.reject=ze})}return ve.prototype.wrapCallback=function(be){var Ve=this;return function(ze,He){ze?Ve.reject(ze):Ve.resolve(He),"function"==typeof be&&(Ve.promise.catch(function(){}),1===be.length?be(ze):be(ze,He))}},ve}();function Pe(ve,be){if(ve.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var ze=be||"demo-project",He=ve.iat||0,Mt=ve.sub||ve.user_id;if(!Mt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var Nt=(0,b.pi)({iss:"https://securetoken.google.com/"+ze,aud:ze,iat:He,exp:He+3600,auth_time:He,sub:Mt,user_id:Mt,firebase:{sign_in_provider:"custom",identities:{}}},ve);return[J(JSON.stringify({alg:"none",type:"JWT"})),J(JSON.stringify(Nt)),""].join(".")}function Ze(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Xe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function me(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ve){return!1}}function _t(){return"object"==typeof self&&self.self===self}function sn(){var ve="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ve&&void 0!==ve.id}function bt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ge(){return Ze().indexOf("Electron/")>=0}function $t(){var ve=Ze();return ve.indexOf("MSIE ")>=0||ve.indexOf("Trident/")>=0}function We(){return Ze().indexOf("MSAppHost/")>=0}function Ot(){return!me()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xe(){return"indexedDB"in self&&null!=indexedDB}var Ne=function(ve){function be(Ve,ze,He){var Mt=ve.call(this,ze)||this;return Mt.code=Ve,Mt.customData=He,Mt.name="FirebaseError",Object.setPrototypeOf(Mt,be.prototype),Error.captureStackTrace&&Error.captureStackTrace(Mt,Dt.prototype.create),Mt}return(0,b.ZT)(be,ve),be}(Error),Dt=function(){function ve(be,Ve,ze){this.service=be,this.serviceName=Ve,this.errors=ze}return ve.prototype.create=function(be){for(var Ve=[],ze=1;ze<arguments.length;ze++)Ve[ze-1]=arguments[ze];var He=Ve[0]||{},Mt=this.service+"/"+be,Nt=this.errors[be],wn=Nt?Zt(Nt,He):"Error",Rn=this.serviceName+": "+wn+" ("+Mt+").",_n=new Ne(Mt,Rn,He);return _n},ve}();function Zt(ve,be){return ve.replace(ot,function(Ve,ze){var He=be[ze];return null!=He?String(He):"<"+ze+"?>"})}var ot=/\{\$([^}]+)}/g;function cr(ve,be){return Object.prototype.hasOwnProperty.call(ve,be)}function qn(ve){for(var be in ve)if(Object.prototype.hasOwnProperty.call(ve,be))return!1;return!0}function qt(ve,be){if(ve===be)return!0;for(var Ve=Object.keys(ve),ze=Object.keys(be),He=0,Mt=Ve;He<Mt.length;He++){if(!ze.includes(Nt=Mt[He]))return!1;var wn=ve[Nt],Rn=be[Nt];if(Vn(wn)&&Vn(Rn)){if(!qt(wn,Rn))return!1}else if(wn!==Rn)return!1}for(var _n=0,br=ze;_n<br.length;_n++){var Nt;if(!Ve.includes(Nt=br[_n]))return!1}return!0}function Vn(ve){return null!==ve&&"object"==typeof ve}function Er(ve){for(var be=[],Ve=function(Rn,_n){Array.isArray(_n)?_n.forEach(function(br){be.push(encodeURIComponent(Rn)+"="+encodeURIComponent(br))}):be.push(encodeURIComponent(Rn)+"="+encodeURIComponent(_n))},ze=0,He=Object.entries(ve);ze<He.length;ze++){var Mt=He[ze];Ve(Mt[0],Mt[1])}return be.length?"&"+be.join("&"):""}function Sr(ve){var be={};return ve.replace(/^\?/,"").split("&").forEach(function(ze){if(ze){var He=ze.split("="),Nt=He[1];be[decodeURIComponent(He[0])]=decodeURIComponent(Nt)}}),be}function dr(ve){var be=ve.indexOf("?");if(!be)return"";var Ve=ve.indexOf("#",be);return ve.substring(be,Ve>0?Ve:void 0)}function mr(ve,be){var Ve=new Qt(ve,be);return Ve.subscribe.bind(Ve)}!function(){function ve(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var be=1;be<this.blockSize;++be)this.pad_[be]=0;this.reset()}ve.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},ve.prototype.compress_=function(be,Ve){Ve||(Ve=0);var ze=this.W_;if("string"==typeof be)for(var He=0;He<16;He++)ze[He]=be.charCodeAt(Ve)<<24|be.charCodeAt(Ve+1)<<16|be.charCodeAt(Ve+2)<<8|be.charCodeAt(Ve+3),Ve+=4;else for(He=0;He<16;He++)ze[He]=be[Ve]<<24|be[Ve+1]<<16|be[Ve+2]<<8|be[Ve+3],Ve+=4;for(He=16;He<80;He++)ze[He]=4294967295&((Mt=ze[He-3]^ze[He-8]^ze[He-14]^ze[He-16])<<1|Mt>>>31);var Pr,rt,Nt=this.chain_[0],wn=this.chain_[1],Rn=this.chain_[2],_n=this.chain_[3],br=this.chain_[4];for(He=0;He<80;He++){He<40?He<20?(Pr=_n^wn&(Rn^_n),rt=1518500249):(Pr=wn^Rn^_n,rt=1859775393):He<60?(Pr=wn&Rn|_n&(wn|Rn),rt=2400959708):(Pr=wn^Rn^_n,rt=3395469782);var Mt=(Nt<<5|Nt>>>27)+Pr+br+rt+ze[He]&4294967295;br=_n,_n=Rn,Rn=4294967295&(wn<<30|wn>>>2),wn=Nt,Nt=Mt}this.chain_[0]=this.chain_[0]+Nt&4294967295,this.chain_[1]=this.chain_[1]+wn&4294967295,this.chain_[2]=this.chain_[2]+Rn&4294967295,this.chain_[3]=this.chain_[3]+_n&4294967295,this.chain_[4]=this.chain_[4]+br&4294967295},ve.prototype.update=function(be,Ve){if(null!=be){void 0===Ve&&(Ve=be.length);for(var ze=Ve-this.blockSize,He=0,Mt=this.buf_,Nt=this.inbuf_;He<Ve;){if(0===Nt)for(;He<=ze;)this.compress_(be,He),He+=this.blockSize;if("string"==typeof be){for(;He<Ve;)if(Mt[Nt]=be.charCodeAt(He),++He,++Nt===this.blockSize){this.compress_(Mt),Nt=0;break}}else for(;He<Ve;)if(Mt[Nt]=be[He],++He,++Nt===this.blockSize){this.compress_(Mt),Nt=0;break}}this.inbuf_=Nt,this.total_+=Ve}},ve.prototype.digest=function(){var be=[],Ve=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var ze=this.blockSize-1;ze>=56;ze--)this.buf_[ze]=255&Ve,Ve/=256;this.compress_(this.buf_);var He=0;for(ze=0;ze<5;ze++)for(var Mt=24;Mt>=0;Mt-=8)be[He]=this.chain_[ze]>>Mt&255,++He;return be}}();var Qt=function(){function ve(be,Ve){var ze=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ve,this.task.then(function(){be(ze)}).catch(function(He){ze.error(He)})}return ve.prototype.next=function(be){this.forEachObserver(function(Ve){Ve.next(be)})},ve.prototype.error=function(be){this.forEachObserver(function(Ve){Ve.error(be)}),this.close(be)},ve.prototype.complete=function(){this.forEachObserver(function(be){be.complete()}),this.close()},ve.prototype.subscribe=function(be,Ve,ze){var Mt,He=this;if(void 0===be&&void 0===Ve&&void 0===ze)throw new Error("Missing Observer.");void 0===(Mt=function(ve,be){if("object"!=typeof ve||null===ve)return!1;for(var Ve=0,ze=["next","error","complete"];Ve<ze.length;Ve++){var He=ze[Ve];if(He in ve&&"function"==typeof ve[He])return!0}return!1}(be)?be:{next:be,error:Ve,complete:ze}).next&&(Mt.next=ur),void 0===Mt.error&&(Mt.error=ur),void 0===Mt.complete&&(Mt.complete=ur);var Nt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{He.finalError?Mt.error(He.finalError):Mt.complete()}catch(wn){}}),this.observers.push(Mt),Nt},ve.prototype.unsubscribeOne=function(be){void 0===this.observers||void 0===this.observers[be]||(delete this.observers[be],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},ve.prototype.forEachObserver=function(be){if(!this.finalized)for(var Ve=0;Ve<this.observers.length;Ve++)this.sendOne(Ve,be)},ve.prototype.sendOne=function(be,Ve){var ze=this;this.task.then(function(){if(void 0!==ze.observers&&void 0!==ze.observers[be])try{Ve(ze.observers[be])}catch(He){"undefined"!=typeof console&&console.error&&console.error(He)}})},ve.prototype.close=function(be){var Ve=this;this.finalized||(this.finalized=!0,void 0!==be&&(this.finalError=be),this.task.then(function(){Ve.observers=void 0,Ve.onNoObservers=void 0}))},ve}();function ur(){}function en(ve){return ve&&ve._delegate?ve._delegate:ve}},6300:(yt,Me,R)=>{"use strict";R.r(Me);var b=R(8239),O=R(4486),se=R(4685),oe=R(5452),L=R(4762),re=R(300),de=R(6034);const Pe=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Xe=new se.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),_t=new re.Yd("@firebase/auth");function sn(C,...g){_t.logLevel<=re.in.ERROR&&_t.error(`Auth (${oe.SDK_VERSION}): ${C}`,...g)}function bt(C,...g){throw $t(C,...g)}function Ge(C,...g){return $t(C,...g)}function $t(C,...g){if("string"!=typeof C){const m=g[0],S=[...g.slice(1)];return S[0]&&(S[0].appName=C.name),C._errorFactory.create(m,...S)}return Xe.create(C,...g)}function We(C,g,...m){if(!C)throw $t(g,...m)}function Rt(C){const g="INTERNAL ASSERTION FAILED: "+C;throw sn(g),new Error(g)}function Ot(C,g){C||Rt(g)}const xe=new Map;function $e(C){Ot(C instanceof Function,"Expected a class definition");let g=xe.get(C);return g?(Ot(g instanceof C,"Instance stored in cache mismatched with class"),g):(g=new C,xe.set(C,g),g)}function Ye(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function Ne(){return"http:"===Dt()||"https:"===Dt()}function Dt(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class vt{constructor(g,m){this.shortDelay=g,this.longDelay=m,Ot(m>g,"Short delay should be less than long delay!"),this.isMobile=(0,se.uI)()||(0,se.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ne()||(0,se.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function ke(C,g){Ot(C.emulator,"Emulator should always be set here");const{url:m}=C.emulator;return g?`${m}${g.startsWith("/")?g.slice(1):g}`:m}class Je{static initialize(g,m,S){this.fetchImpl=g,m&&(this.headersImpl=m),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Rt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Rt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Rt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Yt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded"},un=new vt(3e4,6e4);function ln(C,g){return C.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:C.tenantId}):g}function tn(C,g,m,S){return cr.apply(this,arguments)}function cr(){return(cr=(0,b.Z)(function*(C,g,m,S,z={}){return jn(C,z,()=>{let ce={},Fe={};S&&("GET"===g?Fe=S:ce={body:JSON.stringify(S)});const dt=(0,se.xO)(Object.assign({key:C.config.apiKey},Fe)).slice(1),Ut=new(Je.headers());return Ut.set("Content-Type","application/json"),Ut.set("X-Client-Version",C._getSdkClientVersion()),C.languageCode&&Ut.set("X-Firebase-Locale",C.languageCode),Je.fetch()(Vn(C,C.config.apiHost,m,dt),Object.assign({method:g,headers:Ut,referrerPolicy:"no-referrer"},ce))})})).apply(this,arguments)}function jn(C,g,m){return qn.apply(this,arguments)}function qn(){return(qn=(0,b.Z)(function*(C,g,m){C._canInitEmulator=!1;const S=Object.assign(Object.assign({},Yt),g);try{const z=new Er(C),ce=yield Promise.race([m(),z.promise]);z.clearNetworkTimeout();const Fe=yield ce.json();if("needConfirmation"in Fe)throw Sr(C,"account-exists-with-different-credential",Fe);if(ce.ok&&!("errorMessage"in Fe))return Fe;{const Ut=(ce.ok?Fe.errorMessage:Fe.error.message).split(" : ")[0];if("FEDERATED_USER_ID_ALREADY_LINKED"===Ut)throw Sr(C,"credential-already-in-use",Fe);if("EMAIL_EXISTS"===Ut)throw Sr(C,"email-already-in-use",Fe);bt(C,S[Ut]||Ut.toLowerCase().replace(/[_\s]+/g,"-"))}}catch(z){if(z instanceof se.ZR)throw z;bt(C,"network-request-failed")}})).apply(this,arguments)}function yn(C,g,m,S){return qt.apply(this,arguments)}function qt(){return(qt=(0,b.Z)(function*(C,g,m,S,z={}){const ce=yield tn(C,g,m,S,z);return"mfaPendingCredential"in ce&&bt(C,"multi-factor-auth-required",{serverResponse:ce}),ce})).apply(this,arguments)}function Vn(C,g,m,S){const z=`${g}${m}?${S}`;return C.config.emulator?ke(C.config,z):`${C.config.apiScheme}://${z}`}class Er{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((m,S)=>{this.timer=setTimeout(()=>S(Ge(this.auth,"timeout")),un.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Sr(C,g,m){const S={appName:C.name};m.email&&(S.email=m.email),m.phoneNumber&&(S.phoneNumber=m.phoneNumber);const z=Ge(C,g,S);return z.customData._tokenResponse=m,z}function Ki(){return(Ki=(0,b.Z)(function*(C,g){return tn(C,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function mr(C,g){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,b.Z)(function*(C,g){return tn(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function bn(C,g){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,b.Z)(function*(C,g){return tn(C,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function ur(C){if(C)try{const g=new Date(Number(C));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function Ce(){return(Ce=(0,b.Z)(function*(C,g=!1){const m=(0,se.m9)(C),S=yield m.getIdToken(g),z=gt(S);We(z&&z.exp&&z.auth_time&&z.iat,m.auth,"internal-error");const ce="object"==typeof z.firebase?z.firebase:void 0,Fe=null==ce?void 0:ce.sign_in_provider;return{claims:z,token:S,authTime:ur(nt(z.auth_time)),issuedAtTime:ur(nt(z.iat)),expirationTime:ur(nt(z.exp)),signInProvider:Fe||null,signInSecondFactor:(null==ce?void 0:ce.sign_in_second_factor)||null}})).apply(this,arguments)}function nt(C){return 1e3*Number(C)}function gt(C){const[g,m,S]=C.split(".");if(void 0===g||void 0===m||void 0===S)return sn("JWT malformed, contained fewer than 3 sections"),null;try{const z=(0,se.tV)(m);return z?JSON.parse(z):(sn("Failed to decode base64 JWT payload"),null)}catch(z){return sn("Caught error parsing JWT payload as JSON",z),null}}function mt(C,g){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,b.Z)(function*(C,g,m=!1){if(m)return g;try{return yield g}catch(S){throw S instanceof se.ZR&&On(S)&&C.auth.currentUser===C&&(yield C.auth.signOut()),S}})).apply(this,arguments)}function On({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class Cr{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var m;if(g){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const z=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,z)}}schedule(g=!1){var m=this;if(!this.isRunning)return;const S=this.getInterval(g);this.timerId=setTimeout((0,b.Z)(function*(){yield m.iteration()}),S)}iteration(){var g=this;return(0,b.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&g.schedule(!0))}g.schedule()})()}}class Ar{constructor(g,m){this.createdAt=g,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=ur(this.lastLoginAt),this.creationTime=ur(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function An(C){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,b.Z)(function*(C){var g;const m=C.auth,S=yield C.getIdToken(),z=yield mt(C,bn(m,{idToken:S}));We(null==z?void 0:z.users.length,m,"internal-error");const ce=z.users[0];C._notifyReloadListener(ce);const Fe=(null===(g=ce.providerUserInfo)||void 0===g?void 0:g.length)?be(ce.providerUserInfo):[],dt=ve(C.providerData,Fe),fn=!!C.isAnonymous&&!(C.email&&ce.passwordHash||(null==dt?void 0:dt.length)),Mn={uid:ce.localId,displayName:ce.displayName||null,photoURL:ce.photoUrl||null,email:ce.email||null,emailVerified:ce.emailVerified||!1,phoneNumber:ce.phoneNumber||null,tenantId:ce.tenantId||null,providerData:dt,metadata:new Ar(ce.createdAt,ce.lastLoginAt),isAnonymous:fn};Object.assign(C,Mn)})).apply(this,arguments)}function en(){return(en=(0,b.Z)(function*(C){const g=(0,se.m9)(C);yield An(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function ve(C,g){return[...C.filter(S=>!g.some(z=>z.providerId===S.providerId)),...g]}function be(C){return C.map(g=>{var{providerId:m}=g,S=(0,L._T)(g,["providerId"]);return{providerId:m,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}function ze(){return(ze=(0,b.Z)(function*(C,g){const m=yield jn(C,{},()=>{const S=(0,se.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:z,apiKey:ce}=C.config,Fe=Vn(C,z,"/v1/token",`key=${ce}`);return Je.fetch()(Fe,{method:"POST",headers:{"X-Client-Version":C._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:S})});return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class He{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){We(g.idToken,"internal-error"),We(void 0!==g.idToken,"internal-error"),We(void 0!==g.refreshToken,"internal-error");const m="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function(C){const g=gt(C);return We(g,"internal-error"),We(void 0!==g.exp,"internal-error"),We(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,m)}getToken(g,m=!1){var S=this;return(0,b.Z)(function*(){return We(!S.accessToken||S.refreshToken,g,"user-token-expired"),m||!S.accessToken||S.isExpired?S.refreshToken?(yield S.refresh(g,S.refreshToken),S.accessToken):null:S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,m){var S=this;return(0,b.Z)(function*(){const{accessToken:z,refreshToken:ce,expiresIn:Fe}=yield function(C,g){return ze.apply(this,arguments)}(g,m);S.updateTokensAndExpiration(z,ce,Number(Fe))})()}updateTokensAndExpiration(g,m,S){this.refreshToken=m||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(g,m){const{refreshToken:S,accessToken:z,expirationTime:ce}=m,Fe=new He;return S&&(We("string"==typeof S,"internal-error",{appName:g}),Fe.refreshToken=S),z&&(We("string"==typeof z,"internal-error",{appName:g}),Fe.accessToken=z),ce&&(We("number"==typeof ce,"internal-error",{appName:g}),Fe.expirationTime=ce),Fe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new He,this.toJSON())}_performRefresh(){return Rt("not implemented")}}function Mt(C,g){We("string"==typeof C||void 0===C,"internal-error",{appName:g})}class Nt{constructor(g){var{uid:m,auth:S,stsTokenManager:z}=g,ce=(0,L._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Cr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=S,this.stsTokenManager=z,this.accessToken=z.accessToken,this.displayName=ce.displayName||null,this.email=ce.email||null,this.phoneNumber=ce.phoneNumber||null,this.photoURL=ce.photoURL||null,this.isAnonymous=ce.isAnonymous||!1,this.metadata=new Ar(ce.createdAt||void 0,ce.lastLoginAt||void 0)}getIdToken(g){var m=this;return(0,b.Z)(function*(){const S=yield mt(m,m.stsTokenManager.getToken(m.auth,g));return We(S,m.auth,"internal-error"),m.accessToken!==S&&(m.accessToken=S,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),S})()}getIdTokenResult(g){return function(C){return Ce.apply(this,arguments)}(this,g)}reload(){return function(C){return en.apply(this,arguments)}(this)}_assign(g){this!==g&&(We(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(m=>Object.assign({},m)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new Nt(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){We(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,m=!1){var S=this;return(0,b.Z)(function*(){let z=!1;g.idToken&&g.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(g),z=!0),m&&(yield An(S)),yield S.auth._persistUserIfCurrent(S),z&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var g=this;return(0,b.Z)(function*(){const m=yield g.getIdToken();return yield mt(g,function(C,g){return Ki.apply(this,arguments)}(g.auth,{idToken:m})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,m){var S,z,ce,Fe,dt,Ut,an,fn;const Mn=null!==(S=m.displayName)&&void 0!==S?S:void 0,is=null!==(z=m.email)&&void 0!==z?z:void 0,ea=null!==(ce=m.phoneNumber)&&void 0!==ce?ce:void 0,At=null!==(Fe=m.photoURL)&&void 0!==Fe?Fe:void 0,Uc=null!==(dt=m.tenantId)&&void 0!==dt?dt:void 0,So=null!==(Ut=m._redirectEventId)&&void 0!==Ut?Ut:void 0,Sh=null!==(an=m.createdAt)&&void 0!==an?an:void 0,Cl=null!==(fn=m.lastLoginAt)&&void 0!==fn?fn:void 0,{uid:ru,emailVerified:qu,isAnonymous:Us,providerData:Dd,stsTokenManager:Td}=m;We(ru&&Td,g,"internal-error");const Sd=He.fromJSON(this.name,Td);We("string"==typeof ru,g,"internal-error"),Mt(Mn,g.name),Mt(is,g.name),We("boolean"==typeof qu,g,"internal-error"),We("boolean"==typeof Us,g,"internal-error"),Mt(ea,g.name),Mt(At,g.name),Mt(Uc,g.name),Mt(So,g.name),Mt(Sh,g.name),Mt(Cl,g.name);const lo=new Nt({uid:ru,auth:g,email:is,emailVerified:qu,displayName:Mn,isAnonymous:Us,photoURL:At,phoneNumber:ea,tenantId:Uc,stsTokenManager:Sd,createdAt:Sh,lastLoginAt:Cl});return Dd&&Array.isArray(Dd)&&(lo.providerData=Dd.map(ta=>Object.assign({},ta))),So&&(lo._redirectEventId=So),lo}static _fromIdTokenResponse(g,m,S=!1){return(0,b.Z)(function*(){const z=new He;z.updateFromServerResponse(m);const ce=new Nt({uid:m.localId,auth:g,stsTokenManager:z,isAnonymous:S});return yield An(ce),ce})()}}const Rn=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,b.Z)(function*(){return!0})()}_set(m,S){var z=this;return(0,b.Z)(function*(){z.storage[m]=S})()}_get(m){var S=this;return(0,b.Z)(function*(){const z=S.storage[m];return void 0===z?null:z})()}_remove(m){var S=this;return(0,b.Z)(function*(){delete S.storage[m]})()}_addListener(m,S){}_removeListener(m,S){}}return C.type="NONE",C})();function _n(C,g,m){return`firebase:${C}:${g}:${m}`}class br{constructor(g,m,S){this.persistence=g,this.auth=m,this.userKey=S;const{config:z,name:ce}=this.auth;this.fullUserKey=_n(this.userKey,z.apiKey,ce),this.fullPersistenceKey=_n("persistence",z.apiKey,ce),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,b.Z)(function*(){const m=yield g.persistence._get(g.fullUserKey);return m?Nt._fromJSON(g.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var m=this;return(0,b.Z)(function*(){if(m.persistence===g)return;const S=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=g,S?m.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,m,S="authUser"){return(0,b.Z)(function*(){if(!m.length)return new br($e(Rn),g,S);const z=(yield Promise.all(m.map(function(){var an=(0,b.Z)(function*(fn){if(yield fn._isAvailable())return fn});return function(fn){return an.apply(this,arguments)}}()))).filter(an=>an);let ce=z[0]||$e(Rn);const Fe=_n(S,g.config.apiKey,g.name);let dt=null;for(const an of m)try{const fn=yield an._get(Fe);if(fn){const Mn=Nt._fromJSON(g,fn);an!==ce&&(dt=Mn),ce=an;break}}catch(fn){}const Ut=z.filter(an=>an._shouldAllowMigration);return ce._shouldAllowMigration&&Ut.length?(ce=Ut[0],dt&&(yield ce._set(Fe,dt.toJSON())),yield Promise.all(m.map(function(){var an=(0,b.Z)(function*(fn){if(fn!==ce)try{yield fn._remove(Fe)}catch(Mn){}});return function(fn){return an.apply(this,arguments)}}())),new br(ce,g,S)):new br(ce,g,S)})()}}function Pr(C){const g=C.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(St(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(rt(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Kt(g))return"Blackberry";if(Tn(g))return"Webos";if(et(g))return"Safari";if((g.includes("chrome/")||it(g))&&!g.includes("edge/"))return"Chrome";if(Tt(g))return"Android";{const S=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==S?void 0:S.length))return S[1]}return"Other"}function rt(C=(0,se.z$)()){return/firefox\//i.test(C)}function et(C=(0,se.z$)()){const g=C.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function it(C=(0,se.z$)()){return/crios\//i.test(C)}function St(C=(0,se.z$)()){return/iemobile/i.test(C)}function Tt(C=(0,se.z$)()){return/android/i.test(C)}function Kt(C=(0,se.z$)()){return/blackberry/i.test(C)}function Tn(C=(0,se.z$)()){return/webos/i.test(C)}function Xt(C=(0,se.z$)()){return/iphone|ipad|ipod/i.test(C)}function Si(C=(0,se.z$)()){return Xt(C)||Tt(C)||Tn(C)||Kt(C)||/windows phone/i.test(C)||St(C)}function Ht(C,g=[]){let m;switch(C){case"Browser":m=Pr((0,se.z$)());break;case"Worker":m=`${Pr((0,se.z$)())}-${C}`;break;default:m=C}const S=g.length?g.join(","):"FirebaseCore-web";return`${m}/JsCore/${oe.SDK_VERSION}/${S}`}class Pn{constructor(g,m){this.app=g,this.config=m,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jr(this),this.idTokenSubscription=new Jr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=m.sdkClientVersion}_initializeWithPersistence(g,m){var S=this;return m&&(this._popupRedirectResolver=$e(m)),this._initializationPromise=this.queue((0,b.Z)(function*(){var z;S._deleted||(S.persistenceManager=yield br.create(S,g),!S._deleted&&((null===(z=S._popupRedirectResolver)||void 0===z?void 0:z._shouldInitProactively)&&(yield S._popupRedirectResolver._initialize(S)),yield S.initializeCurrentUser(m),!S._deleted&&(S._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,b.Z)(function*(){if(g._deleted)return;const m=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||m){if(g.currentUser&&m&&g.currentUser.uid===m.uid)return g._currentUser._assign(m),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(m)}})()}initializeCurrentUser(g){var m=this;return(0,b.Z)(function*(){var S;let z=yield m.assertedPersistence.getCurrentUser();if(g&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const ce=null===(S=m.redirectUser)||void 0===S?void 0:S._redirectEventId,Fe=null==z?void 0:z._redirectEventId,dt=yield m.tryRedirectSignIn(g);(!ce||ce===Fe)&&(null==dt?void 0:dt.user)&&(z=dt.user)}return z?z._redirectEventId?(We(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===z._redirectEventId?m.directlySetCurrentUser(z):m.reloadAndSetCurrentUserOrClear(z)):m.reloadAndSetCurrentUserOrClear(z):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(g){var m=this;return(0,b.Z)(function*(){let S=null;try{S=yield m._popupRedirectResolver._completeRedirectFn(m,g,!0)}catch(z){yield m._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(g){var m=this;return(0,b.Z)(function*(){try{yield An(g)}catch(S){if("auth/network-request-failed"!==S.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var g=this;return(0,b.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var m=this;return(0,b.Z)(function*(){const S=g?(0,se.m9)(g):null;return S&&We(S.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(S&&S._clone(m))})()}_updateCurrentUser(g){var m=this;return(0,b.Z)(function*(){if(!m._deleted)return g&&We(m.tenantId===g.tenantId,m,"tenant-id-mismatch"),m.queue((0,b.Z)(function*(){yield m.directlySetCurrentUser(g),m.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,b.Z)(function*(){return(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null)})()}setPersistence(g){var m=this;return this.queue((0,b.Z)(function*(){yield m.assertedPersistence.setPersistence($e(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new se.LL("auth","Firebase",g())}onAuthStateChanged(g,m,S){return this.registerStateListener(this.authStateSubscription,g,m,S)}onIdTokenChanged(g,m,S){return this.registerStateListener(this.idTokenSubscription,g,m,S)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,m){var S=this;return(0,b.Z)(function*(){const z=yield S.getOrInitRedirectPersistenceManager(m);return null===g?z.removeCurrentUser():z.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var m=this;return(0,b.Z)(function*(){if(!m.redirectPersistenceManager){const S=g&&$e(g)||m._popupRedirectResolver;We(S,m,"argument-error"),m.redirectPersistenceManager=yield br.create(m,[$e(S._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(g){var m=this;return(0,b.Z)(function*(){var S,z;return m._isInitialized&&(yield m.queue((0,b.Z)(function*(){}))),(null===(S=m._currentUser)||void 0===S?void 0:S._redirectEventId)===g?m._currentUser:(null===(z=m.redirectUser)||void 0===z?void 0:z._redirectEventId)===g?m.redirectUser:null})()}_persistUserIfCurrent(g){var m=this;return(0,b.Z)(function*(){if(g===m.currentUser)return m.queue((0,b.Z)(function*(){return m.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(m=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,m,S,z){if(this._deleted)return()=>{};const ce="function"==typeof m?m:m.next.bind(m),Fe=this._isInitialized?Promise.resolve():this._initializationPromise;return We(Fe,this,"internal-error"),Fe.then(()=>ce(this.currentUser)),"function"==typeof m?g.addObserver(m,S,z):g.addObserver(m)}directlySetCurrentUser(g){var m=this;return(0,b.Z)(function*(){m.currentUser&&m.currentUser!==g&&(m._currentUser._stopProactiveRefresh(),g&&m.isProactiveRefreshEnabled&&g._startProactiveRefresh()),m.currentUser=g,g?yield m.assertedPersistence.setCurrentUser(g):yield m.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return We(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Ht(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Cn(C){return(0,se.m9)(C)}class Jr{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,se.ne)(m=>this.observer=m)}get next(){return We(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ln(C){const g=C.indexOf(":");return g<0?"":C.substr(0,g+1)}function Dr(C){if(!C)return null;const g=Number(C);return isNaN(g)?null:g}class ri{constructor(g,m){this.providerId=g,this.signInMethod=m}toJSON(){return Rt("not implemented")}_getIdTokenResponse(g){return Rt("not implemented")}_linkToIdToken(g,m){return Rt("not implemented")}_getReauthenticationResolver(g){return Rt("not implemented")}}function Sn(C,g){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,b.Z)(function*(C,g){return tn(C,"POST","/v1/accounts:resetPassword",ln(C,g))})).apply(this,arguments)}function li(C,g){return ss.apply(this,arguments)}function ss(){return(ss=(0,b.Z)(function*(C,g){return tn(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function qi(C,g){return zr.apply(this,arguments)}function zr(){return(zr=(0,b.Z)(function*(C,g){return tn(C,"POST","/v1/accounts:update",ln(C,g))})).apply(this,arguments)}function Hi(){return(Hi=(0,b.Z)(function*(C,g){return yn(C,"POST","/v1/accounts:signInWithPassword",ln(C,g))})).apply(this,arguments)}function Kr(C,g){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,b.Z)(function*(C,g){return tn(C,"POST","/v1/accounts:sendOobCode",ln(C,g))})).apply(this,arguments)}function Yi(C,g){return ys.apply(this,arguments)}function ys(){return(ys=(0,b.Z)(function*(C,g){return Kr(C,g)})).apply(this,arguments)}function _s(C,g){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,b.Z)(function*(C,g){return Kr(C,g)})).apply(this,arguments)}function ci(C,g){return yi.apply(this,arguments)}function yi(){return(yi=(0,b.Z)(function*(C,g){return Kr(C,g)})).apply(this,arguments)}function di(C,g){return Or.apply(this,arguments)}function Or(){return(Or=(0,b.Z)(function*(C,g){return Kr(C,g)})).apply(this,arguments)}function Pi(){return(Pi=(0,b.Z)(function*(C,g){return yn(C,"POST","/v1/accounts:signInWithEmailLink",ln(C,g))})).apply(this,arguments)}function xi(){return(xi=(0,b.Z)(function*(C,g){return yn(C,"POST","/v1/accounts:signInWithEmailLink",ln(C,g))})).apply(this,arguments)}class vi extends ri{constructor(g,m,S,z=null){super("password",S),this._email=g,this._password=m,this._tenantId=z}static _fromEmailAndPassword(g,m){return new vi(g,m,"password")}static _fromEmailAndCode(g,m,S=null){return new vi(g,m,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(g){var m=this;return(0,b.Z)(function*(){switch(m.signInMethod){case"password":return function(C,g){return Hi.apply(this,arguments)}(g,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function(C,g){return Pi.apply(this,arguments)}(g,{email:m._email,oobCode:m._password});default:bt(g,"internal-error")}})()}_linkToIdToken(g,m){var S=this;return(0,b.Z)(function*(){switch(S.signInMethod){case"password":return li(g,{idToken:m,returnSecureToken:!0,email:S._email,password:S._password});case"emailLink":return function(C,g){return xi.apply(this,arguments)}(g,{idToken:m,email:S._email,oobCode:S._password});default:bt(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Li(C,g){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,b.Z)(function*(C,g){return yn(C,"POST","/v1/accounts:signInWithIdp",ln(C,g))})).apply(this,arguments)}class Mi extends ri{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const m=new Mi(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(m.idToken=g.idToken),g.accessToken&&(m.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(m.nonce=g.nonce),g.pendingToken&&(m.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(m.accessToken=g.oauthToken,m.secret=g.oauthTokenSecret):bt("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:S,signInMethod:z}=m,ce=(0,L._T)(m,["providerId","signInMethod"]);if(!S||!z)return null;const Fe=new Mi(S,z);return Object.assign(Fe,ce),Fe}_getIdTokenResponse(g){return Li(g,this.buildRequest())}_linkToIdToken(g,m){const S=this.buildRequest();return S.idToken=m,Li(g,S)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,Li(g,m)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),g.postBody=(0,se.xO)(m)}return g}}function vs(C,g){return hi.apply(this,arguments)}function hi(){return(hi=(0,b.Z)(function*(C,g){return tn(C,"POST","/v1/accounts:sendVerificationCode",ln(C,g))})).apply(this,arguments)}function Ur(){return(Ur=(0,b.Z)(function*(C,g){return yn(C,"POST","/v1/accounts:signInWithPhoneNumber",ln(C,g))})).apply(this,arguments)}function os(){return(os=(0,b.Z)(function*(C,g){const m=yield yn(C,"POST","/v1/accounts:signInWithPhoneNumber",ln(C,g));if(m.temporaryProof)throw Sr(C,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const yr={USER_NOT_FOUND:"user-not-found"};function Es(){return(Es=(0,b.Z)(function*(C,g){return yn(C,"POST","/v1/accounts:signInWithPhoneNumber",ln(C,Object.assign(Object.assign({},g),{operation:"REAUTH"})),yr)})).apply(this,arguments)}class Oi extends ri{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,m){return new Oi({verificationId:g,verificationCode:m})}static _fromTokenResponse(g,m){return new Oi({phoneNumber:g,temporaryProof:m})}_getIdTokenResponse(g){return function(C,g){return Ur.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,m){return function(C,g){return os.apply(this,arguments)}(g,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function(C,g){return Es.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:m,verificationId:S,verificationCode:z}=this.params;return g&&m?{temporaryProof:g,phoneNumber:m}:{sessionInfo:S,code:z}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:m,verificationCode:S,phoneNumber:z,temporaryProof:ce}=g;return S||m||z||ce?new Oi({verificationId:m,verificationCode:S,phoneNumber:z,temporaryProof:ce}):null}}class Os{constructor(g){var m,S,z,ce,Fe,dt;const Ut=(0,se.zd)((0,se.pd)(g)),an=null!==(m=Ut.apiKey)&&void 0!==m?m:null,fn=null!==(S=Ut.oobCode)&&void 0!==S?S:null,Mn=function(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(z=Ut.mode)&&void 0!==z?z:null);We(an&&fn&&Mn,"argument-error"),this.apiKey=an,this.operation=Mn,this.code=fn,this.continueUrl=null!==(ce=Ut.continueUrl)&&void 0!==ce?ce:null,this.languageCode=null!==(Fe=Ut.languageCode)&&void 0!==Fe?Fe:null,this.tenantId=null!==(dt=Ut.tenantId)&&void 0!==dt?dt:null}static parseLink(g){const m=function(C){const g=(0,se.zd)((0,se.pd)(C)).link,m=g?(0,se.zd)((0,se.pd)(g)).deep_link_id:null,S=(0,se.zd)((0,se.pd)(C)).deep_link_id;return(S?(0,se.zd)((0,se.pd)(S)).link:null)||S||m||g||C}(g);try{return new Os(m)}catch(S){return null}}}let Xs=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(m,S){return vi._fromEmailAndPassword(m,S)}static credentialWithLink(m,S){const z=Os.parseLink(S);return We(z,"argument-error"),vi._fromEmailAndCode(m,z.code,z.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class ki{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Lr extends ki{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class fi extends Lr{static credentialFromJSON(g){const m="string"==typeof g?JSON.parse(g):g;return We("providerId"in m&&"signInMethod"in m,"argument-error"),Mi._fromParams(m)}credential(g){return this._credential(g)}_credential(g){return We(g.idToken||g.accessToken,"argument-error"),Mi._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return fi.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return fi.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:m,oauthAccessToken:S,oauthTokenSecret:z,pendingToken:ce,nonce:Fe,providerId:dt}=g;if(!S&&!z&&!m&&!ce||!dt)return null;try{return new fi(dt)._credential({idToken:m,accessToken:S,rawNonce:Fe,pendingToken:ce})}catch(Ut){return null}}}let eo=(()=>{class C extends Lr{constructor(){super("facebook.com")}static credential(m){return Mi._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return C.credentialFromTaggedObject(m)}static credentialFromError(m){return C.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return C.credential(m.oauthAccessToken)}catch(S){return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),Rs=(()=>{class C extends Lr{constructor(){super("google.com"),this.addScope("profile")}static credential(m,S){return Mi._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:S})}static credentialFromResult(m){return C.credentialFromTaggedObject(m)}static credentialFromError(m){return C.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:S,oauthAccessToken:z}=m;if(!S&&!z)return null;try{return C.credential(S,z)}catch(ce){return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),Ns=(()=>{class C extends Lr{constructor(){super("github.com")}static credential(m){return Mi._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return C.credentialFromTaggedObject(m)}static credentialFromError(m){return C.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return C.credential(m.oauthAccessToken)}catch(S){return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class Xi extends ri{constructor(g,m){super(g,g),this.pendingToken=m}_getIdTokenResponse(g){return Li(g,this.buildRequest())}_linkToIdToken(g,m){const S=this.buildRequest();return S.idToken=m,Li(g,S)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,Li(g,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:S,signInMethod:z,pendingToken:ce}=m;return S&&z&&ce&&S===z?new Xi(S,ce):null}static _create(g,m){return new Xi(g,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let $s=(()=>{class C extends Lr{constructor(){super("twitter.com")}static credential(m,S){return Mi._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:S})}static credentialFromResult(m){return C.credentialFromTaggedObject(m)}static credentialFromError(m){return C.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:S,oauthTokenSecret:z}=m;if(!S||!z)return null;try{return C.credential(S,z)}catch(ce){return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function as(C,g){return us.apply(this,arguments)}function us(){return(us=(0,b.Z)(function*(C,g){return yn(C,"POST","/v1/accounts:signUp",ln(C,g))})).apply(this,arguments)}class Ei{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,m,S,z=!1){return(0,b.Z)(function*(){const ce=yield Nt._fromIdTokenResponse(g,S,z),Fe=G(S);return new Ei({user:ce,providerId:Fe,_tokenResponse:S,operationType:m})})()}static _forOperation(g,m,S){return(0,b.Z)(function*(){yield g._updateTokensIfNecessary(S,!0);const z=G(S);return new Ei({user:g,providerId:z,_tokenResponse:S,operationType:m})})()}}function G(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function k(){return(k=(0,b.Z)(function*(C){var g;const m=Cn(C);if(yield m._initializationPromise,null===(g=m.currentUser)||void 0===g?void 0:g.isAnonymous)return new Ei({user:m.currentUser,providerId:null,operationType:"signIn"});const S=yield as(m,{returnSecureToken:!0}),z=yield Ei._fromIdTokenResponse(m,"signIn",S,!0);return yield m._updateCurrentUser(z.user),z})).apply(this,arguments)}class te extends se.ZR{constructor(g,m,S,z){var ce;super(m.code,m.message),this.operationType=S,this.user=z,this.name="FirebaseError",Object.setPrototypeOf(this,te.prototype),this.appName=g.name,this.code=m.code,this.tenantId=null!==(ce=g.tenantId)&&void 0!==ce?ce:void 0,this.serverResponse=m.customData.serverResponse}static _fromErrorAndOperation(g,m,S,z){return new te(g,m,S,z)}}function tt(C,g,m,S){return("reauthenticate"===g?m._getReauthenticationResolver(C):m._getIdTokenResponse(C)).catch(ce=>{throw"auth/multi-factor-auth-required"===ce.code?te._fromErrorAndOperation(C,ce,g,S):ce})}function Gt(C){return new Set(C.map(({providerId:g})=>g).filter(g=>!!g))}function Zr(){return(Zr=(0,b.Z)(function*(C,g){const m=(0,se.m9)(C);yield U(!0,m,g);const{providerUserInfo:S}=yield mr(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[g]}),z=Gt(S||[]);return m.providerData=m.providerData.filter(ce=>z.has(ce.providerId)),z.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function ii(C,g){return ko.apply(this,arguments)}function ko(){return(ko=(0,b.Z)(function*(C,g,m=!1){const S=yield mt(C,g._linkToIdToken(C.auth,yield C.getIdToken()),m);return Ei._forOperation(C,"link",S)})).apply(this,arguments)}function U(C,g,m){return ee.apply(this,arguments)}function ee(){return(ee=(0,b.Z)(function*(C,g,m){yield An(g);const z=!1===C?"provider-already-linked":"no-such-provider";We(Gt(g.providerData).has(m)===C,g.auth,z)})).apply(this,arguments)}function $(C,g){return ae.apply(this,arguments)}function ae(){return(ae=(0,b.Z)(function*(C,g,m=!1){const{auth:S}=C,z="reauthenticate";try{const ce=yield mt(C,tt(S,z,g,C),m);We(ce.idToken,S,"internal-error");const Fe=gt(ce.idToken);We(Fe,S,"internal-error");const{sub:dt}=Fe;return We(C.uid===dt,S,"user-mismatch"),Ei._forOperation(C,z,ce)}catch(ce){throw"auth/user-not-found"===(null==ce?void 0:ce.code)&&bt(S,"user-mismatch"),ce}})).apply(this,arguments)}function Ie(C,g){return at.apply(this,arguments)}function at(){return(at=(0,b.Z)(function*(C,g,m=!1){const S="signIn",z=yield tt(C,S,g),ce=yield Ei._fromIdTokenResponse(C,S,z);return m||(yield C._updateCurrentUser(ce.user)),ce})).apply(this,arguments)}function ht(C,g){return zt.apply(this,arguments)}function zt(){return(zt=(0,b.Z)(function*(C,g){return Ie(Cn(C),g)})).apply(this,arguments)}function vn(C,g){return hr.apply(this,arguments)}function hr(){return(hr=(0,b.Z)(function*(C,g){const m=(0,se.m9)(C);return yield U(!1,m,g.providerId),ii(m,g)})).apply(this,arguments)}function lr(C,g){return In.apply(this,arguments)}function In(){return(In=(0,b.Z)(function*(C,g){return $((0,se.m9)(C),g)})).apply(this,arguments)}function fr(C,g){return nr.apply(this,arguments)}function nr(){return(nr=(0,b.Z)(function*(C,g){return yn(C,"POST","/v1/accounts:signInWithCustomToken",ln(C,g))})).apply(this,arguments)}function to(){return(to=(0,b.Z)(function*(C,g){const m=Cn(C),S=yield fr(m,{token:g,returnSecureToken:!0}),z=yield Ei._fromIdTokenResponse(m,"signIn",S);return yield m._updateCurrentUser(z.user),z})).apply(this,arguments)}class kr{constructor(g,m){this.factorId=g,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(g,m){return"phoneInfo"in m?no._fromServerResponse(g,m):bt(g,"internal-error")}}class no extends kr{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,m){return new no(m)}}function bi(C,g,m){var S;We((null===(S=m.url)||void 0===S?void 0:S.length)>0,C,"invalid-continue-uri"),We(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),g.continueUrl=m.url,g.dynamicLinkDomain=m.dynamicLinkDomain,g.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(We(m.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),g.iosBundleId=m.iOS.bundleId),m.android&&(We(m.android.packageName.length>0,C,"missing-android-pkg-name"),g.androidInstallApp=m.android.installApp,g.androidMinimumVersionCode=m.android.minimumVersion,g.androidPackageName=m.android.packageName)}function pi(){return(pi=(0,b.Z)(function*(C,g,m){const S=(0,se.m9)(C),z={requestType:"PASSWORD_RESET",email:g};m&&bi(S,z,m),yield _s(S,z)})).apply(this,arguments)}function fo(){return(fo=(0,b.Z)(function*(C,g,m){yield Sn((0,se.m9)(C),{oobCode:g,newPassword:m})})).apply(this,arguments)}function Ia(){return(Ia=(0,b.Z)(function*(C,g){yield qi((0,se.m9)(C),{oobCode:g})})).apply(this,arguments)}function cu(C,g){return po.apply(this,arguments)}function po(){return(po=(0,b.Z)(function*(C,g){const m=(0,se.m9)(C),S=yield Sn(m,{oobCode:g}),z=S.requestType;switch(We(z,m,"internal-error"),z){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":We(S.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":We(S.mfaInfo,m,"internal-error");default:We(S.email,m,"internal-error")}let ce=null;return S.mfaInfo&&(ce=kr._fromServerResponse(Cn(m),S.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.newEmail:S.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.email:S.newEmail)||null,multiFactorInfo:ce},operation:z}})).apply(this,arguments)}function Jn(){return(Jn=(0,b.Z)(function*(C,g){const{data:m}=yield cu((0,se.m9)(C),g);return m.email})).apply(this,arguments)}function jr(){return(jr=(0,b.Z)(function*(C,g,m){const S=Cn(C),z=yield as(S,{returnSecureToken:!0,email:g,password:m}),ce=yield Ei._fromIdTokenResponse(S,"signIn",z);return yield S._updateCurrentUser(ce.user),ce})).apply(this,arguments)}function ls(){return(ls=(0,b.Z)(function*(C,g,m){const S=(0,se.m9)(C),z={requestType:"EMAIL_SIGNIN",email:g};We(m.handleCodeInApp,S,"argument-error"),m&&bi(S,z,m),yield ci(S,z)})).apply(this,arguments)}function $a(){return($a=(0,b.Z)(function*(C,g,m){const S=(0,se.m9)(C),z=Xs.credentialWithLink(g,m||Ye());return We(z._tenantId===(S.tenantId||null),S,"tenant-id-mismatch"),ht(S,z)})).apply(this,arguments)}function du(C,g){return ws.apply(this,arguments)}function ws(){return(ws=(0,b.Z)(function*(C,g){return tn(C,"POST","/v1/accounts:createAuthUri",ln(C,g))})).apply(this,arguments)}function Rr(){return(Rr=(0,b.Z)(function*(C,g){const S={identifier:g,continueUri:Ne()?Ye():"http://localhost"},{signinMethods:z}=yield du((0,se.m9)(C),S);return z||[]})).apply(this,arguments)}function Vo(){return(Vo=(0,b.Z)(function*(C,g){const m=(0,se.m9)(C),z={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};g&&bi(m.auth,z,g);const{email:ce}=yield Yi(m.auth,z);ce!==C.email&&(yield C.reload())})).apply(this,arguments)}function Wi(){return(Wi=(0,b.Z)(function*(C,g,m){const S=(0,se.m9)(C),ce={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:g};m&&bi(S.auth,ce,m);const{email:Fe}=yield di(S.auth,ce);Fe!==C.email&&(yield C.reload())})).apply(this,arguments)}function hu(C,g){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,b.Z)(function*(C,g){return tn(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Sa(){return(Sa=(0,b.Z)(function*(C,{displayName:g,photoURL:m}){if(void 0===g&&void 0===m)return;const S=(0,se.m9)(C),ce={idToken:yield S.getIdToken(),displayName:g,photoUrl:m,returnSecureToken:!0},Fe=yield mt(S,hu(S.auth,ce));S.displayName=Fe.displayName||null,S.photoURL=Fe.photoUrl||null;const dt=S.providerData.find(({providerId:Ut})=>"password"===Ut);dt&&(dt.displayName=S.displayName,dt.photoURL=S.photoURL),yield S._updateTokensIfNecessary(Fe)})).apply(this,arguments)}function Yo(C,g,m){return _o.apply(this,arguments)}function _o(){return(_o=(0,b.Z)(function*(C,g,m){const{auth:S}=C,ce={idToken:yield C.getIdToken(),returnSecureToken:!0};g&&(ce.email=g),m&&(ce.password=m);const Fe=yield mt(C,li(S,ce));yield C._updateTokensIfNecessary(Fe,!0)})).apply(this,arguments)}class vo{constructor(g,m,S={}){this.isNewUser=g,this.providerId=m,this.profile=S}}class Ws extends vo{constructor(g,m,S,z){super(g,m,S),this.username=z}}class Wa extends vo{constructor(g,m){super(g,"facebook.com",m)}}class ro extends Ws{constructor(g,m){super(g,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class gi extends vo{constructor(g,m){super(g,"google.com",m)}}class Fu extends Ws{constructor(g,m,S){super(g,"twitter.com",m,S)}}function Gs(C){const{user:g,_tokenResponse:m}=C;return g.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function(C){var g,m;if(!C)return null;const{providerId:S}=C,z=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},ce=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!S&&(null==C?void 0:C.idToken)){const Fe=null===(m=null===(g=gt(C.idToken))||void 0===g?void 0:g.firebase)||void 0===m?void 0:m.sign_in_provider;if(Fe)return new vo(ce,"anonymous"!==Fe&&"custom"!==Fe?Fe:null)}if(!S)return null;switch(S){case"facebook.com":return new Wa(ce,z);case"github.com":return new ro(ce,z);case"google.com":return new gi(ce,z);case"twitter.com":return new Fu(ce,z,C.screenName||null);case"custom":case"anonymous":return new vo(ce,null);default:return new vo(ce,S,z)}}(m)}class Eo{constructor(g,m){this.type=g,this.credential=m}static _fromIdtoken(g){return new Eo("enroll",g)}static _fromMfaPendingCredential(g){return new Eo("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var m,S;if(null==g?void 0:g.multiFactorSession){if(null===(m=g.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return Eo._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(S=g.multiFactorSession)||void 0===S?void 0:S.idToken)return Eo._fromIdtoken(g.multiFactorSession.idToken)}return null}}class bo{constructor(g,m,S){this.session=g,this.hints=m,this.signInResolver=S}static _fromError(g,m){const S=Cn(g),z=(m.serverResponse.mfaInfo||[]).map(Fe=>kr._fromServerResponse(S,Fe));We(m.serverResponse.mfaPendingCredential,S,"internal-error");const ce=Eo._fromMfaPendingCredential(m.serverResponse.mfaPendingCredential);return new bo(ce,z,function(){var Fe=(0,b.Z)(function*(dt){const Ut=yield dt._process(S,ce);delete m.serverResponse.mfaInfo,delete m.serverResponse.mfaPendingCredential;const an=Object.assign(Object.assign({},m.serverResponse),{idToken:Ut.idToken,refreshToken:Ut.refreshToken});switch(m.operationType){case"signIn":const fn=yield Ei._fromIdTokenResponse(S,m.operationType,an);return yield S._updateCurrentUser(fn.user),fn;case"reauthenticate":return We(m.user,S,"internal-error"),Ei._forOperation(m.user,m.operationType,an);default:bt(S,"internal-error")}});return function(dt){return Fe.apply(this,arguments)}}())}resolveSignIn(g){var m=this;return(0,b.Z)(function*(){return m.signInResolver(g)})()}}function wo(C,g){return tn(C,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:C.tenantId},g))}class Co{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(S=>kr._fromServerResponse(g.auth,S)))})}static _fromUser(g){return new Co(g)}getSession(){var g=this;return(0,b.Z)(function*(){return Eo._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,m){var S=this;return(0,b.Z)(function*(){const z=g,ce=yield S.getSession(),Fe=yield mt(S.user,z._process(S.user.auth,ce,m));return yield S.user._updateTokensIfNecessary(Fe),S.user.reload()})()}unenroll(g){var m=this;return(0,b.Z)(function*(){const S="string"==typeof g?g:g.uid,z=yield m.user.getIdToken(),ce=yield mt(m.user,function(C,g){return tn(C,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:C.tenantId},g))}(m.user.auth,{idToken:z,mfaEnrollmentId:S}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Fe})=>Fe!==S),yield m.user._updateTokensIfNecessary(ce);try{yield m.user.reload()}catch(Fe){if("auth/user-token-expired"!==Fe.code)throw Fe}})()}}const Uo=new WeakMap,cs="__sak";class Is{constructor(g,m){this.storage=g,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(cs,"1"),this.storage.removeItem(cs),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,m){return this.storage.setItem(g,JSON.stringify(m)),Promise.resolve()}_get(g){const m=this.storage.getItem(g);return Promise.resolve(m?JSON.parse(m):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}}const Be=(()=>{class C extends Is{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const C=(0,se.z$)();return et(C)||Xt(C)}()&&function(){try{return!(!window||window===window.top)}catch(C){return!1}}(),this.fallbackToPolling=Si(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(m){for(const S of Object.keys(this.listeners)){const z=this.storage.getItem(S),ce=this.localCache[S];z!==ce&&m(S,ce,z)}}onStorageEvent(m,S=!1){if(!m.key)return void this.forAllChangedKeys((dt,Ut,an)=>{this.notifyListeners(dt,an)});const z=m.key;if(S?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const dt=this.storage.getItem(z);if(m.newValue!==dt)null!==m.newValue?this.storage.setItem(z,m.newValue):this.storage.removeItem(z);else if(this.localCache[z]===m.newValue&&!S)return}const ce=()=>{const dt=this.storage.getItem(z);!S&&this.localCache[z]===dt||this.notifyListeners(z,dt)},Fe=this.storage.getItem(z);(0,se.w1)()&&10===document.documentMode&&Fe!==m.newValue&&m.newValue!==m.oldValue?setTimeout(ce,10):ce()}notifyListeners(m,S){this.localCache[m]=S;const z=this.listeners[m];if(z)for(const ce of Array.from(z))ce(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,S,z)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:S,newValue:z}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(S)}_removeListener(m,S){this.listeners[m]&&(this.listeners[m].delete(S),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,S){var z=()=>super._set,ce=this;return(0,b.Z)(function*(){yield z().call(ce,m,S),ce.localCache[m]=JSON.stringify(S)})()}_get(m){var S=()=>super._get,z=this;return(0,b.Z)(function*(){const ce=yield S().call(z,m);return z.localCache[m]=JSON.stringify(ce),ce})()}_remove(m){var S=()=>super._remove,z=this;return(0,b.Z)(function*(){yield S().call(z,m),delete z.localCache[m]})()}}return C.type="LOCAL",C})(),rn=(()=>{class C extends Is{constructor(){super(window.sessionStorage,"SESSION")}_addListener(m,S){}_removeListener(m,S){}}return C.type="SESSION",C})();let $r=(()=>{class C{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const S=this.receivers.find(ce=>ce.isListeningto(m));if(S)return S;const z=new C(m);return this.receivers.push(z),z}isListeningto(m){return this.eventTarget===m}handleEvent(m){var S=this;return(0,b.Z)(function*(){const z=m,{eventId:ce,eventType:Fe,data:dt}=z.data,Ut=S.handlersMap[Fe];if(!(null==Ut?void 0:Ut.size))return;z.ports[0].postMessage({status:"ack",eventId:ce,eventType:Fe});const an=Array.from(Ut).map(function(){var Mn=(0,b.Z)(function*(is){return is(z.origin,dt)});return function(is){return Mn.apply(this,arguments)}}()),fn=yield function(C){return Promise.all(C.map(function(){var g=(0,b.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(S){return{fulfilled:!1,reason:S}}});return function(m){return g.apply(this,arguments)}}()))}(an);z.ports[0].postMessage({status:"done",eventId:ce,eventType:Fe,response:fn})})()}_subscribe(m,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(S)}_unsubscribe(m,S){this.handlersMap[m]&&S&&this.handlersMap[m].delete(S),(!S||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function io(C="",g=10){let m="";for(let S=0;S<g;S++)m+=Math.floor(10*Math.random());return C+m}class so{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,m,S=50){var z=this;return(0,b.Z)(function*(){const ce="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!ce)throw new Error("connection_unavailable");let Fe,dt;return new Promise((Ut,an)=>{const fn=io("",20);ce.port1.start();const Mn=setTimeout(()=>{an(new Error("unsupported_event"))},S);dt={messageChannel:ce,onMessage(is){const ea=is;if(ea.data.eventId===fn)switch(ea.data.status){case"ack":clearTimeout(Mn),Fe=setTimeout(()=>{an(new Error("timeout"))},3e3);break;case"done":clearTimeout(Fe),Ut(ea.data.response);break;default:clearTimeout(Mn),clearTimeout(Fe),an(new Error("invalid_response"))}}},z.handlers.add(dt),ce.port1.addEventListener("message",dt.onMessage),z.target.postMessage({eventType:g,eventId:fn,data:m},[ce.port2])}).finally(()=>{dt&&z.removeMessageHandler(dt)})})()}}function xr(){return window}function P(){return void 0!==xr().WorkerGlobalScope&&"function"==typeof xr().importScripts}function D(){return(D=(0,b.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(C){return null}})).apply(this,arguments)}const ie="firebaseLocalStorageDb",Ae="firebaseLocalStorage",ct="fbase_key";class Wt{constructor(g){this.request=g}toPromise(){return new Promise((g,m)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function hn(C,g){return C.transaction([Ae],g?"readwrite":"readonly").objectStore(Ae)}function wt(){const C=indexedDB.open(ie,1);return new Promise((g,m)=>{C.addEventListener("error",()=>{m(C.error)}),C.addEventListener("upgradeneeded",()=>{const S=C.result;try{S.createObjectStore(Ae,{keyPath:ct})}catch(z){m(z)}}),C.addEventListener("success",(0,b.Z)(function*(){const S=C.result;S.objectStoreNames.contains(Ae)?g(S):(S.close(),yield function(){const C=indexedDB.deleteDatabase(ie);return new Wt(C).toPromise()}(),g(yield wt()))}))})}function mn(C,g,m){return wi.apply(this,arguments)}function wi(){return(wi=(0,b.Z)(function*(C,g,m){const S=hn(C,!0).put({[ct]:g,value:m});return new Wt(S).toPromise()})).apply(this,arguments)}function Jt(){return(Jt=(0,b.Z)(function*(C,g){const m=hn(C,!1).get(g),S=yield new Wt(m).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function pn(C,g){const m=hn(C,!0).delete(g);return new Wt(m).toPromise()}const xt=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,b.Z)(function*(){return m.db||(m.db=yield wt()),m.db})()}_withRetries(m){var S=this;return(0,b.Z)(function*(){let z=0;for(;;)try{const ce=yield S._openDb();return yield m(ce)}catch(ce){if(z++>3)throw ce;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,b.Z)(function*(){return P()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,b.Z)(function*(){m.receiver=$r._getInstance(P()?self:null),m.receiver._subscribe("keyChanged",function(){var S=(0,b.Z)(function*(z,ce){return{keyProcessed:(yield m._poll()).includes(ce.key)}});return function(z,ce){return S.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var S=(0,b.Z)(function*(z,ce){return["keyChanged"]});return function(z,ce){return S.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,b.Z)(function*(){var S,z;if(m.activeServiceWorker=yield function(){return D.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new so(m.activeServiceWorker);const ce=yield m.sender._send("ping",{},800);!ce||(null===(S=ce[0])||void 0===S?void 0:S.fulfilled)&&(null===(z=ce[0])||void 0===z?void 0:z.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var S=this;return(0,b.Z)(function*(){if(S.sender&&S.activeServiceWorker&&function(){var C;return(null===(C=null==navigator?void 0:navigator.serviceWorker)||void 0===C?void 0:C.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:m},S.serviceWorkerReceiverAvailable?800:50)}catch(z){}})()}_isAvailable(){return(0,b.Z)(function*(){try{if(!indexedDB)return!1;const m=yield wt();return yield mn(m,cs,"1"),yield pn(m,cs),!0}catch(m){}return!1})()}_withPendingWrite(m){var S=this;return(0,b.Z)(function*(){S.pendingWrites++;try{yield m()}finally{S.pendingWrites--}})()}_set(m,S){var z=this;return(0,b.Z)(function*(){return z._withPendingWrite((0,b.Z)(function*(){return yield z._withRetries(ce=>mn(ce,m,S)),z.localCache[m]=S,z.notifyServiceWorker(m)}))})()}_get(m){var S=this;return(0,b.Z)(function*(){const z=yield S._withRetries(ce=>function(C,g){return Jt.apply(this,arguments)}(ce,m));return S.localCache[m]=z,z})()}_remove(m){var S=this;return(0,b.Z)(function*(){return S._withPendingWrite((0,b.Z)(function*(){return yield S._withRetries(z=>pn(z,m)),delete S.localCache[m],S.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,b.Z)(function*(){const S=yield m._withRetries(Fe=>{const dt=hn(Fe,!1).getAll();return new Wt(dt).toPromise()});if(!S)return[];if(0!==m.pendingWrites)return[];const z=[],ce=new Set;for(const{fbase_key:Fe,value:dt}of S)ce.add(Fe),JSON.stringify(m.localCache[Fe])!==JSON.stringify(dt)&&(m.notifyListeners(Fe,dt),z.push(Fe));for(const Fe of Object.keys(m.localCache))m.localCache[Fe]&&!ce.has(Fe)&&(m.notifyListeners(Fe,null),z.push(Fe));return z})()}notifyListeners(m,S){this.localCache[m]=S;const z=this.listeners[m];if(z)for(const ce of Array.from(z))ce(S)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,b.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(S)}_removeListener(m,S){this.listeners[m]&&(this.listeners[m].delete(S),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function ts(C,g){return tn(C,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:C.tenantId},g))}function jl(){return(jl=(0,b.Z)(function*(C){return(yield tn(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ll(C){return new Promise((g,m)=>{const S=document.createElement("script");S.setAttribute("src",C),S.onload=g,S.onerror=z=>{const ce=Ge("internal-error");ce.customData=z,m(ce)},S.type="text/javascript",S.charset="UTF-8",function(){var C,g;return null!==(g=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==g?g:document}().appendChild(S)})}function pa(C){return`__${C}${Math.floor(1e6*Math.random())}`}const ga=1e12;class er{constructor(g){this.auth=g,this.counter=ga,this._widgets=new Map}render(g,m){const S=this.counter;return this._widgets.set(S,new Bo(g,this.auth.name,m||{})),this.counter++,S}reset(g){var m;const S=g||ga;null===(m=this._widgets.get(S))||void 0===m||m.delete(),this._widgets.delete(S)}getResponse(g){var m;return(null===(m=this._widgets.get(g||ga))||void 0===m?void 0:m.getResponse())||""}execute(g){var m=this;return(0,b.Z)(function*(){var S;return null===(S=m._widgets.get(g||ga))||void 0===S||S.execute(),""})()}}class Bo{constructor(g,m,S){this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const z="string"==typeof g?document.getElementById(g):g;We(z,"argument-error",{appName:m}),this.container=z,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(C){const g=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<50;S++)g.push(m.charAt(Math.floor(Math.random()*m.length)));return g.join("")}();const{callback:g,"expired-callback":m}=this.params;if(g)try{g(this.responseToken)}catch(S){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(S){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ti=pa("rcb"),Kn=new vt(3e4,6e4);class Ka{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!xr().grecaptcha}load(g,m=""){return We((C=m).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C),g,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(xr().grecaptcha):new Promise((S,z)=>{const ce=xr().setTimeout(()=>{z(Ge(g,"network-request-failed"))},Kn.get());xr()[ti]=()=>{xr().clearTimeout(ce),delete xr()[ti];const dt=xr().grecaptcha;if(!dt)return void z(Ge(g,"internal-error"));const Ut=dt.render;dt.render=(an,fn)=>{const Mn=Ut(an,fn);return this.counter++,Mn},this.hostLanguage=m,S(dt)},ll(`https://www.google.com/recaptcha/api.js??${(0,se.xO)({onload:ti,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(ce),z(Ge(g,"internal-error"))})});var C}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!xr().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Uu{load(g){return(0,b.Z)(function*(){return new er(g)})()}clearedOneInstance(){}}const Tr="recaptcha",ld={theme:"light",type:"image"};class or{constructor(g,m=Object.assign({},ld),S){this.parameters=m,this.type=Tr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Cn(S),this.isInvisible="invisible"===this.parameters.size,We("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const z="string"==typeof g?document.getElementById(g):g;We(z,this.auth,"argument-error"),this.container=z,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Uu:new Ka,this.validateStartingState()}verify(){var g=this;return(0,b.Z)(function*(){g.assertNotDestroyed();const m=yield g.render(),S=g.getAssertedRecaptcha();return S.getResponse(m)||new Promise(ce=>{const Fe=dt=>{!dt||(g.tokenChangeListeners.delete(Fe),ce(dt))};g.tokenChangeListeners.add(Fe),g.isInvisible&&S.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){We(!this.parameters.sitekey,this.auth,"argument-error"),We(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),We("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return m=>{if(this.tokenChangeListeners.forEach(S=>S(m)),"function"==typeof g)g(m);else if("string"==typeof g){const S=xr()[g];"function"==typeof S&&S(m)}}}assertNotDestroyed(){We(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,b.Z)(function*(){if(yield g.init(),!g.widgetId){let m=g.container;if(!g.isInvisible){const S=document.createElement("div");m.appendChild(S),m=S}g.widgetId=g.getAssertedRecaptcha().render(m,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,b.Z)(function*(){We(Ne()&&!P(),g.auth,"internal-error"),yield function(){let C=null;return new Promise(g=>{"complete"!==document.readyState?(C=()=>g(),window.addEventListener("load",C)):g()}).catch(g=>{throw C&&window.removeEventListener("load",C),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const m=yield function(C){return jl.apply(this,arguments)}(g.auth);We(m,g.auth,"internal-error"),g.parameters.sitekey=m})()}getAssertedRecaptcha(){return We(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ju{constructor(g,m){this.verificationId=g,this.onConfirmation=m}confirm(g){const m=Oi._fromVerification(this.verificationId,g);return this.onConfirmation(m)}}function Dc(){return(Dc=(0,b.Z)(function*(C,g,m){const S=Cn(C),z=yield $u(S,g,(0,se.m9)(m));return new ju(z,ce=>ht(S,ce))})).apply(this,arguments)}function Ri(){return(Ri=(0,b.Z)(function*(C,g,m){const S=(0,se.m9)(C);yield U(!1,S,"phone");const z=yield $u(S.auth,g,(0,se.m9)(m));return new ju(z,ce=>vn(S,ce))})).apply(this,arguments)}function cl(){return(cl=(0,b.Z)(function*(C,g,m){const S=(0,se.m9)(C),z=yield $u(S.auth,g,(0,se.m9)(m));return new ju(z,ce=>lr(S,ce))})).apply(this,arguments)}function $u(C,g,m){return ma.apply(this,arguments)}function ma(){return(ma=(0,b.Z)(function*(C,g,m){var S;const z=yield m.verify();try{let ce;if(We("string"==typeof z,C,"argument-error"),We(m.type===Tr,C,"argument-error"),ce="string"==typeof g?{phoneNumber:g}:g,"session"in ce){const Fe=ce.session;if("phoneNumber"in ce)return We("enroll"===Fe.type,C,"internal-error"),(yield wo(C,{idToken:Fe.credential,phoneEnrollmentInfo:{phoneNumber:ce.phoneNumber,recaptchaToken:z}})).phoneSessionInfo.sessionInfo;{We("signin"===Fe.type,C,"internal-error");const dt=(null===(S=ce.multiFactorHint)||void 0===S?void 0:S.uid)||ce.multiFactorUid;return We(dt,C,"missing-multi-factor-info"),(yield ts(C,{mfaPendingCredential:Fe.credential,mfaEnrollmentId:dt,phoneSignInInfo:{recaptchaToken:z}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Fe}=yield vs(C,{phoneNumber:ce.phoneNumber,recaptchaToken:z});return Fe}}finally{m._reset()}})).apply(this,arguments)}function Qo(){return(Qo=(0,b.Z)(function*(C,g){yield ii((0,se.m9)(C),g)})).apply(this,arguments)}let gu=(()=>{class C{constructor(m){this.providerId=C.PROVIDER_ID,this.auth=Cn(m)}verifyPhoneNumber(m,S){return $u(this.auth,m,(0,se.m9)(S))}static credential(m,S){return Oi._fromVerification(m,S)}static credentialFromResult(m){return C.credentialFromTaggedObject(m)}static credentialFromError(m){return C.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:S,temporaryProof:z}=m;return S&&z?Oi._fromTokenResponse(S,z):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function Bt(C,g){return g?$e(g):(We(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class Io extends ri{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Li(g,this._buildIdpRequest())}_linkToIdToken(g,m){return Li(g,this._buildIdpRequest(m))}_getReauthenticationResolver(g){return Li(g,this._buildIdpRequest())}_buildIdpRequest(g){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(m.idToken=g),m}}function oo(C){return Ie(C.auth,new Io(C),C.bypassAuthState)}function dl(C){const{auth:g,user:m}=C;return We(m,g,"internal-error"),$(m,new Io(C),C.bypassAuthState)}function mu(C){return ks.apply(this,arguments)}function ks(){return(ks=(0,b.Z)(function*(C){const{auth:g,user:m}=C;return We(m,g,"internal-error"),ii(m,new Io(C),C.bypassAuthState)})).apply(this,arguments)}class ao{constructor(g,m,S,z,ce=!1){this.auth=g,this.resolver=S,this.user=z,this.bypassAuthState=ce,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var g=this;return new Promise(function(){var m=(0,b.Z)(function*(S,z){g.pendingPromise={resolve:S,reject:z};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(ce){g.reject(ce)}});return function(S,z){return m.apply(this,arguments)}}())}onAuthEvent(g){var m=this;return(0,b.Z)(function*(){const{urlResponse:S,sessionId:z,postBody:ce,tenantId:Fe,error:dt,type:Ut}=g;if(dt)return void m.reject(dt);const an={auth:m.auth,requestUri:S,sessionId:z,tenantId:Fe||void 0,postBody:ce||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Ut)(an))}catch(fn){m.reject(fn)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return oo;case"linkViaPopup":case"linkViaRedirect":return mu;case"reauthViaPopup":case"reauthViaRedirect":return dl;default:bt(this.auth,"internal-error")}}resolve(g){Ot(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Ot(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qa=new vt(2e3,1e4);function uo(){return(uo=(0,b.Z)(function*(C,g,m){const S=Cn(C);We(g instanceof ki,C,"argument-error");const z=Bt(S,m);return new yu(S,"signInViaPopup",g,z).executeNotNull()})).apply(this,arguments)}function hl(){return(hl=(0,b.Z)(function*(C,g,m){const S=(0,se.m9)(C);We(g instanceof ki,S.auth,"argument-error");const z=Bt(S.auth,m);return new yu(S.auth,"reauthViaPopup",g,z,S).executeNotNull()})).apply(this,arguments)}function Gu(){return(Gu=(0,b.Z)(function*(C,g,m){const S=(0,se.m9)(C);We(g instanceof ki,S.auth,"argument-error");const z=Bt(S.auth,m);return new yu(S.auth,"linkViaPopup",g,z,S).executeNotNull()})).apply(this,arguments)}let yu=(()=>{class C extends ao{constructor(m,S,z,ce,Fe){super(m,S,ce,Fe),this.provider=z,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var m=this;return(0,b.Z)(function*(){const S=yield m.execute();return We(S,m.auth,"internal-error"),S})()}onExecution(){var m=this;return(0,b.Z)(function*(){Ot(1===m.filter.length,"Popup operations only handle one event");const S=io();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],S),m.authWindow.associatedEvent=S,m.resolver._originValidation(m.auth).catch(z=>{m.reject(z)}),m.resolver._isIframeWebStorageSupported(m.auth,z=>{z||m.reject(Ge(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ge(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const m=()=>{var S,z;this.pollId=(null===(z=null===(S=this.authWindow)||void 0===S?void 0:S.window)||void 0===z?void 0:z.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ge(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,qa.get())};m()}}return C.currentPopupAction=null,C})();const N=new Map;class y extends ao{constructor(g,m,S=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,S),this.eventId=null}execute(){var g=()=>super.execute,m=this;return(0,b.Z)(function*(){let S=N.get(m.auth._key());if(!S){try{const ce=(yield function(C,g){return T.apply(this,arguments)}(m.resolver,m.auth))?yield g().call(m):null;S=()=>Promise.resolve(ce)}catch(z){S=()=>Promise.reject(z)}N.set(m.auth._key(),S)}return S()})()}onAuthEvent(g){var m=()=>super.onAuthEvent,S=this;return(0,b.Z)(function*(){if("signInViaRedirect"===g.type)return m().call(S,g);if("unknown"!==g.type){if(g.eventId){const z=yield S.auth._redirectUserForId(g.eventId);if(z)return S.user=z,m().call(S,g);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,b.Z)(function*(){})()}cleanUp(){}}function T(){return(T=(0,b.Z)(function*(C,g){const m=je(g),S="true"===(yield Te(C)._get(m));return yield Te(C)._remove(m),S})).apply(this,arguments)}function W(C,g){return ne.apply(this,arguments)}function ne(){return(ne=(0,b.Z)(function*(C,g){return Te(C)._set(je(g),"true")})).apply(this,arguments)}function Te(C){return $e(C._redirectPersistence)}function je(C){return _n("pendingRedirect",C.config.apiKey,C.name)}function on(){return(on=(0,b.Z)(function*(C,g,m){const S=Cn(C);We(g instanceof ki,C,"argument-error");const z=Bt(S,m);return yield W(z,S),z._openRedirect(S,g,"signInViaRedirect")})).apply(this,arguments)}function gn(){return(gn=(0,b.Z)(function*(C,g,m){const S=(0,se.m9)(C);We(g instanceof ki,S.auth,"argument-error");const z=Bt(S.auth,m);yield W(z,S.auth);const ce=yield zs(S);return z._openRedirect(S.auth,g,"reauthViaRedirect",ce)})).apply(this,arguments)}function si(){return(si=(0,b.Z)(function*(C,g,m){const S=(0,se.m9)(C);We(g instanceof ki,S.auth,"argument-error");const z=Bt(S.auth,m);yield U(!1,S,g.providerId),yield W(z,S.auth);const ce=yield zs(S);return z._openRedirect(S.auth,g,"linkViaRedirect",ce)})).apply(this,arguments)}function Fi(){return(Fi=(0,b.Z)(function*(C,g){return yield Cn(C)._initializationPromise,Wr(C,g,!1)})).apply(this,arguments)}function Wr(C,g){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,b.Z)(function*(C,g,m=!1){const S=Cn(C),z=Bt(S,g),Fe=yield new y(S,z,m).execute();return Fe&&!m&&(delete Fe.user._redirectEventId,yield S._persistUserIfCurrent(Fe.user),yield S._setRedirectUser(null,g)),Fe})).apply(this,arguments)}function zs(C){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,b.Z)(function*(C){const g=io(`${C.uid}:::`);return C._redirectEventId=g,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),g})).apply(this,arguments)}class Ho{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let m=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(g,S)&&(m=!0,this.sendToConsumer(g,S),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qa(C);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=g,m=!0)),m}sendToConsumer(g,m){var S;if(g.error&&!Qa(g)){const z=(null===(S=g.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";m.onError(Ge(this.auth,z))}else m.onAuthEvent(g)}isEventForConsumer(g,m){const S=null===m.eventId||!!g.eventId&&g.eventId===m.eventId;return m.filter.includes(g.type)&&S}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(_r(g))}saveEventToCache(g){this.cachedEventUids.add(_r(g)),this.lastProcessedEventTime=Date.now()}}function _r(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(g=>g).join("-")}function Qa({type:C,error:g}){return"unknown"===C&&"auth/no-auth-event"===(null==g?void 0:g.code)}function Ts(C){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,b.Z)(function*(C,g={}){return tn(C,"GET","/v1/projects",g)})).apply(this,arguments)}const fl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nn=/^https?/;function Bn(){return(Bn=(0,b.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:g}=yield Ts(C);for(const m of g)try{if(Xn(m))return}catch(S){}bt(C,"unauthorized-domain")})).apply(this,arguments)}function Xn(C){const g=Ye(),{protocol:m,hostname:S}=new URL(g);if(C.startsWith("chrome-extension://")){const Fe=new URL(C);return""===Fe.hostname&&""===S?"chrome-extension:"===m&&C.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===m&&Fe.hostname===S}if(!nn.test(m))return!1;if(fl.test(C))return S===C;const z=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+z+"|"+z+")$","i").test(S)}const Gr=new vt(3e4,6e4);function Ss(){const C=xr().___jsl;if(null==C?void 0:C.H)for(const g of Object.keys(C.H))if(C.H[g].r=C.H[g].r||[],C.H[g].L=C.H[g].L||[],C.H[g].r=[...C.H[g].L],C.CP)for(let m=0;m<C.CP.length;m++)C.CP[m]=null}let Do=null;function mi(C){return Do=Do||function(C){return new Promise((g,m)=>{var S,z,ce;function Fe(){Ss(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Ss(),m(Ge(C,"network-request-failed"))},timeout:Gr.get()})}if(null===(z=null===(S=xr().gapi)||void 0===S?void 0:S.iframes)||void 0===z?void 0:z.Iframe)g(gapi.iframes.getContext());else{if(!(null===(ce=xr().gapi)||void 0===ce?void 0:ce.load)){const dt=pa("iframefcb");return xr()[dt]=()=>{gapi.load?Fe():m(Ge(C,"network-request-failed"))},ll(`https://apis.google.com/js/api.js?onload=${dt}`)}Fe()}}).catch(g=>{throw Do=null,g})}(C),Do}const pl=new vt(5e3,15e3),eu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},tu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pa(C){const g=C.config;We(g.authDomain,C,"auth-domain-config-required");const m=g.emulator?ke(g,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,S={apiKey:g.apiKey,appName:C.name,v:oe.SDK_VERSION},z=tu.get(C.config.apiHost);z&&(S.eid=z);const ce=C._getFrameworks();return ce.length&&(S.fw=ce.join(",")),`${m}?${(0,se.xO)(S).slice(1)}`}function _u(){return(_u=(0,b.Z)(function*(C){const g=yield mi(C),m=xr().gapi;return We(m,C,"internal-error"),g.open({where:document.body,url:Pa(C),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eu,dontclear:!0},S=>new Promise(function(){var z=(0,b.Z)(function*(ce,Fe){yield S.restyle({setHideOnLeave:!1});const dt=Ge(C,"network-request-failed"),Ut=xr().setTimeout(()=>{Fe(dt)},pl.get());function an(){xr().clearTimeout(Ut),ce(S)}S.ping(an).then(an,()=>{Fe(dt)})});return function(ce,Fe){return z.apply(this,arguments)}}()))})).apply(this,arguments)}const ml={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class hd{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function Vi(C,g,m,S,z,ce){We(C.config.authDomain,C,"auth-domain-config-required"),We(C.config.apiKey,C,"invalid-api-key");const Fe={apiKey:C.config.apiKey,appName:C.name,authType:m,redirectUrl:S,v:oe.SDK_VERSION,eventId:z};if(g instanceof ki){g.setDefaultLanguage(C.languageCode),Fe.providerId=g.providerId||"",(0,se.xb)(g.getCustomParameters())||(Fe.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Ut,an]of Object.entries(ce||{}))Fe[Ut]=an}if(g instanceof Lr){const Ut=g.getScopes().filter(an=>""!==an);Ut.length>0&&(Fe.scopes=Ut.join(","))}C.tenantId&&(Fe.tid=C.tenantId);const dt=Fe;for(const Ut of Object.keys(dt))void 0===dt[Ut]&&delete dt[Ut];return`${function({config:C}){return C.emulator?ke(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}(C)}?${(0,se.xO)(dt).slice(1)}`}const Hl="webStorageSupport";class $l extends class{constructor(g){this.factorId=g}_process(g,m,S){switch(m.type){case"enroll":return this._finalizeEnroll(g,m.credential,S);case"signin":return this._finalizeSignIn(g,m.credential);default:return Rt("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new $l(g)}_finalizeEnroll(g,m,S){return function(C,g){return tn(C,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:C.tenantId},g))}(g,{idToken:m,displayName:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,m){return function(C,g){return tn(C,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:C.tenantId},g))}(g,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class pd{constructor(){}static assertion(g){return $l._fromCredential(g)}}var C;class gh{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var m=this;return(0,b.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const m=this.auth.onIdTokenChanged(S=>{var z;g((null===(z=S)||void 0===z?void 0:z.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,m),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const m=this.internalListeners.get(g);!m||(this.internalListeners.delete(g),m(),this.updateProactiveRefresh())}assertAuthConfigured(){We(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Fs(){return window}function vr(){return(vr=(0,b.Z)(function*(C,g,m){var S;const{BuildInfo:z}=Fs();Ot(g.sessionId,"AuthEvent did not contain a session ID");const ce=yield vh(g.sessionId),Fe={};return Xt()?Fe.ibi=z.packageName:Tt()?Fe.apn=z.packageName:bt(C,"operation-not-supported-in-this-environment"),z.displayName&&(Fe.appDisplayName=z.displayName),Fe.sessionId=ce,Vi(C,m,g.type,void 0,null!==(S=g.eventId)&&void 0!==S?S:void 0,Fe)})).apply(this,arguments)}function xc(){return(xc=(0,b.Z)(function*(C){const{BuildInfo:g}=Fs(),m={};Xt()?m.iosBundleId=g.packageName:Tt()?m.androidPackageName=g.packageName:bt(C,"operation-not-supported-in-this-environment"),yield Ts(C,m)})).apply(this,arguments)}function ns(){return(ns=(0,b.Z)(function*(C,g,m){const{cordova:S}=Fs();let z=()=>{};try{yield new Promise((ce,Fe)=>{let dt=null;function Ut(){var Mn;ce();const is=null===(Mn=S.plugins.browsertab)||void 0===Mn?void 0:Mn.close;"function"==typeof is&&is(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function an(){dt||(dt=window.setTimeout(()=>{Fe(Ge(C,"redirect-cancelled-by-user"))},2e3))}function fn(){"visible"===(null==document?void 0:document.visibilityState)&&an()}g.addPassiveListener(Ut),document.addEventListener("resume",an,!1),Tt()&&document.addEventListener("visibilitychange",fn,!1),z=()=>{g.removePassiveListener(Ut),document.removeEventListener("resume",an,!1),document.removeEventListener("visibilitychange",fn,!1),dt&&window.clearTimeout(dt)}})}finally{z()}})).apply(this,arguments)}function vh(C){return gd.apply(this,arguments)}function gd(){return(gd=(0,b.Z)(function*(C){const g=Xo(C),m=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(m)).map(z=>z.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Xo(C){if(Ot(/[0-9a-zA-Z]+/.test(C),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(C);const g=new ArrayBuffer(C.length),m=new Uint8Array(g);for(let S=0;S<C.length;S++)m[S]=C.charCodeAt(S);return m}C="Browser",(0,oe._registerComponent)(new de.wA("auth",(g,{options:m})=>{const S=g.getProvider("app").getImmediate(),{apiKey:z,authDomain:ce}=S.options;return(Fe=>{We(z&&!z.includes(":"),"invalid-api-key",{appName:Fe.name}),We(!(null==ce?void 0:ce.includes(":")),"argument-error",{appName:Fe.name});const dt={apiKey:z,authDomain:ce,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ht(C)},Ut=new Pn(Fe,dt);return function(C,g){const m=(null==g?void 0:g.persistence)||[],S=(Array.isArray(m)?m:[m]).map($e);(null==g?void 0:g.errorMap)&&C._updateErrorMap(g.errorMap),C._initializeWithPersistence(S,null==g?void 0:g.popupRedirectResolver)}(Ut,m),Ut})(S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,m,S)=>{g.getProvider("auth-internal").initialize()})),(0,oe._registerComponent)(new de.wA("auth-internal",g=>{const m=Cn(g.getProvider("auth").getImmediate());return new gh(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,oe.registerVersion)("@firebase/auth","0.17.0",void 0);class md extends Ho{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(g)),super.onEvent(g)}initialized(){var g=this;return(0,b.Z)(function*(){yield g.initPromise})()}}function _a(C){return wr.apply(this,arguments)}function wr(){return(wr=(0,b.Z)(function*(C){const g=yield bu()._get(bl(C));return g&&(yield bu()._remove(bl(C))),g})).apply(this,arguments)}function Gl(){const C=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const S=Math.floor(Math.random()*g.length);C.push(g.charAt(S))}return C.join("")}function bu(){return $e(Be)}function bl(C){return _n("authEvent",C.config.apiKey,C.name)}function Ku(C){if(!(null==C?void 0:C.includes("?")))return{};const[g,...m]=C.split("?");return(0,se.zd)(m.join("?"))}function bh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ge("no-auth-event")}}function Kl(){var C;return(null===(C=null==self?void 0:self.location)||void 0===C?void 0:C.protocol)||null}function Bi(C=(0,se.z$)()){return!("file:"!==Kl()&&"ionic:"!==Kl()||!C.toLowerCase().match(/iphone|ipad|ipod|android/))}function Pc(){try{const C=self.localStorage,g=io();if(C)return C.setItem(g,"1"),C.removeItem(g),!function(C=(0,se.z$)()){return(0,se.w1)()&&11===(null==document?void 0:document.documentMode)||function(C=(0,se.z$)()){return/Edge\/\d+/.test(C)}(C)}()||(0,se.hl)()}catch(C){return Lc()&&(0,se.hl)()}return!1}function Lc(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function nu(){return("http:"===Kl()||"https:"===Kl()||(0,se.ru)()||Bi())&&!((0,se.b$)()||(0,se.UG)())&&Pc()&&!Lc()}function kc(){return Bi()&&"undefined"!=typeof document}function Fc(){return(Fc=(0,b.Z)(function*(){return!!kc()&&new Promise(C=>{const g=setTimeout(()=>{C(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),C(!0)})})})).apply(this,arguments)}const $o={LOCAL:"local",NONE:"none",SESSION:"session"},ql=We,Yl="persistence";function Dh(C){return wu.apply(this,arguments)}function wu(){return(wu=(0,b.Z)(function*(C){yield C._initializationPromise;const g=Ql(),m=_n(Yl,C.config.apiKey,C.name);(null==g?void 0:g.sessionStorage)&&g.sessionStorage.setItem(m,C._getPersistence())})).apply(this,arguments)}function Ql(){return"undefined"!=typeof window?window:null}const Th=We;class La{constructor(){this.browserResolver=$e(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rn,this._completeRedirectFn=Wr}_openPopup(g,m,S,z){var ce=this;return(0,b.Z)(function*(){var Fe;Ot(null===(Fe=ce.eventManagers[g._key()])||void 0===Fe?void 0:Fe.manager,"_initialize() not called before _openPopup()");const dt=Vi(g,m,S,Ye(),z);return function(C,g,m,S=500,z=600){const ce=Math.max((window.screen.availHeight-z)/2,0).toString(),Fe=Math.max((window.screen.availWidth-S)/2,0).toString();let dt="";const Ut=Object.assign(Object.assign({},ml),{width:S.toString(),height:z.toString(),top:ce,left:Fe}),an=(0,se.z$)().toLowerCase();m&&(dt=it(an)?"_blank":m),rt(an)&&(g=g||"http://localhost",Ut.scrollbars="yes");const fn=Object.entries(Ut).reduce((is,[ea,At])=>`${is}${ea}=${At},`,"");if(function(C=(0,se.z$)()){var g;return Xt(C)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(an)&&"_self"!==dt)return function(C,g){const m=document.createElement("a");m.href=C,m.target=g;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(S)}(g||"",dt),new hd(null);const Mn=window.open(g||"",dt,fn);We(Mn,C,"popup-blocked");try{Mn.focus()}catch(is){}return new hd(Mn)}(g,dt,io())})()}_openRedirect(g,m,S,z){var ce=this;return(0,b.Z)(function*(){return yield ce._originValidation(g),C=Vi(g,m,S,Ye(),z),xr().location.href=C,new Promise(()=>{});var C})()}_initialize(g){const m=g._key();if(this.eventManagers[m]){const{manager:z,promise:ce}=this.eventManagers[m];return z?Promise.resolve(z):(Ot(ce,"If manager is not set, promise should be"),ce)}const S=this.initAndGetManager(g);return this.eventManagers[m]={promise:S},S}initAndGetManager(g){var m=this;return(0,b.Z)(function*(){const S=yield function(C){return _u.apply(this,arguments)}(g),z=new Ho(g);return S.register("authEvent",ce=>(We(null==ce?void 0:ce.authEvent,g,"invalid-auth-event"),{status:z.onEvent(ce.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[g._key()]={manager:z},m.iframes[g._key()]=S,z})()}_isIframeWebStorageSupported(g,m){this.iframes[g._key()].send(Hl,{type:Hl},z=>{var ce;const Fe=null===(ce=null==z?void 0:z[0])||void 0===ce?void 0:ce[Hl];void 0!==Fe&&m(!!Fe),bt(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function(C){return Bn.apply(this,arguments)}(g)),this.originValidationPromises[m]}get _shouldInitProactively(){return Si()||et()||Xt()}}),this.cordovaResolver=$e(class{constructor(){this._redirectPersistence=rn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Wr}_initialize(g){var m=this;return(0,b.Z)(function*(){const S=g._key();let z=m.eventManagers.get(S);return z||(z=new md(g),m.eventManagers.set(S,z),m.attachCallbackListeners(g,z)),z})()}_openPopup(g){bt(g,"operation-not-supported-in-this-environment")}_openRedirect(g,m,S,z){var ce=this;return(0,b.Z)(function*(){!function(C){var g,m,S,z,ce,Fe,dt,Ut,an,fn;const Mn=Fs();We("function"==typeof(null===(g=null==Mn?void 0:Mn.universalLinks)||void 0===g?void 0:g.subscribe),C,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),We(void 0!==(null===(m=null==Mn?void 0:Mn.BuildInfo)||void 0===m?void 0:m.packageName),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),We("function"==typeof(null===(ce=null===(z=null===(S=null==Mn?void 0:Mn.cordova)||void 0===S?void 0:S.plugins)||void 0===z?void 0:z.browsertab)||void 0===ce?void 0:ce.openUrl),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),We("function"==typeof(null===(Ut=null===(dt=null===(Fe=null==Mn?void 0:Mn.cordova)||void 0===Fe?void 0:Fe.plugins)||void 0===dt?void 0:dt.browsertab)||void 0===Ut?void 0:Ut.isAvailable),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),We("function"==typeof(null===(fn=null===(an=null==Mn?void 0:Mn.cordova)||void 0===an?void 0:an.InAppBrowser)||void 0===fn?void 0:fn.open),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const Fe=yield ce._initialize(g);yield Fe.initialized(),Fe.resetRedirect(),N.clear(),yield ce._originValidation(g);const dt=function(C,g,m=null){return{type:g,eventId:m,urlResponse:null,sessionId:Gl(),postBody:null,tenantId:C.tenantId,error:Ge(C,"no-auth-event")}}(g,S,z);yield function(C,g){return bu()._set(bl(C),g)}(g,dt);const Ut=yield function(C,g,m){return vr.apply(this,arguments)}(g,dt,m),an=yield function(C){const{cordova:g}=Fs();return new Promise(m=>{g.plugins.browsertab.isAvailable(S=>{let z=null;S?g.plugins.browsertab.openUrl(C):z=g.InAppBrowser.open(C,function(C=(0,se.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}()?"_blank":"_system","location=yes"),m(z)})})}(Ut);return function(C,g,m){return ns.apply(this,arguments)}(g,Fe,an)})()}_isIframeWebStorageSupported(g,m){throw new Error("Method not implemented.")}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function(C){return xc.apply(this,arguments)}(g)),this.originValidationPromises[m]}attachCallbackListeners(g,m){const{universalLinks:S,handleOpenURL:z,BuildInfo:ce}=Fs(),Fe=setTimeout((0,b.Z)(function*(){yield _a(g),m.onEvent(bh())}),500),dt=function(){var fn=(0,b.Z)(function*(Mn){clearTimeout(Fe);const is=yield _a(g);let ea=null;is&&(null==Mn?void 0:Mn.url)&&(ea=function(C,g){var m,S;const z=function(C){const g=Ku(C),m=g.link?decodeURIComponent(g.link):void 0,S=Ku(m).link,z=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return Ku(z).link||z||S||m||C}(g);if(z.includes("/__/auth/callback")){const ce=Ku(z),Fe=ce.firebaseError?function(C){try{return JSON.parse(C)}catch(g){return null}}(decodeURIComponent(ce.firebaseError)):null,dt=null===(S=null===(m=null==Fe?void 0:Fe.code)||void 0===m?void 0:m.split("auth/"))||void 0===S?void 0:S[1],Ut=dt?Ge(dt):null;return Ut?{type:C.type,eventId:C.eventId,tenantId:C.tenantId,error:Ut,urlResponse:null,sessionId:null,postBody:null}:{type:C.type,eventId:C.eventId,tenantId:C.tenantId,sessionId:C.sessionId,urlResponse:z,postBody:null}}return null}(is,Mn.url)),m.onEvent(ea||bh())});return function(is){return fn.apply(this,arguments)}}();void 0!==S&&"function"==typeof S.subscribe&&S.subscribe(null,dt);const Ut=z,an=`${ce.packageName.toLowerCase()}://`;Fs().handleOpenURL=function(){var fn=(0,b.Z)(function*(Mn){if(Mn.toLowerCase().startsWith(an)&&dt({url:Mn}),"function"==typeof Ut)try{Ut(Mn)}catch(is){console.error(is)}});return function(Mn){return fn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=rn,this._completeRedirectFn=Wr}_initialize(g){var m=this;return(0,b.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,m,S,z){var ce=this;return(0,b.Z)(function*(){return yield ce.selectUnderlyingResolver(),ce.assertedUnderlyingResolver._openPopup(g,m,S,z)})()}_openRedirect(g,m,S,z){var ce=this;return(0,b.Z)(function*(){return yield ce.selectUnderlyingResolver(),ce.assertedUnderlyingResolver._openRedirect(g,m,S,z)})()}_isIframeWebStorageSupported(g,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,m)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return kc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Th(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,b.Z)(function*(){if(g.underlyingResolver)return;const m=yield function(){return Fc.apply(this,arguments)}();g.underlyingResolver=m?g.cordovaResolver:g.browserResolver})()}}function As(C){return C.unwrap()}function Ed(C){return Zu(C)}function Yf(C,g){var m;const S=null===(m=g.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===g.code)g.resolver=new Cd(C,function(C,g){var m;const S=(0,se.m9)(C),z=g;return We(g.operationType,S,"argument-error"),We(null===(m=z.serverResponse)||void 0===m?void 0:m.mfaPendingCredential,S,"argument-error"),bo._fromError(S,z)}(C,g));else if(S){const z=Zu(g),ce=g;z&&(ce.credential=z,ce.tenantId=S.tenantId||void 0,ce.email=S.email||void 0,ce.phoneNumber=S.phoneNumber||void 0)}}function Zu(C){const{_tokenResponse:g}=C instanceof se.ZR?C.customData:C;if(!g)return null;if(!(C instanceof se.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return gu.credentialFromResult(C);const m=g.providerId;if(!m||"password"===m)return null;let S;switch(m){case"google.com":S=Rs;break;case"facebook.com":S=eo;break;case"github.com":S=Ns;break;case"twitter.com":S=$s;break;default:const{oauthIdToken:z,oauthAccessToken:ce,oauthTokenSecret:Fe,pendingToken:dt,nonce:Ut}=g;return ce||Fe||z||dt?dt?m.startsWith("saml.")?Xi._create(m,dt):Mi._fromParams({providerId:m,signInMethod:m,pendingToken:dt,idToken:z,accessToken:ce}):new fi(m).credential({idToken:z,accessToken:ce,rawNonce:Ut}):null}return C instanceof se.ZR?S.credentialFromError(C):S.credentialFromResult(C)}function rs(C,g){return bd.apply(this,arguments)}function bd(){return(bd=(0,b.Z)(function*(C,g){let m;try{m=yield g}catch(ce){throw ce instanceof se.ZR&&Yf(C,ce),ce}const{operationType:S,user:z}=m;return{operationType:S,credential:Ed(m),additionalUserInfo:Gs(m),user:ps.getOrCreate(z)}})).apply(this,arguments)}function Vc(C,g){return wd.apply(this,arguments)}function wd(){return(wd=(0,b.Z)(function*(C,g){const m=yield g;return{verificationId:m.verificationId,confirm:S=>rs(C,m.confirm(S))}})).apply(this,arguments)}class Cd{constructor(g,m){this.resolver=m,this.auth=function(C){return C.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return rs(As(this.auth),this.resolver.resolveSignIn(g))}}class ps{constructor(g){this._delegate=g,this.multiFactor=function(C){const g=(0,se.m9)(C);return Uo.has(g)||Uo.set(g,Co._fromUser(g)),Uo.get(g)}(g)}static getOrCreate(g){return ps.USER_MAP.has(g)||ps.USER_MAP.set(g,new ps(g)),ps.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var m=this;return(0,b.Z)(function*(){return rs(m.auth,vn(m._delegate,g))})()}linkWithPhoneNumber(g,m){var S=this;return(0,b.Z)(function*(){return Vc(S.auth,function(C,g,m){return Ri.apply(this,arguments)}(S._delegate,g,m))})()}linkWithPopup(g){var m=this;return(0,b.Z)(function*(){return rs(m.auth,function(C,g,m){return Gu.apply(this,arguments)}(m._delegate,g,La))})()}linkWithRedirect(g){var m=this;return(0,b.Z)(function*(){return yield Dh(Cn(m.auth)),function(C,g,m){return function(C,g,m){return si.apply(this,arguments)}(C,g,m)}(m._delegate,g,La)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var m=this;return(0,b.Z)(function*(){return rs(m.auth,lr(m._delegate,g))})()}reauthenticateWithPhoneNumber(g,m){return Vc(this.auth,function(C,g,m){return cl.apply(this,arguments)}(this._delegate,g,m))}reauthenticateWithPopup(g){return rs(this.auth,function(C,g,m){return hl.apply(this,arguments)}(this._delegate,g,La))}reauthenticateWithRedirect(g){var m=this;return(0,b.Z)(function*(){return yield Dh(Cn(m.auth)),function(C,g,m){return function(C,g,m){return gn.apply(this,arguments)}(C,g,m)}(m._delegate,g,La)})()}sendEmailVerification(g){return function(C,g){return Vo.apply(this,arguments)}(this._delegate,g)}unlink(g){var m=this;return(0,b.Z)(function*(){return yield function(C,g){return Zr.apply(this,arguments)}(m._delegate,g),m})()}updateEmail(g){return function(C,g){return Yo((0,se.m9)(C),g,null)}(this._delegate,g)}updatePassword(g){return function(C,g){return Yo((0,se.m9)(C),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function(C,g){return Qo.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function(C,g){return Sa.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,m){return function(C,g,m){return Wi.apply(this,arguments)}(this._delegate,g,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ps.USER_MAP=new WeakMap;const Jl=We;let Id=(()=>{class C{constructor(m,S){if(this.app=m,S.isInitialized())return this._delegate=S.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:z}=m.options;Jl(z,"invalid-api-key",{appName:m.name});let ce=[Rn];if("undefined"!=typeof window){ce=function(C,g){const m=Ql();if(!(null==m?void 0:m.sessionStorage))return[];const S=_n(Yl,C,g);switch(m.sessionStorage.getItem(S)){case $o.NONE:return[Rn];case $o.LOCAL:return[xt,rn];case $o.SESSION:return[rn];default:return[]}}(z,m.name);for(const dt of[xt,Be,rn])ce.includes(dt)||ce.push(dt)}Jl(z,"invalid-api-key",{appName:m.name});const Fe="undefined"!=typeof window?La:void 0;this._delegate=S.initialize({options:{persistence:ce,popupRedirectResolver:Fe}}),this._delegate._updateErrorMap(Pe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ps.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,S){!function(C,g,m){const S=Cn(C);We(S._canInitEmulator,S,"emulator-config-failed"),We(/^https?:\/\//.test(g),S,"invalid-emulator-scheme");const z=!!(null==m?void 0:m.disableWarnings),ce=Ln(g),{host:Fe,port:dt}=function(C){const g=Ln(C),m=/(\/\/)?([^?#/]+)/.exec(C.substr(g.length));if(!m)return{host:"",port:null};const S=m[2].split("@").pop()||"",z=/^(\[[^\]]+\])(:|$)/.exec(S);if(z){const ce=z[1];return{host:ce,port:Dr(S.substr(ce.length+1))}}{const[ce,Fe]=S.split(":");return{host:ce,port:Dr(Fe)}}}(g);S.config.emulator={url:`${ce}//${Fe}${null===dt?"":`:${dt}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:Fe,port:dt,protocol:ce.replace(":",""),options:Object.freeze({disableWarnings:z})}),function(C){function g(){const m=document.createElement("p"),S=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",S.position="fixed",S.width="100%",S.backgroundColor="#ffffff",S.border=".1em solid #000000",S.color="#b50000",S.bottom="0px",S.left="0px",S.margin="0px",S.zIndex="10000",S.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!C&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",g):g())}(z)}(this._delegate,m,S)}applyActionCode(m){return function(C,g){return Ia.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return cu(this._delegate,m)}confirmPasswordReset(m,S){return function(C,g,m){return fo.apply(this,arguments)}(this._delegate,m,S)}createUserWithEmailAndPassword(m,S){var z=this;return(0,b.Z)(function*(){return rs(z._delegate,function(C,g,m){return jr.apply(this,arguments)}(z._delegate,m,S))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function(C,g){return Rr.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function(C,g){const m=Os.parseLink(g);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,b.Z)(function*(){Jl(nu(),m._delegate,"operation-not-supported-in-this-environment");const S=yield function(C,g){return Fi.apply(this,arguments)}(m._delegate,La);return S?rs(m._delegate,Promise.resolve(S)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function(C,g){Cn(C)._logFramework(g)}(this._delegate,m)}onAuthStateChanged(m,S,z){const{next:ce,error:Fe,complete:dt}=va(m,S,z);return this._delegate.onAuthStateChanged(ce,Fe,dt)}onIdTokenChanged(m,S,z){const{next:ce,error:Fe,complete:dt}=va(m,S,z);return this._delegate.onIdTokenChanged(ce,Fe,dt)}sendSignInLinkToEmail(m,S){return function(C,g,m){return ls.apply(this,arguments)}(this._delegate,m,S)}sendPasswordResetEmail(m,S){return function(C,g,m){return pi.apply(this,arguments)}(this._delegate,m,S||void 0)}setPersistence(m){var S=this;return(0,b.Z)(function*(){let z;switch(function(C,g){ql(Object.values($o).includes(g),C,"invalid-persistence-type"),(0,se.b$)()?ql(g!==$o.SESSION,C,"unsupported-persistence-type"):(0,se.UG)()?ql(g===$o.NONE,C,"unsupported-persistence-type"):Lc()?ql(g===$o.NONE||g===$o.LOCAL&&(0,se.hl)(),C,"unsupported-persistence-type"):ql(g===$o.NONE||Pc(),C,"unsupported-persistence-type")}(S._delegate,m),m){case $o.SESSION:z=rn;break;case $o.LOCAL:z=(yield $e(xt)._isAvailable())?xt:Be;break;case $o.NONE:z=Rn;break;default:return bt("argument-error",{appName:S._delegate.name})}return S._delegate.setPersistence(z)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return rs(this._delegate,function(C){return k.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return rs(this._delegate,ht(this._delegate,m))}signInWithCustomToken(m){return rs(this._delegate,function(C,g){return to.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,S){return rs(this._delegate,function(C,g,m){return ht((0,se.m9)(C),Xs.credential(g,m))}(this._delegate,m,S))}signInWithEmailLink(m,S){return rs(this._delegate,function(C,g,m){return $a.apply(this,arguments)}(this._delegate,m,S))}signInWithPhoneNumber(m,S){return Vc(this._delegate,function(C,g,m){return Dc.apply(this,arguments)}(this._delegate,m,S))}signInWithPopup(m){var S=this;return(0,b.Z)(function*(){return Jl(nu(),S._delegate,"operation-not-supported-in-this-environment"),rs(S._delegate,function(C,g,m){return uo.apply(this,arguments)}(S._delegate,m,La))})()}signInWithRedirect(m){var S=this;return(0,b.Z)(function*(){return Jl(nu(),S._delegate,"operation-not-supported-in-this-environment"),yield Dh(S._delegate),function(C,g,m){return function(C,g,m){return on.apply(this,arguments)}(C,g,m)}(S._delegate,m,La)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function(C,g){return Jn.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return C.Persistence=$o,C})();function va(C,g,m){let S=C;"function"!=typeof C&&({next:S,error:g,complete:m}=C);const z=S;return{next:Fe=>z(Fe&&ps.getOrCreate(Fe)),error:g,complete:m}}class Xl{constructor(){this.providerId="phone",this._delegate=new gu(As(O.Z.auth()))}static credential(g,m){return gu.credential(g,m)}verifyPhoneNumber(g,m){return this._delegate.verifyPhoneNumber(g,m)}unwrap(){return this._delegate}}Xl.PHONE_SIGN_IN_METHOD=gu.PHONE_SIGN_IN_METHOD,Xl.PROVIDER_ID=gu.PROVIDER_ID;const To=We;class Cu{constructor(g,m,S=O.Z.app()){var z;To(null===(z=S.options)||void 0===z?void 0:z.apiKey,"invalid-api-key",{appName:S.name}),this._delegate=new or(g,m,S.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(C){C.INTERNAL.registerComponent(new de.wA("auth-compat",g=>{const m=g.getProvider("app-compat").getImmediate(),S=g.getProvider("auth");return new Id(m,S)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Xs,FacebookAuthProvider:eo,GithubAuthProvider:Ns,GoogleAuthProvider:Rs,OAuthProvider:fi,PhoneAuthProvider:Xl,PhoneMultiFactorGenerator:pd,RecaptchaVerifier:Cu,TwitterAuthProvider:$s,Auth:Id,AuthCredential:ri,Error:se.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),C.registerVersion("@firebase/auth-compat","0.1.0")}(O.Z)},7083:(yt,Me,R)=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});var b=R(6345),O=R(2484);b.Observable.prototype.switchMap=O.switchMap},2484:(yt,Me,R)=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});var b=R(9916);Me.switchMap=function(se){return b.switchMap(se)(this)}},6345:(yt,Me,R)=>{"use strict";R.r(Me),R.d(Me,{ArgumentOutOfRangeError:()=>$e.W,AsyncSubject:()=>q.c,BehaviorSubject:()=>re.X,ConnectableObservable:()=>O.c,EMPTY:()=>Vn.E,EmptyError:()=>Re.K,GroupedObservable:()=>se.T,NEVER:()=>On,Notification:()=>$t.P,NotificationKind:()=>$t.W,ObjectUnsubscribedError:()=>Qe.N,Observable:()=>b.y,ReplaySubject:()=>de.t,Scheduler:()=>sn.b,Subject:()=>L.xQ,Subscriber:()=>Ge.L,Subscription:()=>bt.w,TimeoutError:()=>Ne.W,UnsubscriptionError:()=>Ye.B,VirtualAction:()=>_t,VirtualTimeScheduler:()=>me,animationFrame:()=>Xe,animationFrameScheduler:()=>Ze,asap:()=>J.e,asapScheduler:()=>J.E,async:()=>Q.P,asyncScheduler:()=>Q.z,bindCallback:()=>ke,bindNodeCallback:()=>ln,combineLatest:()=>qn.aj,concat:()=>yn.z,config:()=>Pr.v,defer:()=>qt.P,empty:()=>Vn.c,forkJoin:()=>Er.D,from:()=>Sr.D,fromEvent:()=>mr,fromEventPattern:()=>qe,generate:()=>we,identity:()=>Ot.y,iif:()=>nt,interval:()=>Lt,isObservable:()=>xe,merge:()=>Ft.T,never:()=>Cr,noop:()=>Rt.Z,observable:()=>oe.L,of:()=>Ar.of,onErrorResumeNext:()=>An,pairs:()=>Ir,partition:()=>Ve,pipe:()=>We.z,queue:()=>ue.c,queueScheduler:()=>ue.N,race:()=>ze.S3,range:()=>He,scheduled:()=>br.x,throwError:()=>Nt._,timer:()=>wn.H,using:()=>Rn,zip:()=>_n.$R});var b=R(9897),O=R(2441),se=R(304),oe=R(6554),L=R(9765),re=R(6215),de=R(8229),q=R(8660),J=R(4581),Q=R(3637),ue=R(7771),X=R(6465),ye=R(4548);const Ze=new class extends ye.v{flush(et){this.active=!0,this.scheduled=void 0;const{actions:it}=this;let St,Tt=-1,Kt=it.length;et=et||it.shift();do{if(St=et.execute(et.state,et.delay))break}while(++Tt<Kt&&(et=it.shift()));if(this.active=!1,St){for(;++Tt<Kt&&(et=it.shift());)et.unsubscribe();throw St}}}(class extends X.o{constructor(et,it){super(et,it),this.scheduler=et,this.work=it}requestAsyncId(et,it,St=0){return null!==St&&St>0?super.requestAsyncId(et,it,St):(et.actions.push(this),et.scheduled||(et.scheduled=requestAnimationFrame(()=>et.flush(null))))}recycleAsyncId(et,it,St=0){if(null!==St&&St>0||null===St&&this.delay>0)return super.recycleAsyncId(et,it,St);0===et.actions.length&&(cancelAnimationFrame(it),et.scheduled=void 0)}}),Xe=Ze;let me=(()=>{class rt extends ye.v{constructor(it=_t,St=Number.POSITIVE_INFINITY){super(it,()=>this.frame),this.maxFrames=St,this.frame=0,this.index=-1}flush(){const{actions:it,maxFrames:St}=this;let Tt,Kt;for(;(Kt=it[0])&&Kt.delay<=St&&(it.shift(),this.frame=Kt.delay,!(Tt=Kt.execute(Kt.state,Kt.delay))););if(Tt){for(;Kt=it.shift();)Kt.unsubscribe();throw Tt}}}return rt.frameTimeFactor=10,rt})();class _t extends X.o{constructor(et,it,St=(et.index+=1)){super(et,it),this.scheduler=et,this.work=it,this.index=St,this.active=!0,this.index=et.index=St}schedule(et,it=0){if(!this.id)return super.schedule(et,it);this.active=!1;const St=new _t(this.scheduler,this.work);return this.add(St),St.schedule(et,it)}requestAsyncId(et,it,St=0){this.delay=et.frame+St;const{actions:Tt}=et;return Tt.push(this),Tt.sort(_t.sortActions),!0}recycleAsyncId(et,it,St=0){}_execute(et,it){if(!0===this.active)return super._execute(et,it)}static sortActions(et,it){return et.delay===it.delay?et.index===it.index?0:et.index>it.index?1:-1:et.delay>it.delay?1:-1}}var sn=R(2217),bt=R(826),Ge=R(7393),$t=R(3098),We=R(4022),Rt=R(8640),Ot=R(4487);function xe(rt){return!!rt&&(rt instanceof b.y||"function"==typeof rt.lift&&"function"==typeof rt.subscribe)}var $e=R(7108),Re=R(3410),Qe=R(7971),Ye=R(7744),Ne=R(5587),Dt=R(8002),Zt=R(3179),ot=R(9796),vt=R(4869);function ke(rt,et,it){if(et){if(!(0,vt.K)(et))return(...St)=>ke(rt,it)(...St).pipe((0,Dt.U)(Tt=>(0,ot.k)(Tt)?et(...Tt):et(Tt)));it=et}return function(...St){const Tt=this;let Kt;const Tn={context:Tt,subject:Kt,callbackFunc:rt,scheduler:it};return new b.y(Xt=>{if(it)return it.schedule(Je,0,{args:St,subscriber:Xt,params:Tn});if(!Kt){Kt=new q.c;const kn=(...xn)=>{Kt.next(xn.length<=1?xn[0]:xn),Kt.complete()};try{rt.apply(Tt,[...St,kn])}catch(xn){(0,Zt._)(Kt)?Kt.error(xn):console.warn(xn)}}return Kt.subscribe(Xt)})}}function Je(rt){const{args:it,subscriber:St,params:Tt}=rt,{callbackFunc:Kt,context:Tn,scheduler:Xt}=Tt;let{subject:kn}=Tt;if(!kn){kn=Tt.subject=new q.c;const xn=(...Wn)=>{this.add(Xt.schedule(Yt,0,{value:Wn.length<=1?Wn[0]:Wn,subject:kn}))};try{Kt.apply(Tn,[...it,xn])}catch(Wn){kn.error(Wn)}}this.add(kn.subscribe(St))}function Yt(rt){const{value:et,subject:it}=rt;it.next(et),it.complete()}function ln(rt,et,it){if(et){if(!(0,vt.K)(et))return(...St)=>ln(rt,it)(...St).pipe((0,Dt.U)(Tt=>(0,ot.k)(Tt)?et(...Tt):et(Tt)));it=et}return function(...St){const Tt={subject:void 0,args:St,callbackFunc:rt,scheduler:it,context:this};return new b.y(Kt=>{const{context:Tn}=Tt;let{subject:Xt}=Tt;if(it)return it.schedule(tn,0,{params:Tt,subscriber:Kt,context:Tn});if(!Xt){Xt=Tt.subject=new q.c;const kn=(...xn)=>{const Wn=xn.shift();Wn?Xt.error(Wn):(Xt.next(xn.length<=1?xn[0]:xn),Xt.complete())};try{rt.apply(Tn,[...St,kn])}catch(xn){(0,Zt._)(Xt)?Xt.error(xn):console.warn(xn)}}return Xt.subscribe(Kt)})}}function tn(rt){const{params:et,subscriber:it,context:St}=rt,{callbackFunc:Tt,args:Kt,scheduler:Tn}=et;let Xt=et.subject;if(!Xt){Xt=et.subject=new q.c;const kn=(...xn)=>{const Wn=xn.shift();this.add(Wn?Tn.schedule(jn,0,{err:Wn,subject:Xt}):Tn.schedule(cr,0,{value:xn.length<=1?xn[0]:xn,subject:Xt}))};try{Tt.apply(St,[...Kt,kn])}catch(xn){this.add(Tn.schedule(jn,0,{err:xn,subject:Xt}))}}this.add(Xt.subscribe(it))}function cr(rt){const{value:et,subject:it}=rt;it.next(et),it.complete()}function jn(rt){const{err:et,subject:it}=rt;it.error(et)}var qn=R(9112),yn=R(9923),qt=R(1439),Vn=R(9193),Er=R(5758),Sr=R(9412),dr=R(9105);function mr(rt,et,it,St){return(0,dr.m)(it)&&(St=it,it=void 0),St?mr(rt,et,it).pipe((0,Dt.U)(Tt=>(0,ot.k)(Tt)?St(...Tt):St(Tt))):new b.y(Tt=>{Qt(rt,et,function(Tn){Tt.next(arguments.length>1?Array.prototype.slice.call(arguments):Tn)},Tt,it)})}function Qt(rt,et,it,St,Tt){let Kt;if(function(rt){return rt&&"function"==typeof rt.addEventListener&&"function"==typeof rt.removeEventListener}(rt)){const Tn=rt;rt.addEventListener(et,it,Tt),Kt=()=>Tn.removeEventListener(et,it,Tt)}else if(function(rt){return rt&&"function"==typeof rt.on&&"function"==typeof rt.off}(rt)){const Tn=rt;rt.on(et,it),Kt=()=>Tn.off(et,it)}else if(function(rt){return rt&&"function"==typeof rt.addListener&&"function"==typeof rt.removeListener}(rt)){const Tn=rt;rt.addListener(et,it),Kt=()=>Tn.removeListener(et,it)}else{if(!rt||!rt.length)throw new TypeError("Invalid event target");for(let Tn=0,Xt=rt.length;Tn<Xt;Tn++)Qt(rt[Tn],et,it,St,Tt)}St.add(Kt)}function qe(rt,et,it){return it?qe(rt,et).pipe((0,Dt.U)(St=>(0,ot.k)(St)?it(...St):it(St))):new b.y(St=>{const Tt=(...Tn)=>St.next(1===Tn.length?Tn[0]:Tn);let Kt;try{Kt=rt(Tt)}catch(Tn){return void St.error(Tn)}if((0,dr.m)(et))return()=>et(Tt,Kt)})}function we(rt,et,it,St,Tt){let Kt,Tn;return 1==arguments.length?(Tn=rt.initialState,et=rt.condition,it=rt.iterate,Kt=rt.resultSelector||Ot.y,Tt=rt.scheduler):void 0===St||(0,vt.K)(St)?(Tn=rt,Kt=Ot.y,Tt=St):(Tn=rt,Kt=St),new b.y(Xt=>{let kn=Tn;if(Tt)return Tt.schedule(Ce,0,{subscriber:Xt,iterate:it,condition:et,resultSelector:Kt,state:kn});for(;;){if(et){let Wn;try{Wn=et(kn)}catch(Si){return void Xt.error(Si)}if(!Wn){Xt.complete();break}}let xn;try{xn=Kt(kn)}catch(Wn){return void Xt.error(Wn)}if(Xt.next(xn),Xt.closed)break;try{kn=it(kn)}catch(Wn){return void Xt.error(Wn)}}})}function Ce(rt){const{subscriber:et,condition:it}=rt;if(et.closed)return;if(rt.needIterate)try{rt.state=rt.iterate(rt.state)}catch(Tt){return void et.error(Tt)}else rt.needIterate=!0;if(it){let Tt;try{Tt=it(rt.state)}catch(Kt){return void et.error(Kt)}if(!Tt)return void et.complete();if(et.closed)return}let St;try{St=rt.resultSelector(rt.state)}catch(Tt){return void et.error(Tt)}return et.closed||(et.next(St),et.closed)?void 0:this.schedule(rt)}function nt(rt,et=Vn.E,it=Vn.E){return(0,qt.P)(()=>rt()?et:it)}var gt=R(6561);function Lt(rt=0,et=Q.P){return(!(0,gt.k)(rt)||rt<0)&&(rt=0),(!et||"function"!=typeof et.schedule)&&(et=Q.P),new b.y(it=>(it.add(et.schedule(mt,rt,{subscriber:it,counter:0,period:rt})),it))}function mt(rt){const{subscriber:et,counter:it,period:St}=rt;et.next(it),this.schedule({subscriber:et,counter:it+1,period:St},St)}var Ft=R(6682);const On=new b.y(Rt.Z);function Cr(){return On}var Ar=R(5917);function An(...rt){if(0===rt.length)return Vn.E;const[et,...it]=rt;return 1===rt.length&&(0,ot.k)(et)?An(...et):new b.y(St=>{const Tt=()=>St.add(An(...it).subscribe(St));return(0,Sr.D)(et).subscribe({next(Kt){St.next(Kt)},error:Tt,complete:Tt})})}function Ir(rt,et){return new b.y(et?it=>{const St=Object.keys(rt),Tt=new bt.w;return Tt.add(et.schedule(Nn,0,{keys:St,index:0,subscriber:it,subscription:Tt,obj:rt})),Tt}:it=>{const St=Object.keys(rt);for(let Tt=0;Tt<St.length&&!it.closed;Tt++){const Kt=St[Tt];rt.hasOwnProperty(Kt)&&it.next([Kt,rt[Kt]])}it.complete()})}function Nn(rt){const{keys:et,index:it,subscriber:St,subscription:Tt,obj:Kt}=rt;if(!St.closed)if(it<et.length){const Tn=et[it];St.next([Tn,Kt[Tn]]),Tt.add(this.schedule({keys:et,index:it+1,subscriber:St,subscription:Tt,obj:Kt}))}else St.complete()}var en=R(9264),ve=R(7444),be=R(5435);function Ve(rt,et,it){return[(0,be.h)(et,it)(new b.y((0,ve.s)(rt))),(0,be.h)((0,en.f)(et,it))(new b.y((0,ve.s)(rt)))]}var ze=R(8085);function He(rt=0,et,it){return new b.y(St=>{void 0===et&&(et=rt,rt=0);let Tt=0,Kt=rt;if(it)return it.schedule(Mt,0,{index:Tt,count:et,start:rt,subscriber:St});for(;;){if(Tt++>=et){St.complete();break}if(St.next(Kt++),St.closed)break}})}function Mt(rt){const{start:et,index:it,count:St,subscriber:Tt}=rt;it>=St?Tt.complete():(Tt.next(et),!Tt.closed&&(rt.index=it+1,rt.start=et+1,this.schedule(rt)))}var Nt=R(205),wn=R(6797);function Rn(rt,et){return new b.y(it=>{let St,Tt;try{St=rt()}catch(Xt){return void it.error(Xt)}try{Tt=et(St)}catch(Xt){return void it.error(Xt)}const Tn=(Tt?(0,Sr.D)(Tt):Vn.E).subscribe(it);return()=>{Tn.unsubscribe(),St&&St.unsubscribe()}})}var _n=R(1571),br=R(1115),Pr=R(2494)},8660:(yt,Me,R)=>{"use strict";R.d(Me,{c:()=>se});var b=R(9765),O=R(826);class se extends b.xQ{constructor(){super(...arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}_subscribe(L){return this.hasError?(L.error(this.thrownError),O.w.EMPTY):this.hasCompleted&&this.hasNext?(L.next(this.value),L.complete(),O.w.EMPTY):super._subscribe(L)}next(L){this.hasCompleted||(this.value=L,this.hasNext=!0)}error(L){this.hasCompleted||super.error(L)}complete(){this.hasCompleted=!0,this.hasNext&&super.next(this.value),super.complete()}}},6215:(yt,Me,R)=>{"use strict";R.d(Me,{X:()=>se});var b=R(9765),O=R(7971);class se extends b.xQ{constructor(L){super(),this._value=L}get value(){return this.getValue()}_subscribe(L){const re=super._subscribe(L);return re&&!re.closed&&L.next(this._value),re}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new O.N;return this._value}next(L){super.next(this._value=L)}}},3098:(yt,Me,R)=>{"use strict";R.d(Me,{W:()=>oe,P:()=>L});var b=R(9193),O=R(5917),se=R(205),oe=(()=>{return(re=oe||(oe={})).NEXT="N",re.ERROR="E",re.COMPLETE="C",oe;var re})();class L{constructor(de,q,J){this.kind=de,this.value=q,this.error=J,this.hasValue="N"===de}observe(de){switch(this.kind){case"N":return de.next&&de.next(this.value);case"E":return de.error&&de.error(this.error);case"C":return de.complete&&de.complete()}}do(de,q,J){switch(this.kind){case"N":return de&&de(this.value);case"E":return q&&q(this.error);case"C":return J&&J()}}accept(de,q,J){return de&&"function"==typeof de.next?this.observe(de):this.do(de,q,J)}toObservable(){switch(this.kind){case"N":return(0,O.of)(this.value);case"E":return(0,se._)(this.error);case"C":return(0,b.c)()}throw new Error("unexpected notification kind value")}static createNext(de){return void 0!==de?new L("N",de):L.undefinedValueNotification}static createError(de){return new L("E",void 0,de)}static createComplete(){return L.completeNotification}}L.completeNotification=new L("C"),L.undefinedValueNotification=new L("N",void 0)},9897:(yt,Me,R)=>{"use strict";R.d(Me,{y:()=>J});var b=R(3179),O=R(7393),se=R(9181),oe=R(6490),re=R(6554),de=R(4022),q=R(2494);let J=(()=>{class ue{constructor(fe){this._isScalar=!1,fe&&(this._subscribe=fe)}lift(fe){const ye=new ue;return ye.source=this,ye.operator=fe,ye}subscribe(fe,ye,Pe){const{operator:Ze}=this,Xe=function(ue,X,fe){if(ue){if(ue instanceof O.L)return ue;if(ue[se.b])return ue[se.b]()}return ue||X||fe?new O.L(ue,X,fe):new O.L(oe.c)}(fe,ye,Pe);if(Xe.add(Ze?Ze.call(Xe,this.source):this.source||q.v.useDeprecatedSynchronousErrorHandling&&!Xe.syncErrorThrowable?this._subscribe(Xe):this._trySubscribe(Xe)),q.v.useDeprecatedSynchronousErrorHandling&&Xe.syncErrorThrowable&&(Xe.syncErrorThrowable=!1,Xe.syncErrorThrown))throw Xe.syncErrorValue;return Xe}_trySubscribe(fe){try{return this._subscribe(fe)}catch(ye){q.v.useDeprecatedSynchronousErrorHandling&&(fe.syncErrorThrown=!0,fe.syncErrorValue=ye),(0,b._)(fe)?fe.error(ye):console.warn(ye)}}forEach(fe,ye){return new(ye=Q(ye))((Pe,Ze)=>{let Xe;Xe=this.subscribe(me=>{try{fe(me)}catch(_t){Ze(_t),Xe&&Xe.unsubscribe()}},Ze,Pe)})}_subscribe(fe){const{source:ye}=this;return ye&&ye.subscribe(fe)}[re.L](){return this}pipe(...fe){return 0===fe.length?this:(0,de.U)(fe)(this)}toPromise(fe){return new(fe=Q(fe))((ye,Pe)=>{let Ze;this.subscribe(Xe=>Ze=Xe,Xe=>Pe(Xe),()=>ye(Ze))})}}return ue.create=X=>new ue(X),ue})();function Q(ue){if(ue||(ue=q.v.Promise||Promise),!ue)throw new Error("no Promise impl found");return ue}},6490:(yt,Me,R)=>{"use strict";R.d(Me,{c:()=>se});var b=R(2494),O=R(4449);const se={closed:!0,next(oe){},error(oe){if(b.v.useDeprecatedSynchronousErrorHandling)throw oe;(0,O.z)(oe)},complete(){}}},5197:(yt,Me,R)=>{"use strict";R.d(Me,{L:()=>O});var b=R(7393);class O extends b.L{notifyNext(oe,L,re,de,q){this.destination.next(L)}notifyError(oe,L){this.destination.error(oe)}notifyComplete(oe){this.destination.complete()}}},8229:(yt,Me,R)=>{"use strict";R.d(Me,{t:()=>de});var b=R(9765),O=R(7771),se=R(826),oe=R(9746),L=R(7971),re=R(8858);class de extends b.xQ{constructor(Q=Number.POSITIVE_INFINITY,ue=Number.POSITIVE_INFINITY,X){super(),this.scheduler=X,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=Q<1?1:Q,this._windowTime=ue<1?1:ue,ue===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(Q){if(!this.isStopped){const ue=this._events;ue.push(Q),ue.length>this._bufferSize&&ue.shift()}super.next(Q)}nextTimeWindow(Q){this.isStopped||(this._events.push(new q(this._getNow(),Q)),this._trimBufferThenGetEvents()),super.next(Q)}_subscribe(Q){const ue=this._infiniteTimeWindow,X=ue?this._events:this._trimBufferThenGetEvents(),fe=this.scheduler,ye=X.length;let Pe;if(this.closed)throw new L.N;if(this.isStopped||this.hasError?Pe=se.w.EMPTY:(this.observers.push(Q),Pe=new re.W(this,Q)),fe&&Q.add(Q=new oe.ht(Q,fe)),ue)for(let Ze=0;Ze<ye&&!Q.closed;Ze++)Q.next(X[Ze]);else for(let Ze=0;Ze<ye&&!Q.closed;Ze++)Q.next(X[Ze].value);return this.hasError?Q.error(this.thrownError):this.isStopped&&Q.complete(),Pe}_getNow(){return(this.scheduler||O.c).now()}_trimBufferThenGetEvents(){const Q=this._getNow(),ue=this._bufferSize,X=this._windowTime,fe=this._events,ye=fe.length;let Pe=0;for(;Pe<ye&&!(Q-fe[Pe].time<X);)Pe++;return ye>ue&&(Pe=Math.max(Pe,ye-ue)),Pe>0&&fe.splice(0,Pe),fe}}class q{constructor(Q,ue){this.time=Q,this.value=ue}}},2217:(yt,Me,R)=>{"use strict";R.d(Me,{b:()=>b});let b=(()=>{class O{constructor(oe,L=O.now){this.SchedulerAction=oe,this.now=L}schedule(oe,L=0,re){return new this.SchedulerAction(this,oe).schedule(re,L)}}return O.now=()=>Date.now(),O})()},9765:(yt,Me,R)=>{"use strict";R.d(Me,{Yc:()=>de,xQ:()=>q});var b=R(9897),O=R(7393),se=R(826),oe=R(7971),L=R(8858),re=R(9181);class de extends O.L{constructor(ue){super(ue),this.destination=ue}}let q=(()=>{class Q extends b.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[re.b](){return new de(this)}lift(X){const fe=new J(this,this);return fe.operator=X,fe}next(X){if(this.closed)throw new oe.N;if(!this.isStopped){const{observers:fe}=this,ye=fe.length,Pe=fe.slice();for(let Ze=0;Ze<ye;Ze++)Pe[Ze].next(X)}}error(X){if(this.closed)throw new oe.N;this.hasError=!0,this.thrownError=X,this.isStopped=!0;const{observers:fe}=this,ye=fe.length,Pe=fe.slice();for(let Ze=0;Ze<ye;Ze++)Pe[Ze].error(X);this.observers.length=0}complete(){if(this.closed)throw new oe.N;this.isStopped=!0;const{observers:X}=this,fe=X.length,ye=X.slice();for(let Pe=0;Pe<fe;Pe++)ye[Pe].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(X){if(this.closed)throw new oe.N;return super._trySubscribe(X)}_subscribe(X){if(this.closed)throw new oe.N;return this.hasError?(X.error(this.thrownError),se.w.EMPTY):this.isStopped?(X.complete(),se.w.EMPTY):(this.observers.push(X),new L.W(this,X))}asObservable(){const X=new b.y;return X.source=this,X}}return Q.create=(ue,X)=>new J(ue,X),Q})();class J extends q{constructor(ue,X){super(),this.destination=ue,this.source=X}next(ue){const{destination:X}=this;X&&X.next&&X.next(ue)}error(ue){const{destination:X}=this;X&&X.error&&this.destination.error(ue)}complete(){const{destination:ue}=this;ue&&ue.complete&&this.destination.complete()}_subscribe(ue){const{source:X}=this;return X?this.source.subscribe(ue):se.w.EMPTY}}},8858:(yt,Me,R)=>{"use strict";R.d(Me,{W:()=>O});var b=R(826);class O extends b.w{constructor(oe,L){super(),this.subject=oe,this.subscriber=L,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const oe=this.subject,L=oe.observers;if(this.subject=null,!L||0===L.length||oe.isStopped||oe.closed)return;const re=L.indexOf(this.subscriber);-1!==re&&L.splice(re,1)}}},7393:(yt,Me,R)=>{"use strict";R.d(Me,{L:()=>de});var b=R(9105),O=R(6490),se=R(826),oe=R(9181),L=R(2494),re=R(4449);class de extends se.w{constructor(Q,ue,X){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=O.c;break;case 1:if(!Q){this.destination=O.c;break}if("object"==typeof Q){Q instanceof de?(this.syncErrorThrowable=Q.syncErrorThrowable,this.destination=Q,Q.add(this)):(this.syncErrorThrowable=!0,this.destination=new q(this,Q));break}default:this.syncErrorThrowable=!0,this.destination=new q(this,Q,ue,X)}}[oe.b](){return this}static create(Q,ue,X){const fe=new de(Q,ue,X);return fe.syncErrorThrowable=!1,fe}next(Q){this.isStopped||this._next(Q)}error(Q){this.isStopped||(this.isStopped=!0,this._error(Q))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(Q){this.destination.next(Q)}_error(Q){this.destination.error(Q),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:Q}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=Q,this}}class q extends de{constructor(Q,ue,X,fe){super(),this._parentSubscriber=Q;let ye,Pe=this;(0,b.m)(ue)?ye=ue:ue&&(ye=ue.next,X=ue.error,fe=ue.complete,ue!==O.c&&(Pe=Object.create(ue),(0,b.m)(Pe.unsubscribe)&&this.add(Pe.unsubscribe.bind(Pe)),Pe.unsubscribe=this.unsubscribe.bind(this))),this._context=Pe,this._next=ye,this._error=X,this._complete=fe}next(Q){if(!this.isStopped&&this._next){const{_parentSubscriber:ue}=this;L.v.useDeprecatedSynchronousErrorHandling&&ue.syncErrorThrowable?this.__tryOrSetError(ue,this._next,Q)&&this.unsubscribe():this.__tryOrUnsub(this._next,Q)}}error(Q){if(!this.isStopped){const{_parentSubscriber:ue}=this,{useDeprecatedSynchronousErrorHandling:X}=L.v;if(this._error)X&&ue.syncErrorThrowable?(this.__tryOrSetError(ue,this._error,Q),this.unsubscribe()):(this.__tryOrUnsub(this._error,Q),this.unsubscribe());else if(ue.syncErrorThrowable)X?(ue.syncErrorValue=Q,ue.syncErrorThrown=!0):(0,re.z)(Q),this.unsubscribe();else{if(this.unsubscribe(),X)throw Q;(0,re.z)(Q)}}}complete(){if(!this.isStopped){const{_parentSubscriber:Q}=this;if(this._complete){const ue=()=>this._complete.call(this._context);L.v.useDeprecatedSynchronousErrorHandling&&Q.syncErrorThrowable?(this.__tryOrSetError(Q,ue),this.unsubscribe()):(this.__tryOrUnsub(ue),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(Q,ue){try{Q.call(this._context,ue)}catch(X){if(this.unsubscribe(),L.v.useDeprecatedSynchronousErrorHandling)throw X;(0,re.z)(X)}}__tryOrSetError(Q,ue,X){if(!L.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{ue.call(this._context,X)}catch(fe){return L.v.useDeprecatedSynchronousErrorHandling?(Q.syncErrorValue=fe,Q.syncErrorThrown=!0,!0):((0,re.z)(fe),!0)}return!1}_unsubscribe(){const{_parentSubscriber:Q}=this;this._context=null,this._parentSubscriber=null,Q.unsubscribe()}}},826:(yt,Me,R)=>{"use strict";R.d(Me,{w:()=>L});var de,b=R(9796),O=R(1555),se=R(9105),oe=R(7744);class L{constructor(q){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,q&&(this._ctorUnsubscribe=!0,this._unsubscribe=q)}unsubscribe(){let q;if(this.closed)return;let{_parentOrParents:J,_ctorUnsubscribe:Q,_unsubscribe:ue,_subscriptions:X}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,J instanceof L)J.remove(this);else if(null!==J)for(let fe=0;fe<J.length;++fe)J[fe].remove(this);if((0,se.m)(ue)){Q&&(this._unsubscribe=void 0);try{ue.call(this)}catch(fe){q=fe instanceof oe.B?re(fe.errors):[fe]}}if((0,b.k)(X)){let fe=-1,ye=X.length;for(;++fe<ye;){const Pe=X[fe];if((0,O.K)(Pe))try{Pe.unsubscribe()}catch(Ze){q=q||[],Ze instanceof oe.B?q=q.concat(re(Ze.errors)):q.push(Ze)}}}if(q)throw new oe.B(q)}add(q){let J=q;if(!q)return L.EMPTY;switch(typeof q){case"function":J=new L(q);case"object":if(J===this||J.closed||"function"!=typeof J.unsubscribe)return J;if(this.closed)return J.unsubscribe(),J;if(!(J instanceof L)){const X=J;J=new L,J._subscriptions=[X]}break;default:throw new Error("unrecognized teardown "+q+" added to Subscription.")}let{_parentOrParents:Q}=J;if(null===Q)J._parentOrParents=this;else if(Q instanceof L){if(Q===this)return J;J._parentOrParents=[Q,this]}else{if(-1!==Q.indexOf(this))return J;Q.push(this)}const ue=this._subscriptions;return null===ue?this._subscriptions=[J]:ue.push(J),J}remove(q){const J=this._subscriptions;if(J){const Q=J.indexOf(q);-1!==Q&&J.splice(Q,1)}}}function re(de){return de.reduce((q,J)=>q.concat(J instanceof oe.B?J.errors:J),[])}L.EMPTY=((de=new L).closed=!0,de)},2494:(yt,Me,R)=>{"use strict";R.d(Me,{v:()=>O});let b=!1;const O={Promise:void 0,set useDeprecatedSynchronousErrorHandling(se){if(se){const oe=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+oe.stack)}else b&&console.log("RxJS: Back to a better error behavior. Thank you. <3");b=se},get useDeprecatedSynchronousErrorHandling(){return b}}},5345:(yt,Me,R)=>{"use strict";R.d(Me,{IY:()=>oe,Ds:()=>re,ft:()=>q});var b=R(7393),O=R(9897),se=R(7444);class oe extends b.L{constructor(Q){super(),this.parent=Q}_next(Q){this.parent.notifyNext(Q)}_error(Q){this.parent.notifyError(Q),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class re extends b.L{notifyNext(Q){this.destination.next(Q)}notifyError(Q){this.destination.error(Q)}notifyComplete(){this.destination.complete()}}function q(J,Q){if(Q.closed)return;if(J instanceof O.y)return J.subscribe(Q);let ue;try{ue=(0,se.s)(J)(Q)}catch(X){Q.error(X)}return ue}},2441:(yt,Me,R)=>{"use strict";R.d(Me,{c:()=>L,N:()=>re});var b=R(9765),O=R(9897),se=R(826),oe=R(1307);class L extends O.y{constructor(ue,X){super(),this.source=ue,this.subjectFactory=X,this._refCount=0,this._isComplete=!1}_subscribe(ue){return this.getSubject().subscribe(ue)}getSubject(){const ue=this._subject;return(!ue||ue.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let ue=this._connection;return ue||(this._isComplete=!1,ue=this._connection=new se.w,ue.add(this.source.subscribe(new de(this.getSubject(),this))),ue.closed&&(this._connection=null,ue=se.w.EMPTY)),ue}refCount(){return(0,oe.x)()(this)}}const re=(()=>{const Q=L.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:Q._subscribe},_isComplete:{value:Q._isComplete,writable:!0},getSubject:{value:Q.getSubject},connect:{value:Q.connect},refCount:{value:Q.refCount}}})();class de extends b.Yc{constructor(ue,X){super(ue),this.connectable=X}_error(ue){this._unsubscribe(),super._error(ue)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const ue=this.connectable;if(ue){this.connectable=null;const X=ue._connection;ue._refCount=0,ue._subject=null,ue._connection=null,X&&X.unsubscribe()}}}},9112:(yt,Me,R)=>{"use strict";R.d(Me,{aj:()=>de,Ms:()=>q});var b=R(4869),O=R(9796),se=R(5197),oe=R(509),L=R(6693);const re={};function de(...Q){let ue,X;return(0,b.K)(Q[Q.length-1])&&(X=Q.pop()),"function"==typeof Q[Q.length-1]&&(ue=Q.pop()),1===Q.length&&(0,O.k)(Q[0])&&(Q=Q[0]),(0,L.n)(Q,X).lift(new q(ue))}class q{constructor(ue){this.resultSelector=ue}call(ue,X){return X.subscribe(new J(ue,this.resultSelector))}}class J extends se.L{constructor(ue,X){super(ue),this.resultSelector=X,this.active=0,this.values=[],this.observables=[]}_next(ue){this.values.push(re),this.observables.push(ue)}_complete(){const ue=this.observables,X=ue.length;if(0===X)this.destination.complete();else{this.active=X,this.toRespond=X;for(let fe=0;fe<X;fe++)this.add((0,oe.D)(this,ue[fe],void 0,fe))}}notifyComplete(ue){0==(this.active-=1)&&this.destination.complete()}notifyNext(ue,X,fe){const ye=this.values,Ze=this.toRespond?ye[fe]===re?--this.toRespond:this.toRespond:0;ye[fe]=X,0===Ze&&(this.resultSelector?this._tryResultSelector(ye):this.destination.next(ye.slice()))}_tryResultSelector(ue){let X;try{X=this.resultSelector.apply(this,ue)}catch(fe){return void this.destination.error(fe)}this.destination.next(X)}}},9923:(yt,Me,R)=>{"use strict";R.d(Me,{z:()=>se});var b=R(5917),O=R(5766);function se(...oe){return(0,O.u)()((0,b.of)(...oe))}},1439:(yt,Me,R)=>{"use strict";R.d(Me,{P:()=>oe});var b=R(9897),O=R(9412),se=R(9193);function oe(L){return new b.y(re=>{let de;try{de=L()}catch(J){return void re.error(J)}return(de?(0,O.D)(de):(0,se.c)()).subscribe(re)})}},9193:(yt,Me,R)=>{"use strict";R.d(Me,{E:()=>O,c:()=>se});var b=R(9897);const O=new b.y(L=>L.complete());function se(L){return L?function(L){return new b.y(re=>L.schedule(()=>re.complete()))}(L):O}},5758:(yt,Me,R)=>{"use strict";R.d(Me,{D:()=>re});var b=R(9897),O=R(9796),se=R(8002),oe=R(1555),L=R(9412);function re(...q){if(1===q.length){const J=q[0];if((0,O.k)(J))return de(J,null);if((0,oe.K)(J)&&Object.getPrototypeOf(J)===Object.prototype){const Q=Object.keys(J);return de(Q.map(ue=>J[ue]),Q)}}if("function"==typeof q[q.length-1]){const J=q.pop();return de(q=1===q.length&&(0,O.k)(q[0])?q[0]:q,null).pipe((0,se.U)(Q=>J(...Q)))}return de(q,null)}function de(q,J){return new b.y(Q=>{const ue=q.length;if(0===ue)return void Q.complete();const X=new Array(ue);let fe=0,ye=0;for(let Pe=0;Pe<ue;Pe++){const Ze=(0,L.D)(q[Pe]);let Xe=!1;Q.add(Ze.subscribe({next:me=>{Xe||(Xe=!0,ye++),X[Pe]=me},error:me=>Q.error(me),complete:()=>{fe++,(fe===ue||!Xe)&&(ye===ue&&Q.next(J?J.reduce((me,_t,sn)=>(me[_t]=X[sn],me),{}):X),Q.complete())}}))}})}},9412:(yt,Me,R)=>{"use strict";R.d(Me,{D:()=>oe});var b=R(9897),O=R(7444),se=R(1115);function oe(L,re){return re?(0,se.x)(L,re):L instanceof b.y?L:new b.y((0,O.s)(L))}},6693:(yt,Me,R)=>{"use strict";R.d(Me,{n:()=>oe});var b=R(9897),O=R(5015),se=R(4087);function oe(L,re){return re?(0,se.r)(L,re):new b.y((0,O.V)(L))}},6682:(yt,Me,R)=>{"use strict";R.d(Me,{T:()=>L});var b=R(9897),O=R(4869),se=R(3282),oe=R(6693);function L(...re){let de=Number.POSITIVE_INFINITY,q=null,J=re[re.length-1];return(0,O.K)(J)?(q=re.pop(),re.length>1&&"number"==typeof re[re.length-1]&&(de=re.pop())):"number"==typeof J&&(de=re.pop()),null===q&&1===re.length&&re[0]instanceof b.y?re[0]:(0,se.J)(de)((0,oe.n)(re,q))}},5917:(yt,Me,R)=>{"use strict";R.d(Me,{of:()=>oe});var b=R(4869),O=R(6693),se=R(4087);function oe(...L){let re=L[L.length-1];return(0,b.K)(re)?(L.pop(),(0,se.r)(L,re)):(0,O.n)(L)}},8085:(yt,Me,R)=>{"use strict";R.d(Me,{S3:()=>L});var b=R(9796),O=R(6693),se=R(5197),oe=R(509);function L(...q){if(1===q.length){if(!(0,b.k)(q[0]))return q[0];q=q[0]}return(0,O.n)(q,void 0).lift(new re)}class re{call(J,Q){return Q.subscribe(new de(J))}}class de extends se.L{constructor(J){super(J),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(J){this.observables.push(J)}_complete(){const J=this.observables,Q=J.length;if(0===Q)this.destination.complete();else{for(let ue=0;ue<Q&&!this.hasFirst;ue++){const fe=(0,oe.D)(this,J[ue],void 0,ue);this.subscriptions&&this.subscriptions.push(fe),this.add(fe)}this.observables=null}}notifyNext(J,Q,ue){if(!this.hasFirst){this.hasFirst=!0;for(let X=0;X<this.subscriptions.length;X++)if(X!==ue){let fe=this.subscriptions[X];fe.unsubscribe(),this.remove(fe)}this.subscriptions=null}this.destination.next(Q)}}},205:(yt,Me,R)=>{"use strict";R.d(Me,{_:()=>O});var b=R(9897);function O(oe,L){return new b.y(L?re=>L.schedule(se,0,{error:oe,subscriber:re}):re=>re.error(oe))}function se({error:oe,subscriber:L}){L.error(oe)}},6797:(yt,Me,R)=>{"use strict";R.d(Me,{H:()=>L});var b=R(9897),O=R(3637),se=R(6561),oe=R(4869);function L(de=0,q,J){let Q=-1;return(0,se.k)(q)?Q=Number(q)<1?1:Number(q):(0,oe.K)(q)&&(J=q),(0,oe.K)(J)||(J=O.P),new b.y(ue=>{const X=(0,se.k)(de)?de:+de-J.now();return J.schedule(re,X,{index:0,period:Q,subscriber:ue})})}function re(de){const{index:q,period:J,subscriber:Q}=de;if(Q.next(q),!Q.closed){if(-1===J)return Q.complete();de.index=q+1,this.schedule(de,J)}}},1571:(yt,Me,R)=>{"use strict";R.d(Me,{$R:()=>re,mx:()=>de});var b=R(6693),O=R(9796),se=R(7393),oe=R(377),L=R(5345);function re(...X){const fe=X[X.length-1];return"function"==typeof fe&&X.pop(),(0,b.n)(X,void 0).lift(new de(fe))}class de{constructor(fe){this.resultSelector=fe}call(fe,ye){return ye.subscribe(new q(fe,this.resultSelector))}}class q extends se.L{constructor(fe,ye,Pe=Object.create(null)){super(fe),this.resultSelector=ye,this.iterators=[],this.active=0,this.resultSelector="function"==typeof ye?ye:void 0}_next(fe){const ye=this.iterators;(0,O.k)(fe)?ye.push(new Q(fe)):ye.push("function"==typeof fe[oe.hZ]?new J(fe[oe.hZ]()):new ue(this.destination,this,fe))}_complete(){const fe=this.iterators,ye=fe.length;if(this.unsubscribe(),0!==ye){this.active=ye;for(let Pe=0;Pe<ye;Pe++){let Ze=fe[Pe];Ze.stillUnsubscribed?this.destination.add(Ze.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const fe=this.iterators,ye=fe.length,Pe=this.destination;for(let me=0;me<ye;me++){let _t=fe[me];if("function"==typeof _t.hasValue&&!_t.hasValue())return}let Ze=!1;const Xe=[];for(let me=0;me<ye;me++){let _t=fe[me],sn=_t.next();if(_t.hasCompleted()&&(Ze=!0),sn.done)return void Pe.complete();Xe.push(sn.value)}this.resultSelector?this._tryresultSelector(Xe):Pe.next(Xe),Ze&&Pe.complete()}_tryresultSelector(fe){let ye;try{ye=this.resultSelector.apply(this,fe)}catch(Pe){return void this.destination.error(Pe)}this.destination.next(ye)}}class J{constructor(fe){this.iterator=fe,this.nextResult=fe.next()}hasValue(){return!0}next(){const fe=this.nextResult;return this.nextResult=this.iterator.next(),fe}hasCompleted(){const fe=this.nextResult;return Boolean(fe&&fe.done)}}class Q{constructor(fe){this.array=fe,this.index=0,this.length=0,this.length=fe.length}[oe.hZ](){return this}next(fe){const ye=this.index++;return ye<this.length?{value:this.array[ye],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class ue extends L.Ds{constructor(fe,ye,Pe){super(fe),this.parent=ye,this.observable=Pe,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[oe.hZ](){return this}next(){const fe=this.buffer;return 0===fe.length&&this.isComplete?{value:null,done:!0}:{value:fe.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(fe){this.buffer.push(fe),this.parent.checkIterators()}subscribe(){return(0,L.ft)(this.observable,new L.IY(this))}}},5304:(yt,Me,R)=>{"use strict";R.d(Me,{K:()=>O});var b=R(5345);function O(L){return function(de){const q=new se(L),J=de.lift(q);return q.caught=J}}class se{constructor(re){this.selector=re}call(re,de){return de.subscribe(new oe(re,this.selector,this.caught))}}class oe extends b.Ds{constructor(re,de,q){super(re),this.selector=de,this.caught=q}error(re){if(!this.isStopped){let de;try{de=this.selector(re,this.caught)}catch(Q){return void super.error(Q)}this._unsubscribeAndRecycle();const q=new b.IY(this);this.add(q);const J=(0,b.ft)(de,q);J!==q&&this.add(J)}}}},5766:(yt,Me,R)=>{"use strict";R.d(Me,{u:()=>O});var b=R(3282);function O(){return(0,b.J)(1)}},4612:(yt,Me,R)=>{"use strict";R.d(Me,{b:()=>O});var b=R(9773);function O(se,oe){return(0,b.zg)(se,oe,1)}},5242:(yt,Me,R)=>{"use strict";R.d(Me,{d:()=>O});var b=R(7393);function O(L=null){return re=>re.lift(new se(L))}class se{constructor(re){this.defaultValue=re}call(re,de){return de.subscribe(new oe(re,this.defaultValue))}}class oe extends b.L{constructor(re,de){super(re),this.defaultValue=de,this.isEmpty=!0}_next(re){this.isEmpty=!1,this.destination.next(re)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},7519:(yt,Me,R)=>{"use strict";R.d(Me,{x:()=>O});var b=R(7393);function O(L,re){return de=>de.lift(new se(L,re))}class se{constructor(re,de){this.compare=re,this.keySelector=de}call(re,de){return de.subscribe(new oe(re,this.compare,this.keySelector))}}class oe extends b.L{constructor(re,de,q){super(re),this.keySelector=q,this.hasKey=!1,"function"==typeof de&&(this.compare=de)}compare(re,de){return re===de}_next(re){let de;try{const{keySelector:J}=this;de=J?J(re):re}catch(J){return this.destination.error(J)}let q=!1;if(this.hasKey)try{const{compare:J}=this;q=J(this.key,de)}catch(J){return this.destination.error(J)}else this.hasKey=!0;q||(this.key=de,this.destination.next(re))}}},5435:(yt,Me,R)=>{"use strict";R.d(Me,{h:()=>O});var b=R(7393);function O(L,re){return function(q){return q.lift(new se(L,re))}}class se{constructor(re,de){this.predicate=re,this.thisArg=de}call(re,de){return de.subscribe(new oe(re,this.predicate,this.thisArg))}}class oe extends b.L{constructor(re,de,q){super(re),this.predicate=de,this.thisArg=q,this.count=0}_next(re){let de;try{de=this.predicate.call(this.thisArg,re,this.count++)}catch(q){return void this.destination.error(q)}de&&this.destination.next(re)}}},8939:(yt,Me,R)=>{"use strict";R.d(Me,{x:()=>se});var b=R(7393),O=R(826);function se(re){return de=>de.lift(new oe(re))}class oe{constructor(de){this.callback=de}call(de,q){return q.subscribe(new L(de,this.callback))}}class L extends b.L{constructor(de,q){super(de),this.add(new O.w(q))}}},8049:(yt,Me,R)=>{"use strict";R.d(Me,{P:()=>de});var b=R(3410),O=R(5435),se=R(5257),oe=R(5242),L=R(4635),re=R(4487);function de(q,J){const Q=arguments.length>=2;return ue=>ue.pipe(q?(0,O.h)((X,fe)=>q(X,fe,ue)):re.y,(0,se.q)(1),Q?(0,oe.d)(J):(0,L.T)(()=>new b.K))}},304:(yt,Me,R)=>{"use strict";R.d(Me,{v:()=>L,T:()=>J});var b=R(7393),O=R(826),se=R(9897),oe=R(9765);function L(ue,X,fe,ye){return Pe=>Pe.lift(new re(ue,X,fe,ye))}class re{constructor(X,fe,ye,Pe){this.keySelector=X,this.elementSelector=fe,this.durationSelector=ye,this.subjectSelector=Pe}call(X,fe){return fe.subscribe(new de(X,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class de extends b.L{constructor(X,fe,ye,Pe,Ze){super(X),this.keySelector=fe,this.elementSelector=ye,this.durationSelector=Pe,this.subjectSelector=Ze,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(X){let fe;try{fe=this.keySelector(X)}catch(ye){return void this.error(ye)}this._group(X,fe)}_group(X,fe){let ye=this.groups;ye||(ye=this.groups=new Map);let Ze,Pe=ye.get(fe);if(this.elementSelector)try{Ze=this.elementSelector(X)}catch(Xe){this.error(Xe)}else Ze=X;if(!Pe){Pe=this.subjectSelector?this.subjectSelector():new oe.xQ,ye.set(fe,Pe);const Xe=new J(fe,Pe,this);if(this.destination.next(Xe),this.durationSelector){let me;try{me=this.durationSelector(new J(fe,Pe))}catch(_t){return void this.error(_t)}this.add(me.subscribe(new q(fe,Pe,this)))}}Pe.closed||Pe.next(Ze)}_error(X){const fe=this.groups;fe&&(fe.forEach((ye,Pe)=>{ye.error(X)}),fe.clear()),this.destination.error(X)}_complete(){const X=this.groups;X&&(X.forEach((fe,ye)=>{fe.complete()}),X.clear()),this.destination.complete()}removeGroup(X){this.groups.delete(X)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class q extends b.L{constructor(X,fe,ye){super(fe),this.key=X,this.group=fe,this.parent=ye}_next(X){this.complete()}_unsubscribe(){const{parent:X,key:fe}=this;this.key=this.parent=null,X&&X.removeGroup(fe)}}class J extends se.y{constructor(X,fe,ye){super(),this.key=X,this.groupSubject=fe,this.refCountSubscription=ye}_subscribe(X){const fe=new O.w,{refCountSubscription:ye,groupSubject:Pe}=this;return ye&&!ye.closed&&fe.add(new Q(ye)),fe.add(Pe.subscribe(X)),fe}}class Q extends O.w{constructor(X){super(),this.parent=X,X.count++}unsubscribe(){const X=this.parent;!X.closed&&!this.closed&&(super.unsubscribe(),X.count-=1,0===X.count&&X.attemptedToUnsubscribe&&X.unsubscribe())}}},2627:(yt,Me,R)=>{"use strict";R.d(Me,{Z:()=>de});var b=R(3410),O=R(5435),se=R(548),oe=R(4635),L=R(5242),re=R(4487);function de(q,J){const Q=arguments.length>=2;return ue=>ue.pipe(q?(0,O.h)((X,fe)=>q(X,fe,ue)):re.y,(0,se.h)(1),Q?(0,L.d)(J):(0,oe.T)(()=>new b.K))}},8002:(yt,Me,R)=>{"use strict";R.d(Me,{U:()=>O});var b=R(7393);function O(L,re){return function(q){if("function"!=typeof L)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return q.lift(new se(L,re))}}class se{constructor(re,de){this.project=re,this.thisArg=de}call(re,de){return de.subscribe(new oe(re,this.project,this.thisArg))}}class oe extends b.L{constructor(re,de,q){super(re),this.project=de,this.count=0,this.thisArg=q||this}_next(re){let de;try{de=this.project.call(this.thisArg,re,this.count++)}catch(q){return void this.destination.error(q)}this.destination.next(de)}}},3282:(yt,Me,R)=>{"use strict";R.d(Me,{J:()=>se});var b=R(9773),O=R(4487);function se(oe=Number.POSITIVE_INFINITY){return(0,b.zg)(O.y,oe)}},9773:(yt,Me,R)=>{"use strict";R.d(Me,{zg:()=>oe,VS:()=>de});var b=R(8002),O=R(9412),se=R(5345);function oe(q,J,Q=Number.POSITIVE_INFINITY){return"function"==typeof J?ue=>ue.pipe(oe((X,fe)=>(0,O.D)(q(X,fe)).pipe((0,b.U)((ye,Pe)=>J(X,ye,fe,Pe))),Q)):("number"==typeof J&&(Q=J),ue=>ue.lift(new L(q,Q)))}class L{constructor(J,Q=Number.POSITIVE_INFINITY){this.project=J,this.concurrent=Q}call(J,Q){return Q.subscribe(new re(J,this.project,this.concurrent))}}class re extends se.Ds{constructor(J,Q,ue=Number.POSITIVE_INFINITY){super(J),this.project=Q,this.concurrent=ue,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(J){this.active<this.concurrent?this._tryNext(J):this.buffer.push(J)}_tryNext(J){let Q;const ue=this.index++;try{Q=this.project(J,ue)}catch(X){return void this.destination.error(X)}this.active++,this._innerSub(Q)}_innerSub(J){const Q=new se.IY(this),ue=this.destination;ue.add(Q);const X=(0,se.ft)(J,Q);X!==Q&&ue.add(X)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(J){this.destination.next(J)}notifyComplete(){const J=this.buffer;this.active--,J.length>0?this._next(J.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}const de=oe},4458:(yt,Me,R)=>{"use strict";R.d(Me,{O:()=>O});var b=R(2441);function O(oe,L){return function(de){let q;if(q="function"==typeof oe?oe:function(){return oe},"function"==typeof L)return de.lift(new se(q,L));const J=Object.create(de,b.N);return J.source=de,J.subjectFactory=q,J}}class se{constructor(L,re){this.subjectFactory=L,this.selector=re}call(L,re){const{selector:de}=this,q=this.subjectFactory(),J=de(q).subscribe(L);return J.add(re.subscribe(q)),J}}},9746:(yt,Me,R)=>{"use strict";R.d(Me,{QV:()=>se,ht:()=>L});var b=R(7393),O=R(3098);function se(de,q=0){return function(Q){return Q.lift(new oe(de,q))}}class oe{constructor(q,J=0){this.scheduler=q,this.delay=J}call(q,J){return J.subscribe(new L(q,this.scheduler,this.delay))}}class L extends b.L{constructor(q,J,Q=0){super(q),this.scheduler=J,this.delay=Q}static dispatch(q){const{notification:J,destination:Q}=q;J.observe(Q),this.unsubscribe()}scheduleMessage(q){this.destination.add(this.scheduler.schedule(L.dispatch,this.delay,new re(q,this.destination)))}_next(q){this.scheduleMessage(O.P.createNext(q))}_error(q){this.scheduleMessage(O.P.createError(q)),this.unsubscribe()}_complete(){this.scheduleMessage(O.P.createComplete()),this.unsubscribe()}}class re{constructor(q,J){this.notification=q,this.destination=J}}},9328:(yt,Me,R)=>{"use strict";R.d(Me,{G:()=>O});var b=R(7393);function O(){return L=>L.lift(new se)}class se{call(re,de){return de.subscribe(new oe(re))}}class oe extends b.L{constructor(re){super(re),this.hasPrev=!1}_next(re){let de;this.hasPrev?de=[this.prev,re]:this.hasPrev=!0,this.prev=re,de&&this.destination.next(de)}}},1307:(yt,Me,R)=>{"use strict";R.d(Me,{x:()=>O});var b=R(7393);function O(){return function(re){return re.lift(new se(re))}}class se{constructor(re){this.connectable=re}call(re,de){const{connectable:q}=this;q._refCount++;const J=new oe(re,q),Q=de.subscribe(J);return J.closed||(J.connection=q.connect()),Q}}class oe extends b.L{constructor(re,de){super(re),this.connectable=de}_unsubscribe(){const{connectable:re}=this;if(!re)return void(this.connection=null);this.connectable=null;const de=re._refCount;if(de<=0)return void(this.connection=null);if(re._refCount=de-1,de>1)return void(this.connection=null);const{connection:q}=this,J=re._connection;this.connection=null,J&&(!q||J===q)&&J.unsubscribe()}}},2145:(yt,Me,R)=>{"use strict";R.d(Me,{R:()=>O});var b=R(7393);function O(L,re){let de=!1;return arguments.length>=2&&(de=!0),function(J){return J.lift(new se(L,re,de))}}class se{constructor(re,de,q=!1){this.accumulator=re,this.seed=de,this.hasSeed=q}call(re,de){return de.subscribe(new oe(re,this.accumulator,this.seed,this.hasSeed))}}class oe extends b.L{constructor(re,de,q,J){super(re),this.accumulator=de,this._seed=q,this.hasSeed=J,this.index=0}get seed(){return this._seed}set seed(re){this.hasSeed=!0,this._seed=re}_next(re){if(this.hasSeed)return this._tryNext(re);this.seed=re,this.destination.next(re)}_tryNext(re){const de=this.index++;let q;try{q=this.accumulator(this.seed,re,de)}catch(J){this.destination.error(J)}this.seed=q,this.destination.next(q)}}},8345:(yt,Me,R)=>{"use strict";R.d(Me,{B:()=>L});var b=R(4458),O=R(1307),se=R(9765);function oe(){return new se.xQ}function L(){return re=>(0,O.x)()((0,b.O)(oe)(re))}},7349:(yt,Me,R)=>{"use strict";R.d(Me,{d:()=>O});var b=R(8229);function O(oe,L,re){let de;return de=oe&&"object"==typeof oe?oe:{bufferSize:oe,windowTime:L,refCount:!1,scheduler:re},q=>q.lift(function({bufferSize:oe=Number.POSITIVE_INFINITY,windowTime:L=Number.POSITIVE_INFINITY,refCount:re,scheduler:de}){let q,Q,J=0,ue=!1,X=!1;return function(ye){let Pe;J++,!q||ue?(ue=!1,q=new b.t(oe,L,de),Pe=q.subscribe(this),Q=ye.subscribe({next(Ze){q.next(Ze)},error(Ze){ue=!0,q.error(Ze)},complete(){X=!0,Q=void 0,q.complete()}}),X&&(Q=void 0)):Pe=q.subscribe(this),this.add(()=>{J--,Pe.unsubscribe(),Pe=void 0,Q&&!X&&re&&0===J&&(Q.unsubscribe(),Q=void 0,q=void 0)})}}(de))}},9761:(yt,Me,R)=>{"use strict";R.d(Me,{O:()=>se});var b=R(9923),O=R(4869);function se(...oe){const L=oe[oe.length-1];return(0,O.K)(L)?(oe.pop(),re=>(0,b.z)(oe,re,L)):re=>(0,b.z)(oe,re)}},9673:(yt,Me,R)=>{"use strict";R.d(Me,{R:()=>L});var b=R(9897),O=R(4581),se=R(6561);class oe extends b.y{constructor(q,J=0,Q=O.e){super(),this.source=q,this.delayTime=J,this.scheduler=Q,(!(0,se.k)(J)||J<0)&&(this.delayTime=0),(!Q||"function"!=typeof Q.schedule)&&(this.scheduler=O.e)}static create(q,J=0,Q=O.e){return new oe(q,J,Q)}static dispatch(q){const{source:J,subscriber:Q}=q;return this.add(J.subscribe(Q))}_subscribe(q){return this.scheduler.schedule(oe.dispatch,this.delayTime,{source:this.source,subscriber:q})}}function L(de,q=0){return function(Q){return Q.lift(new re(de,q))}}class re{constructor(q,J){this.scheduler=q,this.delay=J}call(q,J){return new oe(J,this.delay,this.scheduler).subscribe(q)}}},3190:(yt,Me,R)=>{"use strict";R.d(Me,{w:()=>oe});var b=R(8002),O=R(9412),se=R(5345);function oe(de,q){return"function"==typeof q?J=>J.pipe(oe((Q,ue)=>(0,O.D)(de(Q,ue)).pipe((0,b.U)((X,fe)=>q(Q,X,ue,fe))))):J=>J.lift(new L(de))}class L{constructor(q){this.project=q}call(q,J){return J.subscribe(new re(q,this.project))}}class re extends se.Ds{constructor(q,J){super(q),this.project=J,this.index=0}_next(q){let J;const Q=this.index++;try{J=this.project(q,Q)}catch(ue){return void this.destination.error(ue)}this._innerSub(J)}_innerSub(q){const J=this.innerSubscription;J&&J.unsubscribe();const Q=new se.IY(this),ue=this.destination;ue.add(Q),this.innerSubscription=(0,se.ft)(q,Q),this.innerSubscription!==Q&&ue.add(this.innerSubscription)}_complete(){const{innerSubscription:q}=this;(!q||q.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(q){this.destination.next(q)}}},9499:(yt,Me,R)=>{"use strict";R.d(Me,{c:()=>O});var b=R(3190);function O(se,oe){return oe?(0,b.w)(()=>se,oe):(0,b.w)(()=>se)}},5257:(yt,Me,R)=>{"use strict";R.d(Me,{q:()=>oe});var b=R(7393),O=R(7108),se=R(9193);function oe(de){return q=>0===de?(0,se.c)():q.lift(new L(de))}class L{constructor(q){if(this.total=q,this.total<0)throw new O.W}call(q,J){return J.subscribe(new re(q,this.total))}}class re extends b.L{constructor(q,J){super(q),this.total=J,this.count=0}_next(q){const J=this.total,Q=++this.count;Q<=J&&(this.destination.next(q),Q===J&&(this.destination.complete(),this.unsubscribe()))}}},548:(yt,Me,R)=>{"use strict";R.d(Me,{h:()=>oe});var b=R(7393),O=R(7108),se=R(9193);function oe(de){return function(J){return 0===de?(0,se.c)():J.lift(new L(de))}}class L{constructor(q){if(this.total=q,this.total<0)throw new O.W}call(q,J){return J.subscribe(new re(q,this.total))}}class re extends b.L{constructor(q,J){super(q),this.total=J,this.ring=new Array,this.count=0}_next(q){const J=this.ring,Q=this.total,ue=this.count++;J.length<Q?J.push(q):J[ue%Q]=q}_complete(){const q=this.destination;let J=this.count;if(J>0){const Q=this.count>=this.total?this.total:this.count,ue=this.ring;for(let X=0;X<Q;X++){const fe=J++%Q;q.next(ue[fe])}}q.complete()}}},8307:(yt,Me,R)=>{"use strict";R.d(Me,{b:()=>oe});var b=R(7393),O=R(8640),se=R(9105);function oe(de,q,J){return function(ue){return ue.lift(new L(de,q,J))}}class L{constructor(q,J,Q){this.nextOrObserver=q,this.error=J,this.complete=Q}call(q,J){return J.subscribe(new re(q,this.nextOrObserver,this.error,this.complete))}}class re extends b.L{constructor(q,J,Q,ue){super(q),this._tapNext=O.Z,this._tapError=O.Z,this._tapComplete=O.Z,this._tapError=Q||O.Z,this._tapComplete=ue||O.Z,(0,se.m)(J)?(this._context=this,this._tapNext=J):J&&(this._context=J,this._tapNext=J.next||O.Z,this._tapError=J.error||O.Z,this._tapComplete=J.complete||O.Z)}_next(q){try{this._tapNext.call(this._context,q)}catch(J){return void this.destination.error(J)}this.destination.next(q)}_error(q){try{this._tapError.call(this._context,q)}catch(J){return void this.destination.error(J)}this.destination.error(q)}_complete(){try{this._tapComplete.call(this._context)}catch(q){return void this.destination.error(q)}return this.destination.complete()}}},4635:(yt,Me,R)=>{"use strict";R.d(Me,{T:()=>se});var b=R(3410),O=R(7393);function se(de=re){return q=>q.lift(new oe(de))}class oe{constructor(q){this.errorFactory=q}call(q,J){return J.subscribe(new L(q,this.errorFactory))}}class L extends O.L{constructor(q,J){super(q),this.errorFactory=J,this.hasValue=!1}_next(q){this.hasValue=!0,this.destination.next(q)}_complete(){if(this.hasValue)return this.destination.complete();{let q;try{q=this.errorFactory()}catch(J){q=J}this.destination.error(q)}}}function re(){return new b.K}},4087:(yt,Me,R)=>{"use strict";R.d(Me,{r:()=>se});var b=R(9897),O=R(826);function se(oe,L){return new b.y(re=>{const de=new O.w;let q=0;return de.add(L.schedule(function(){q!==oe.length?(re.next(oe[q++]),re.closed||de.add(this.schedule())):re.complete()})),de})}},1115:(yt,Me,R)=>{"use strict";R.d(Me,{x:()=>fe});var b=R(9897),O=R(826),se=R(6554),re=R(4087),de=R(377),Q=R(4072),ue=R(9489);function fe(ye,Pe){if(null!=ye){if(function(ye){return ye&&"function"==typeof ye[se.L]}(ye))return function(ye,Pe){return new b.y(Ze=>{const Xe=new O.w;return Xe.add(Pe.schedule(()=>{const me=ye[se.L]();Xe.add(me.subscribe({next(_t){Xe.add(Pe.schedule(()=>Ze.next(_t)))},error(_t){Xe.add(Pe.schedule(()=>Ze.error(_t)))},complete(){Xe.add(Pe.schedule(()=>Ze.complete()))}}))})),Xe})}(ye,Pe);if((0,Q.t)(ye))return function(ye,Pe){return new b.y(Ze=>{const Xe=new O.w;return Xe.add(Pe.schedule(()=>ye.then(me=>{Xe.add(Pe.schedule(()=>{Ze.next(me),Xe.add(Pe.schedule(()=>Ze.complete()))}))},me=>{Xe.add(Pe.schedule(()=>Ze.error(me)))}))),Xe})}(ye,Pe);if((0,ue.z)(ye))return(0,re.r)(ye,Pe);if(function(ye){return ye&&"function"==typeof ye[de.hZ]}(ye)||"string"==typeof ye)return function(ye,Pe){if(!ye)throw new Error("Iterable cannot be null");return new b.y(Ze=>{const Xe=new O.w;let me;return Xe.add(()=>{me&&"function"==typeof me.return&&me.return()}),Xe.add(Pe.schedule(()=>{me=ye[de.hZ](),Xe.add(Pe.schedule(function(){if(Ze.closed)return;let _t,sn;try{const bt=me.next();_t=bt.value,sn=bt.done}catch(bt){return void Ze.error(bt)}sn?Ze.complete():(Ze.next(_t),this.schedule())}))})),Xe})}(ye,Pe)}throw new TypeError((null!==ye&&typeof ye||ye)+" is not observable")}},6465:(yt,Me,R)=>{"use strict";R.d(Me,{o:()=>se});var b=R(826);class O extends b.w{constructor(L,re){super()}schedule(L,re=0){return this}}class se extends O{constructor(L,re){super(L,re),this.scheduler=L,this.work=re,this.pending=!1}schedule(L,re=0){if(this.closed)return this;this.state=L;const de=this.id,q=this.scheduler;return null!=de&&(this.id=this.recycleAsyncId(q,de,re)),this.pending=!0,this.delay=re,this.id=this.id||this.requestAsyncId(q,this.id,re),this}requestAsyncId(L,re,de=0){return setInterval(L.flush.bind(L,this),de)}recycleAsyncId(L,re,de=0){if(null!==de&&this.delay===de&&!1===this.pending)return re;clearInterval(re)}execute(L,re){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(L,re);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(L,re){let q,de=!1;try{this.work(L)}catch(J){de=!0,q=!!J&&J||new Error(J)}if(de)return this.unsubscribe(),q}_unsubscribe(){const L=this.id,re=this.scheduler,de=re.actions,q=de.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==q&&de.splice(q,1),null!=L&&(this.id=this.recycleAsyncId(re,L,null)),this.delay=null}}},4548:(yt,Me,R)=>{"use strict";R.d(Me,{v:()=>O});var b=R(2217);class O extends b.b{constructor(oe,L=b.b.now){super(oe,()=>O.delegate&&O.delegate!==this?O.delegate.now():L()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(oe,L=0,re){return O.delegate&&O.delegate!==this?O.delegate.schedule(oe,L,re):super.schedule(oe,L,re)}flush(oe){const{actions:L}=this;if(this.active)return void L.push(oe);let re;this.active=!0;do{if(re=oe.execute(oe.state,oe.delay))break}while(oe=L.shift());if(this.active=!1,re){for(;oe=L.shift();)oe.unsubscribe();throw re}}}},4581:(yt,Me,R)=>{"use strict";R.d(Me,{e:()=>X,E:()=>ue});let b=1;const O=Promise.resolve(),se={};function oe(fe){return fe in se&&(delete se[fe],!0)}const L={setImmediate(fe){const ye=b++;return se[ye]=!0,O.then(()=>oe(ye)&&fe()),ye},clearImmediate(fe){oe(fe)}};var de=R(6465),J=R(4548);const ue=new class extends J.v{flush(ye){this.active=!0,this.scheduled=void 0;const{actions:Pe}=this;let Ze,Xe=-1,me=Pe.length;ye=ye||Pe.shift();do{if(Ze=ye.execute(ye.state,ye.delay))break}while(++Xe<me&&(ye=Pe.shift()));if(this.active=!1,Ze){for(;++Xe<me&&(ye=Pe.shift());)ye.unsubscribe();throw Ze}}}(class extends de.o{constructor(ye,Pe){super(ye,Pe),this.scheduler=ye,this.work=Pe}requestAsyncId(ye,Pe,Ze=0){return null!==Ze&&Ze>0?super.requestAsyncId(ye,Pe,Ze):(ye.actions.push(this),ye.scheduled||(ye.scheduled=L.setImmediate(ye.flush.bind(ye,null))))}recycleAsyncId(ye,Pe,Ze=0){if(null!==Ze&&Ze>0||null===Ze&&this.delay>0)return super.recycleAsyncId(ye,Pe,Ze);0===ye.actions.length&&(L.clearImmediate(Pe),ye.scheduled=void 0)}}),X=ue},3637:(yt,Me,R)=>{"use strict";R.d(Me,{z:()=>se,P:()=>oe});var b=R(6465);const se=new(R(4548).v)(b.o),oe=se},7771:(yt,Me,R)=>{"use strict";R.d(Me,{c:()=>re,N:()=>L});var b=R(6465),se=R(4548);const L=new class extends se.v{}(class extends b.o{constructor(q,J){super(q,J),this.scheduler=q,this.work=J}schedule(q,J=0){return J>0?super.schedule(q,J):(this.delay=J,this.state=q,this.scheduler.flush(this),this)}execute(q,J){return J>0||this.closed?super.execute(q,J):this._execute(q,J)}requestAsyncId(q,J,Q=0){return null!==Q&&Q>0||null===Q&&this.delay>0?super.requestAsyncId(q,J,Q):q.flush(this)}}),re=L},377:(yt,Me,R)=>{"use strict";R.d(Me,{hZ:()=>O});const O="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(yt,Me,R)=>{"use strict";R.d(Me,{L:()=>b});const b="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(yt,Me,R)=>{"use strict";R.d(Me,{b:()=>b});const b="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:(yt,Me,R)=>{"use strict";R.d(Me,{W:()=>O});const O=(()=>{function se(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return se.prototype=Object.create(Error.prototype),se})()},3410:(yt,Me,R)=>{"use strict";R.d(Me,{K:()=>O});const O=(()=>{function se(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return se.prototype=Object.create(Error.prototype),se})()},7971:(yt,Me,R)=>{"use strict";R.d(Me,{N:()=>O});const O=(()=>{function se(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return se.prototype=Object.create(Error.prototype),se})()},5587:(yt,Me,R)=>{"use strict";R.d(Me,{W:()=>O});const O=(()=>{function se(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return se.prototype=Object.create(Error.prototype),se})()},7744:(yt,Me,R)=>{"use strict";R.d(Me,{B:()=>O});const O=(()=>{function se(oe){return Error.call(this),this.message=oe?`${oe.length} errors occurred during unsubscription:\n${oe.map((L,re)=>`${re+1}) ${L.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=oe,this}return se.prototype=Object.create(Error.prototype),se})()},3179:(yt,Me,R)=>{"use strict";R.d(Me,{_:()=>O});var b=R(7393);function O(se){for(;se;){const{closed:oe,destination:L,isStopped:re}=se;if(oe||re)return!1;se=L&&L instanceof b.L?L:null}return!0}},4449:(yt,Me,R)=>{"use strict";function b(O){setTimeout(()=>{throw O},0)}R.d(Me,{z:()=>b})},4487:(yt,Me,R)=>{"use strict";function b(O){return O}R.d(Me,{y:()=>b})},9796:(yt,Me,R)=>{"use strict";R.d(Me,{k:()=>b});const b=Array.isArray||(O=>O&&"number"==typeof O.length)},9489:(yt,Me,R)=>{"use strict";R.d(Me,{z:()=>b});const b=O=>O&&"number"==typeof O.length&&"function"!=typeof O},9105:(yt,Me,R)=>{"use strict";function b(O){return"function"==typeof O}R.d(Me,{m:()=>b})},6561:(yt,Me,R)=>{"use strict";R.d(Me,{k:()=>O});var b=R(9796);function O(se){return!(0,b.k)(se)&&se-parseFloat(se)+1>=0}},1555:(yt,Me,R)=>{"use strict";function b(O){return null!==O&&"object"==typeof O}R.d(Me,{K:()=>b})},4072:(yt,Me,R)=>{"use strict";function b(O){return!!O&&"function"!=typeof O.subscribe&&"function"==typeof O.then}R.d(Me,{t:()=>b})},4869:(yt,Me,R)=>{"use strict";function b(O){return O&&"function"==typeof O.schedule}R.d(Me,{K:()=>b})},8640:(yt,Me,R)=>{"use strict";function b(){}R.d(Me,{Z:()=>b})},9264:(yt,Me,R)=>{"use strict";function b(O,se){function oe(){return!oe.pred.apply(oe.thisArg,arguments)}return oe.pred=O,oe.thisArg=se,oe}R.d(Me,{f:()=>b})},4022:(yt,Me,R)=>{"use strict";R.d(Me,{z:()=>O,U:()=>se});var b=R(4487);function O(...oe){return se(oe)}function se(oe){return 0===oe.length?b.y:1===oe.length?oe[0]:function(re){return oe.reduce((de,q)=>q(de),re)}}},7444:(yt,Me,R)=>{"use strict";R.d(Me,{s:()=>ue});var b=R(5015),O=R(4449),oe=R(377),re=R(6554),q=R(9489),J=R(4072),Q=R(1555);const ue=X=>{if(X&&"function"==typeof X[re.L])return(X=>fe=>{const ye=X[re.L]();if("function"!=typeof ye.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return ye.subscribe(fe)})(X);if((0,q.z)(X))return(0,b.V)(X);if((0,J.t)(X))return(X=>fe=>(X.then(ye=>{fe.closed||(fe.next(ye),fe.complete())},ye=>fe.error(ye)).then(null,O.z),fe))(X);if(X&&"function"==typeof X[oe.hZ])return(X=>fe=>{const ye=X[oe.hZ]();for(;;){let Pe;try{Pe=ye.next()}catch(Ze){return fe.error(Ze),fe}if(Pe.done){fe.complete();break}if(fe.next(Pe.value),fe.closed)break}return"function"==typeof ye.return&&fe.add(()=>{ye.return&&ye.return()}),fe})(X);{const ye=`You provided ${(0,Q.K)(X)?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(ye)}}},5015:(yt,Me,R)=>{"use strict";R.d(Me,{V:()=>b});const b=O=>se=>{for(let oe=0,L=O.length;oe<L&&!se.closed;oe++)se.next(O[oe]);se.complete()}},509:(yt,Me,R)=>{"use strict";R.d(Me,{D:()=>L});var b=R(7393);class O extends b.L{constructor(de,q,J){super(),this.parent=de,this.outerValue=q,this.outerIndex=J,this.index=0}_next(de){this.parent.notifyNext(this.outerValue,de,this.outerIndex,this.index++,this)}_error(de){this.parent.notifyError(de,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var se=R(7444),oe=R(9897);function L(re,de,q,J,Q=new O(re,q,J)){if(!Q.closed)return de instanceof oe.y?de.subscribe(Q):(0,se.s)(de)(Q)}},9916:(yt,Me,R)=>{"use strict";R.r(Me),R.d(Me,{audit:()=>O,auditTime:()=>de,buffer:()=>q,bufferCount:()=>X,bufferTime:()=>Xe,bufferToggle:()=>xe,bufferWhen:()=>Qe,catchError:()=>Dt.K,combineAll:()=>ot,combineLatest:()=>Yt,concat:()=>ln,concatAll:()=>tn.u,concatMap:()=>cr.b,concatMapTo:()=>jn,count:()=>qn,debounce:()=>Vn,debounceTime:()=>dr,defaultIfEmpty:()=>bn.d,delay:()=>qe,delayWhen:()=>Lt,dematerialize:()=>Ar,distinct:()=>Nn,distinctUntilChanged:()=>be.x,distinctUntilKeyChanged:()=>Ve,elementAt:()=>wn,endWith:()=>_n,every:()=>br,exhaust:()=>et,exhaustMap:()=>Kt,expand:()=>kn,filter:()=>He.h,finalize:()=>Si.x,find:()=>ui,findIndex:()=>Cn,first:()=>Jr.P,flatMap:()=>di.VS,groupBy:()=>tr.v,ignoreElements:()=>Ln,isEmpty:()=>js,last:()=>Zi.Z,map:()=>Tt.U,mapTo:()=>li,materialize:()=>zr,max:()=>_s,merge:()=>ci,mergeAll:()=>yi.J,mergeMap:()=>di.zg,mergeMapTo:()=>Or,mergeScan:()=>Js,min:()=>xi,multicast:()=>vi.O,observeOn:()=>Li.QV,onErrorResumeNext:()=>Vr,pairwise:()=>hi.G,partition:()=>Ur,pluck:()=>Po,publish:()=>Lo,publishBehavior:()=>Oi,publishLast:()=>Qi,publishReplay:()=>aa,race:()=>ki,reduce:()=>ys,refCount:()=>G.x,repeat:()=>fi,repeatWhen:()=>Ns,retry:()=>Xr,retryWhen:()=>as,sample:()=>j,sampleTime:()=>tt,scan:()=>Kr.R,sequenceEqual:()=>ii,share:()=>$.B,shareReplay:()=>ae.d,single:()=>at,skip:()=>vn,skipLast:()=>In,skipUntil:()=>qr,skipWhile:()=>no,startWith:()=>pi.O,subscribeOn:()=>Fo.R,switchAll:()=>Ia,switchMap:()=>fo.w,switchMapTo:()=>cu.c,take:()=>Nt.q,takeLast:()=>Gn.h,takeUntil:()=>po,takeWhile:()=>Da,tap:()=>go.b,throttle:()=>Zo,throttleTime:()=>du,throwIfEmpty:()=>Mt.T,timeInterval:()=>Vo,timeout:()=>ua,timeoutWith:()=>hu,timestamp:()=>yo,toArray:()=>la,window:()=>vo,windowCount:()=>ro,windowTime:()=>ca,windowToggle:()=>Ma,windowWhen:()=>Ga,withLatestFrom:()=>Cs,zip:()=>cs,zipAll:()=>Is});var b=R(5345);function O(he){return function(F){return F.lift(new se(he))}}class se{constructor(I){this.durationSelector=I}call(I,F){return F.subscribe(new oe(I,this.durationSelector))}}class oe extends b.Ds{constructor(I,F){super(I),this.durationSelector=F,this.hasValue=!1}_next(I){if(this.value=I,this.hasValue=!0,!this.throttled){let F;try{const{durationSelector:Be}=this;F=Be(I)}catch(Be){return this.destination.error(Be)}const pe=(0,b.ft)(F,new b.IY(this));!pe||pe.closed?this.clearThrottle():this.add(this.throttled=pe)}}clearThrottle(){const{value:I,hasValue:F,throttled:pe}=this;pe&&(this.remove(pe),this.throttled=void 0,pe.unsubscribe()),F&&(this.value=void 0,this.hasValue=!1,this.destination.next(I))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var L=R(3637),re=R(6797);function de(he,I=L.P){return O(()=>(0,re.H)(he,I))}function q(he){return function(F){return F.lift(new J(he))}}class J{constructor(I){this.closingNotifier=I}call(I,F){return F.subscribe(new Q(I,this.closingNotifier))}}class Q extends b.Ds{constructor(I,F){super(I),this.buffer=[],this.add((0,b.ft)(F,new b.IY(this)))}_next(I){this.buffer.push(I)}notifyNext(){const I=this.buffer;this.buffer=[],this.destination.next(I)}}var ue=R(7393);function X(he,I=null){return function(pe){return pe.lift(new fe(he,I))}}class fe{constructor(I,F){this.bufferSize=I,this.startBufferEvery=F,this.subscriberClass=F&&I!==F?Pe:ye}call(I,F){return F.subscribe(new this.subscriberClass(I,this.bufferSize,this.startBufferEvery))}}class ye extends ue.L{constructor(I,F){super(I),this.bufferSize=F,this.buffer=[]}_next(I){const F=this.buffer;F.push(I),F.length==this.bufferSize&&(this.destination.next(F),this.buffer=[])}_complete(){const I=this.buffer;I.length>0&&this.destination.next(I),super._complete()}}class Pe extends ue.L{constructor(I,F,pe){super(I),this.bufferSize=F,this.startBufferEvery=pe,this.buffers=[],this.count=0}_next(I){const{bufferSize:F,startBufferEvery:pe,buffers:Be,count:ft}=this;this.count++,ft%pe==0&&Be.push([]);for(let rn=Be.length;rn--;){const pr=Be[rn];pr.push(I),pr.length===F&&(Be.splice(rn,1),this.destination.next(pr))}}_complete(){const{buffers:I,destination:F}=this;for(;I.length>0;){let pe=I.shift();pe.length>0&&F.next(pe)}super._complete()}}var Ze=R(4869);function Xe(he){let I=arguments.length,F=L.P;(0,Ze.K)(arguments[arguments.length-1])&&(F=arguments[arguments.length-1],I--);let pe=null;I>=2&&(pe=arguments[1]);let Be=Number.POSITIVE_INFINITY;return I>=3&&(Be=arguments[2]),function(rn){return rn.lift(new me(he,pe,Be,F))}}class me{constructor(I,F,pe,Be){this.bufferTimeSpan=I,this.bufferCreationInterval=F,this.maxBufferSize=pe,this.scheduler=Be}call(I,F){return F.subscribe(new sn(I,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))}}class _t{constructor(){this.buffer=[]}}class sn extends ue.L{constructor(I,F,pe,Be,ft){super(I),this.bufferTimeSpan=F,this.bufferCreationInterval=pe,this.maxBufferSize=Be,this.scheduler=ft,this.contexts=[];const rn=this.openContext();if(this.timespanOnly=null==pe||pe<0,this.timespanOnly)this.add(rn.closeAction=ft.schedule(bt,F,{subscriber:this,context:rn,bufferTimeSpan:F}));else{const $r={bufferTimeSpan:F,bufferCreationInterval:pe,subscriber:this,scheduler:ft};this.add(rn.closeAction=ft.schedule($t,F,{subscriber:this,context:rn})),this.add(ft.schedule(Ge,pe,$r))}}_next(I){const F=this.contexts,pe=F.length;let Be;for(let ft=0;ft<pe;ft++){const rn=F[ft],pr=rn.buffer;pr.push(I),pr.length==this.maxBufferSize&&(Be=rn)}Be&&this.onBufferFull(Be)}_error(I){this.contexts.length=0,super._error(I)}_complete(){const{contexts:I,destination:F}=this;for(;I.length>0;){const pe=I.shift();F.next(pe.buffer)}super._complete()}_unsubscribe(){this.contexts=null}onBufferFull(I){this.closeContext(I);const F=I.closeAction;if(F.unsubscribe(),this.remove(F),!this.closed&&this.timespanOnly){I=this.openContext();const pe=this.bufferTimeSpan;this.add(I.closeAction=this.scheduler.schedule(bt,pe,{subscriber:this,context:I,bufferTimeSpan:pe}))}}openContext(){const I=new _t;return this.contexts.push(I),I}closeContext(I){this.destination.next(I.buffer);const F=this.contexts;(F?F.indexOf(I):-1)>=0&&F.splice(F.indexOf(I),1)}}function bt(he){const I=he.subscriber,F=he.context;F&&I.closeContext(F),I.closed||(he.context=I.openContext(),he.context.closeAction=this.schedule(he,he.bufferTimeSpan))}function Ge(he){const{bufferCreationInterval:I,bufferTimeSpan:F,subscriber:pe,scheduler:Be}=he,ft=pe.openContext();pe.closed||(pe.add(ft.closeAction=Be.schedule($t,F,{subscriber:pe,context:ft})),this.schedule(he,I))}function $t(he){const{subscriber:I,context:F}=he;I.closeContext(F)}var We=R(826),Rt=R(509),Ot=R(5197);function xe(he,I){return function(pe){return pe.lift(new $e(he,I))}}class $e{constructor(I,F){this.openings=I,this.closingSelector=F}call(I,F){return F.subscribe(new Re(I,this.openings,this.closingSelector))}}class Re extends Ot.L{constructor(I,F,pe){super(I),this.closingSelector=pe,this.contexts=[],this.add((0,Rt.D)(this,F))}_next(I){const F=this.contexts,pe=F.length;for(let Be=0;Be<pe;Be++)F[Be].buffer.push(I)}_error(I){const F=this.contexts;for(;F.length>0;){const pe=F.shift();pe.subscription.unsubscribe(),pe.buffer=null,pe.subscription=null}this.contexts=null,super._error(I)}_complete(){const I=this.contexts;for(;I.length>0;){const F=I.shift();this.destination.next(F.buffer),F.subscription.unsubscribe(),F.buffer=null,F.subscription=null}this.contexts=null,super._complete()}notifyNext(I,F){I?this.closeBuffer(I):this.openBuffer(F)}notifyComplete(I){this.closeBuffer(I.context)}openBuffer(I){try{const pe=this.closingSelector.call(this,I);pe&&this.trySubscribe(pe)}catch(F){this._error(F)}}closeBuffer(I){const F=this.contexts;if(F&&I){const{buffer:pe,subscription:Be}=I;this.destination.next(pe),F.splice(F.indexOf(I),1),this.remove(Be),Be.unsubscribe()}}trySubscribe(I){const F=this.contexts,Be=new We.w,ft={buffer:[],subscription:Be};F.push(ft);const rn=(0,Rt.D)(this,I,ft);!rn||rn.closed?this.closeBuffer(ft):(rn.context=ft,this.add(rn),Be.add(rn))}}function Qe(he){return function(I){return I.lift(new Ye(he))}}class Ye{constructor(I){this.closingSelector=I}call(I,F){return F.subscribe(new Ne(I,this.closingSelector))}}class Ne extends b.Ds{constructor(I,F){super(I),this.closingSelector=F,this.subscribing=!1,this.openBuffer()}_next(I){this.buffer.push(I)}_complete(){const I=this.buffer;I&&this.destination.next(I),super._complete()}_unsubscribe(){this.buffer=void 0,this.subscribing=!1}notifyNext(){this.openBuffer()}notifyComplete(){this.subscribing?this.complete():this.openBuffer()}openBuffer(){let pe,{closingSubscription:I}=this;I&&(this.remove(I),I.unsubscribe()),this.buffer&&this.destination.next(this.buffer),this.buffer=[];try{const{closingSelector:Be}=this;pe=Be()}catch(Be){return this.error(Be)}I=new We.w,this.closingSubscription=I,this.add(I),this.subscribing=!0,I.add((0,b.ft)(pe,new b.IY(this))),this.subscribing=!1}}var Dt=R(5304),Zt=R(9112);function ot(he){return I=>I.lift(new Zt.Ms(he))}var vt=R(9796),ke=R(9412);function Yt(...he){let I=null;return"function"==typeof he[he.length-1]&&(I=he.pop()),1===he.length&&(0,vt.k)(he[0])&&(he=he[0].slice()),F=>F.lift.call((0,ke.D)([F,...he]),new Zt.Ms(I))}var un=R(9923);function ln(...he){return I=>I.lift.call((0,un.z)(I,...he))}var tn=R(5766),cr=R(4612);function jn(he,I){return(0,cr.b)(()=>he,I)}function qn(he){return I=>I.lift(new yn(he,I))}class yn{constructor(I,F){this.predicate=I,this.source=F}call(I,F){return F.subscribe(new qt(I,this.predicate,this.source))}}class qt extends ue.L{constructor(I,F,pe){super(I),this.predicate=F,this.source=pe,this.count=0,this.index=0}_next(I){this.predicate?this._tryPredicate(I):this.count++}_tryPredicate(I){let F;try{F=this.predicate(I,this.index++,this.source)}catch(pe){return void this.destination.error(pe)}F&&this.count++}_complete(){this.destination.next(this.count),this.destination.complete()}}function Vn(he){return I=>I.lift(new Er(he))}class Er{constructor(I){this.durationSelector=I}call(I,F){return F.subscribe(new Sr(I,this.durationSelector))}}class Sr extends b.Ds{constructor(I,F){super(I),this.durationSelector=F,this.hasValue=!1}_next(I){try{const F=this.durationSelector.call(this,I);F&&this._tryNext(I,F)}catch(F){this.destination.error(F)}}_complete(){this.emitValue(),this.destination.complete()}_tryNext(I,F){let pe=this.durationSubscription;this.value=I,this.hasValue=!0,pe&&(pe.unsubscribe(),this.remove(pe)),pe=(0,b.ft)(F,new b.IY(this)),pe&&!pe.closed&&this.add(this.durationSubscription=pe)}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){if(this.hasValue){const I=this.value,F=this.durationSubscription;F&&(this.durationSubscription=void 0,F.unsubscribe(),this.remove(F)),this.value=void 0,this.hasValue=!1,super._next(I)}}}function dr(he,I=L.P){return F=>F.lift(new Ki(he,I))}class Ki{constructor(I,F){this.dueTime=I,this.scheduler=F}call(I,F){return F.subscribe(new mr(I,this.dueTime,this.scheduler))}}class mr extends ue.L{constructor(I,F,pe){super(I),this.dueTime=F,this.scheduler=pe,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(I){this.clearDebounce(),this.lastValue=I,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Qt,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:I}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(I)}}clearDebounce(){const I=this.debouncedSubscription;null!==I&&(this.remove(I),I.unsubscribe(),this.debouncedSubscription=null)}}function Qt(he){he.debouncedNext()}var bn=R(5242);function Qr(he){return he instanceof Date&&!isNaN(+he)}var ur=R(3098);function qe(he,I=L.P){const pe=Qr(he)?+he-I.now():Math.abs(he);return Be=>Be.lift(new we(pe,I))}class we{constructor(I,F){this.delay=I,this.scheduler=F}call(I,F){return F.subscribe(new Ce(I,this.delay,this.scheduler))}}class Ce extends ue.L{constructor(I,F,pe){super(I),this.delay=F,this.scheduler=pe,this.queue=[],this.active=!1,this.errored=!1}static dispatch(I){const F=I.source,pe=F.queue,Be=I.scheduler,ft=I.destination;for(;pe.length>0&&pe[0].time-Be.now()<=0;)pe.shift().notification.observe(ft);if(pe.length>0){const rn=Math.max(0,pe[0].time-Be.now());this.schedule(I,rn)}else this.unsubscribe(),F.active=!1}_schedule(I){this.active=!0,this.destination.add(I.schedule(Ce.dispatch,this.delay,{source:this,destination:this.destination,scheduler:I}))}scheduleNotification(I){if(!0===this.errored)return;const F=this.scheduler,pe=new nt(F.now()+this.delay,I);this.queue.push(pe),!1===this.active&&this._schedule(F)}_next(I){this.scheduleNotification(ur.P.createNext(I))}_error(I){this.errored=!0,this.queue=[],this.destination.error(I),this.unsubscribe()}_complete(){this.scheduleNotification(ur.P.createComplete()),this.unsubscribe()}}class nt{constructor(I,F){this.time=I,this.notification=F}}var gt=R(9897);function Lt(he,I){return I?F=>new On(F,I).lift(new mt(he)):F=>F.lift(new mt(he))}class mt{constructor(I){this.delayDurationSelector=I}call(I,F){return F.subscribe(new Ft(I,this.delayDurationSelector))}}class Ft extends Ot.L{constructor(I,F){super(I),this.delayDurationSelector=F,this.completed=!1,this.delayNotifierSubscriptions=[],this.index=0}notifyNext(I,F,pe,Be,ft){this.destination.next(I),this.removeSubscription(ft),this.tryComplete()}notifyError(I,F){this._error(I)}notifyComplete(I){const F=this.removeSubscription(I);F&&this.destination.next(F),this.tryComplete()}_next(I){const F=this.index++;try{const pe=this.delayDurationSelector(I,F);pe&&this.tryDelay(pe,I)}catch(pe){this.destination.error(pe)}}_complete(){this.completed=!0,this.tryComplete(),this.unsubscribe()}removeSubscription(I){I.unsubscribe();const F=this.delayNotifierSubscriptions.indexOf(I);return-1!==F&&this.delayNotifierSubscriptions.splice(F,1),I.outerValue}tryDelay(I,F){const pe=(0,Rt.D)(this,I,F);pe&&!pe.closed&&(this.destination.add(pe),this.delayNotifierSubscriptions.push(pe))}tryComplete(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()}}class On extends gt.y{constructor(I,F){super(),this.source=I,this.subscriptionDelay=F}_subscribe(I){this.subscriptionDelay.subscribe(new Cr(I,this.source))}}class Cr extends ue.L{constructor(I,F){super(),this.parent=I,this.source=F,this.sourceSubscribed=!1}_next(I){this.subscribeToSource()}_error(I){this.unsubscribe(),this.parent.error(I)}_complete(){this.unsubscribe(),this.subscribeToSource()}subscribeToSource(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))}}function Ar(){return function(I){return I.lift(new An)}}class An{call(I,F){return F.subscribe(new Ir(I))}}class Ir extends ue.L{constructor(I){super(I)}_next(I){I.observe(this.destination)}}function Nn(he,I){return F=>F.lift(new en(he,I))}class en{constructor(I,F){this.keySelector=I,this.flushes=F}call(I,F){return F.subscribe(new ve(I,this.keySelector,this.flushes))}}class ve extends b.Ds{constructor(I,F,pe){super(I),this.keySelector=F,this.values=new Set,pe&&this.add((0,b.ft)(pe,new b.IY(this)))}notifyNext(){this.values.clear()}notifyError(I){this._error(I)}_next(I){this.keySelector?this._useKeySelector(I):this._finalizeNext(I,I)}_useKeySelector(I){let F;const{destination:pe}=this;try{F=this.keySelector(I)}catch(Be){return void pe.error(Be)}this._finalizeNext(F,I)}_finalizeNext(I,F){const{values:pe}=this;pe.has(I)||(pe.add(I),this.destination.next(F))}}var be=R(7519);function Ve(he,I){return(0,be.x)((F,pe)=>I?I(F[he],pe[he]):F[he]===pe[he])}var ze=R(7108),He=R(5435),Mt=R(4635),Nt=R(5257);function wn(he,I){if(he<0)throw new ze.W;const F=arguments.length>=2;return pe=>pe.pipe((0,He.h)((Be,ft)=>ft===he),(0,Nt.q)(1),F?(0,bn.d)(I):(0,Mt.T)(()=>new ze.W))}var Rn=R(5917);function _n(...he){return I=>(0,un.z)(I,(0,Rn.of)(...he))}function br(he,I){return F=>F.lift(new Pr(he,I,F))}class Pr{constructor(I,F,pe){this.predicate=I,this.thisArg=F,this.source=pe}call(I,F){return F.subscribe(new rt(I,this.predicate,this.thisArg,this.source))}}class rt extends ue.L{constructor(I,F,pe,Be){super(I),this.predicate=F,this.thisArg=pe,this.source=Be,this.index=0,this.thisArg=pe||this}notifyComplete(I){this.destination.next(I),this.destination.complete()}_next(I){let F=!1;try{F=this.predicate.call(this.thisArg,I,this.index++,this.source)}catch(pe){return void this.destination.error(pe)}F||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function et(){return he=>he.lift(new it)}class it{call(I,F){return F.subscribe(new St(I))}}class St extends b.Ds{constructor(I){super(I),this.hasCompleted=!1,this.hasSubscription=!1}_next(I){this.hasSubscription||(this.hasSubscription=!0,this.add((0,b.ft)(I,new b.IY(this))))}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}var Tt=R(8002);function Kt(he,I){return I?F=>F.pipe(Kt((pe,Be)=>(0,ke.D)(he(pe,Be)).pipe((0,Tt.U)((ft,rn)=>I(pe,ft,Be,rn))))):F=>F.lift(new Tn(he))}class Tn{constructor(I){this.project=I}call(I,F){return F.subscribe(new Xt(I,this.project))}}class Xt extends b.Ds{constructor(I,F){super(I),this.project=F,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(I){this.hasSubscription||this.tryNext(I)}tryNext(I){let F;const pe=this.index++;try{F=this.project(I,pe)}catch(Be){return void this.destination.error(Be)}this.hasSubscription=!0,this._innerSub(F)}_innerSub(I){const F=new b.IY(this),pe=this.destination;pe.add(F);const Be=(0,b.ft)(I,F);Be!==F&&pe.add(Be)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(I){this.destination.next(I)}notifyError(I){this.destination.error(I)}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}function kn(he,I=Number.POSITIVE_INFINITY,F){return I=(I||0)<1?Number.POSITIVE_INFINITY:I,pe=>pe.lift(new xn(he,I,F))}class xn{constructor(I,F,pe){this.project=I,this.concurrent=F,this.scheduler=pe}call(I,F){return F.subscribe(new Wn(I,this.project,this.concurrent,this.scheduler))}}class Wn extends b.Ds{constructor(I,F,pe,Be){super(I),this.project=F,this.concurrent=pe,this.scheduler=Be,this.index=0,this.active=0,this.hasCompleted=!1,pe<Number.POSITIVE_INFINITY&&(this.buffer=[])}static dispatch(I){const{subscriber:F,result:pe,value:Be,index:ft}=I;F.subscribeToProjection(pe,Be,ft)}_next(I){const F=this.destination;if(F.closed)return void this._complete();const pe=this.index++;if(this.active<this.concurrent){F.next(I);try{const{project:Be}=this,ft=Be(I,pe);this.scheduler?this.destination.add(this.scheduler.schedule(Wn.dispatch,0,{subscriber:this,result:ft,value:I,index:pe})):this.subscribeToProjection(ft,I,pe)}catch(Be){F.error(Be)}}else this.buffer.push(I)}subscribeToProjection(I,F,pe){this.active++,this.destination.add((0,b.ft)(I,new b.IY(this)))}_complete(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()}notifyNext(I){this._next(I)}notifyComplete(){const I=this.buffer;this.active--,I&&I.length>0&&this._next(I.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()}}var Si=R(8939);function ui(he,I){if("function"!=typeof he)throw new TypeError("predicate is not a function");return F=>F.lift(new Ht(he,F,!1,I))}class Ht{constructor(I,F,pe,Be){this.predicate=I,this.source=F,this.yieldIndex=pe,this.thisArg=Be}call(I,F){return F.subscribe(new Pn(I,this.predicate,this.source,this.yieldIndex,this.thisArg))}}class Pn extends ue.L{constructor(I,F,pe,Be,ft){super(I),this.predicate=F,this.source=pe,this.yieldIndex=Be,this.thisArg=ft,this.index=0}notifyComplete(I){const F=this.destination;F.next(I),F.complete(),this.unsubscribe()}_next(I){const{predicate:F,thisArg:pe}=this,Be=this.index++;try{F.call(pe||this,I,Be,this.source)&&this.notifyComplete(this.yieldIndex?Be:I)}catch(ft){this.destination.error(ft)}}_complete(){this.notifyComplete(this.yieldIndex?-1:void 0)}}function Cn(he,I){return F=>F.lift(new Ht(he,F,!0,I))}var Jr=R(8049),tr=R(304);function Ln(){return function(I){return I.lift(new Ai)}}class Ai{call(I,F){return F.subscribe(new Dr(I))}}class Dr extends ue.L{_next(I){}}function js(){return he=>he.lift(new ri)}class ri{call(I,F){return F.subscribe(new Sn(I))}}class Sn extends ue.L{constructor(I){super(I)}notifyComplete(I){const F=this.destination;F.next(I),F.complete()}_next(I){this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}var Zi=R(2627);function li(he){return I=>I.lift(new ss(he))}class ss{constructor(I){this.value=I}call(I,F){return F.subscribe(new qi(I,this.value))}}class qi extends ue.L{constructor(I,F){super(I),this.value=F}_next(I){this.destination.next(this.value)}}function zr(){return function(I){return I.lift(new ji)}}class ji{call(I,F){return F.subscribe(new Hi(I))}}class Hi extends ue.L{constructor(I){super(I)}_next(I){this.destination.next(ur.P.createNext(I))}_error(I){const F=this.destination;F.next(ur.P.createError(I)),F.complete()}_complete(){const I=this.destination;I.next(ur.P.createComplete()),I.complete()}}var Kr=R(2145),Gn=R(548),Yi=R(4022);function ys(he,I){return arguments.length>=2?function(pe){return(0,Yi.z)((0,Kr.R)(he,I),(0,Gn.h)(1),(0,bn.d)(I))(pe)}:function(pe){return(0,Yi.z)((0,Kr.R)((Be,ft,rn)=>he(Be,ft,rn+1)),(0,Gn.h)(1))(pe)}}function _s(he){return ys("function"==typeof he?(F,pe)=>he(F,pe)>0?F:pe:(F,pe)=>F>pe?F:pe)}var Qs=R(6682);function ci(...he){return I=>I.lift.call((0,Qs.T)(I,...he))}var yi=R(3282),di=R(9773);function Or(he,I,F=Number.POSITIVE_INFINITY){return"function"==typeof I?(0,di.zg)(()=>he,I,F):("number"==typeof I&&(F=I),(0,di.zg)(()=>he,F))}function Js(he,I,F=Number.POSITIVE_INFINITY){return pe=>pe.lift(new Pi(he,I,F))}class Pi{constructor(I,F,pe){this.accumulator=I,this.seed=F,this.concurrent=pe}call(I,F){return F.subscribe(new _i(I,this.accumulator,this.seed,this.concurrent))}}class _i extends b.Ds{constructor(I,F,pe,Be){super(I),this.accumulator=F,this.acc=pe,this.concurrent=Be,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(I){if(this.active<this.concurrent){const F=this.index++,pe=this.destination;let Be;try{const{accumulator:ft}=this;Be=ft(this.acc,I,F)}catch(ft){return pe.error(ft)}this.active++,this._innerSub(Be)}else this.buffer.push(I)}_innerSub(I){const F=new b.IY(this),pe=this.destination;pe.add(F);const Be=(0,b.ft)(I,F);Be!==F&&pe.add(Be)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()}notifyNext(I){const{destination:F}=this;this.acc=I,this.hasValue=!0,F.next(I)}notifyComplete(){const I=this.buffer;this.active--,I.length>0?this._next(I.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())}}function xi(he){return ys("function"==typeof he?(F,pe)=>he(F,pe)<0?F:pe:(F,pe)=>F<pe?F:pe)}var vi=R(4458),Li=R(9746);function Vr(...he){return 1===he.length&&(0,vt.k)(he[0])&&(he=he[0]),I=>I.lift(new Mi(he))}class Mi{constructor(I){this.nextSources=I}call(I,F){return F.subscribe(new vs(I,this.nextSources))}}class vs extends b.Ds{constructor(I,F){super(I),this.destination=I,this.nextSources=F}notifyError(){this.subscribeToNextSource()}notifyComplete(){this.subscribeToNextSource()}_error(I){this.subscribeToNextSource(),this.unsubscribe()}_complete(){this.subscribeToNextSource(),this.unsubscribe()}subscribeToNextSource(){const I=this.nextSources.shift();if(I){const F=new b.IY(this),pe=this.destination;pe.add(F);const Be=(0,b.ft)(I,F);Be!==F&&pe.add(Be)}else this.destination.complete()}}var hi=R(9328),ho=R(9264);function Ur(he,I){return F=>[(0,He.h)(he,I)(F),(0,He.h)((0,ho.f)(he,I))(F)]}function Po(...he){const I=he.length;if(0===I)throw new Error("list of properties cannot be empty.");return F=>(0,Tt.U)(function(he,I){return pe=>{let Be=pe;for(let ft=0;ft<I;ft++){const rn=null!=Be?Be[he[ft]]:void 0;if(void 0===rn)return;Be=rn}return Be}}(he,I))(F)}var yr=R(9765);function Lo(he){return he?(0,vi.O)(()=>new yr.xQ,he):(0,vi.O)(new yr.xQ)}var Es=R(6215);function Oi(he){return I=>(0,vi.O)(new Es.X(he))(I)}var Hs=R(8660);function Qi(){return he=>(0,vi.O)(new Hs.c)(he)}var Os=R(8229);function aa(he,I,F,pe){F&&"function"!=typeof F&&(pe=F);const Be="function"==typeof F?F:void 0,ft=new Os.t(he,I,pe);return rn=>(0,vi.O)(()=>ft,Be)(rn)}var Xs=R(8085);function ki(...he){return function(F){return 1===he.length&&(0,vt.k)(he[0])&&(he=he[0]),F.lift.call((0,Xs.S3)(F,...he))}}var Lr=R(9193);function fi(he=-1){return I=>0===he?(0,Lr.c)():I.lift(new eo(he<0?-1:he-1,I))}class eo{constructor(I,F){this.count=I,this.source=F}call(I,F){return F.subscribe(new Rs(I,this.count,this.source))}}class Rs extends ue.L{constructor(I,F,pe){super(I),this.count=F,this.source=pe}complete(){if(!this.isStopped){const{source:I,count:F}=this;if(0===F)return super.complete();F>-1&&(this.count=F-1),I.subscribe(this._unsubscribeAndRecycle())}}}function Ns(he){return I=>I.lift(new Ji(he))}class Ji{constructor(I){this.notifier=I}call(I,F){return F.subscribe(new Xi(I,this.notifier,F))}}class Xi extends b.Ds{constructor(I,F,pe){super(I),this.notifier=F,this.source=pe,this.sourceIsBeingSubscribedTo=!0}notifyNext(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)}notifyComplete(){if(!1===this.sourceIsBeingSubscribedTo)return super.complete()}complete(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return super.complete();this._unsubscribeAndRecycle(),this.notifications.next(void 0)}}_unsubscribe(){const{notifications:I,retriesSubscription:F}=this;I&&(I.unsubscribe(),this.notifications=void 0),F&&(F.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}_unsubscribeAndRecycle(){const{_unsubscribe:I}=this;return this._unsubscribe=null,super._unsubscribeAndRecycle(),this._unsubscribe=I,this}subscribeToRetries(){let I;this.notifications=new yr.xQ;try{const{notifier:F}=this;I=F(this.notifications)}catch(F){return super.complete()}this.retries=I,this.retriesSubscription=(0,b.ft)(I,new b.IY(this))}}function Xr(he=-1){return I=>I.lift(new bs(he,I))}class bs{constructor(I,F){this.count=I,this.source=F}call(I,F){return F.subscribe(new $s(I,this.count,this.source))}}class $s extends ue.L{constructor(I,F,pe){super(I),this.count=F,this.source=pe}error(I){if(!this.isStopped){const{source:F,count:pe}=this;if(0===pe)return super.error(I);pe>-1&&(this.count=pe-1),F.subscribe(this._unsubscribeAndRecycle())}}}function as(he){return I=>I.lift(new us(he,I))}class us{constructor(I,F){this.notifier=I,this.source=F}call(I,F){return F.subscribe(new Ei(I,this.notifier,this.source))}}class Ei extends b.Ds{constructor(I,F,pe){super(I),this.notifier=F,this.source=pe}error(I){if(!this.isStopped){let F=this.errors,pe=this.retries,Be=this.retriesSubscription;if(pe)this.errors=void 0,this.retriesSubscription=void 0;else{F=new yr.xQ;try{const{notifier:ft}=this;pe=ft(F)}catch(ft){return super.error(ft)}Be=(0,b.ft)(pe,new b.IY(this))}this._unsubscribeAndRecycle(),this.errors=F,this.retries=pe,this.retriesSubscription=Be,F.next(I)}}_unsubscribe(){const{errors:I,retriesSubscription:F}=this;I&&(I.unsubscribe(),this.errors=void 0),F&&(F.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}notifyNext(){const{_unsubscribe:I}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=I,this.source.subscribe(this)}}var G=R(1307);function j(he){return I=>I.lift(new k(he))}class k{constructor(I){this.notifier=I}call(I,F){const pe=new te(I),Be=F.subscribe(pe);return Be.add((0,b.ft)(this.notifier,new b.IY(pe))),Be}}class te extends b.Ds{constructor(){super(...arguments),this.hasValue=!1}_next(I){this.value=I,this.hasValue=!0}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))}}function tt(he,I=L.P){return F=>F.lift(new Gt(he,I))}class Gt{constructor(I,F){this.period=I,this.scheduler=F}call(I,F){return F.subscribe(new sr(I,this.period,this.scheduler))}}class sr extends ue.L{constructor(I,F,pe){super(I),this.period=F,this.scheduler=pe,this.hasValue=!1,this.add(pe.schedule(Zr,F,{subscriber:this,period:F}))}_next(I){this.lastValue=I,this.hasValue=!0}notifyNext(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))}}function Zr(he){let{subscriber:I,period:F}=he;I.notifyNext(),this.schedule(he,F)}function ii(he,I){return F=>F.lift(new ko(he,I))}class ko{constructor(I,F){this.compareTo=I,this.comparator=F}call(I,F){return F.subscribe(new U(I,this.compareTo,this.comparator))}}class U extends ue.L{constructor(I,F,pe){super(I),this.compareTo=F,this.comparator=pe,this._a=[],this._b=[],this._oneComplete=!1,this.destination.add(F.subscribe(new ee(I,this)))}_next(I){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(I),this.checkValues())}_complete(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()}checkValues(){const{_a:I,_b:F,comparator:pe}=this;for(;I.length>0&&F.length>0;){let Be=I.shift(),ft=F.shift(),rn=!1;try{rn=pe?pe(Be,ft):Be===ft}catch(pr){this.destination.error(pr)}rn||this.emit(!1)}}emit(I){const{destination:F}=this;F.next(I),F.complete()}nextB(I){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(I),this.checkValues())}completeB(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0}}class ee extends ue.L{constructor(I,F){super(I),this.parent=F}_next(I){this.parent.nextB(I)}_error(I){this.parent.error(I),this.unsubscribe()}_complete(){this.parent.completeB(),this.unsubscribe()}}var $=R(8345),ae=R(7349),Ie=R(3410);function at(he){return I=>I.lift(new ht(he,I))}class ht{constructor(I,F){this.predicate=I,this.source=F}call(I,F){return F.subscribe(new zt(I,this.predicate,this.source))}}class zt extends ue.L{constructor(I,F,pe){super(I),this.predicate=F,this.source=pe,this.seenValue=!1,this.index=0}applySingleValue(I){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=I)}_next(I){const F=this.index++;this.predicate?this.tryNext(I,F):this.applySingleValue(I)}tryNext(I,F){try{this.predicate(I,F,this.source)&&this.applySingleValue(I)}catch(pe){this.destination.error(pe)}}_complete(){const I=this.destination;this.index>0?(I.next(this.seenValue?this.singleValue:void 0),I.complete()):I.error(new Ie.K)}}function vn(he){return I=>I.lift(new hr(he))}class hr{constructor(I){this.total=I}call(I,F){return F.subscribe(new lr(I,this.total))}}class lr extends ue.L{constructor(I,F){super(I),this.total=F,this.count=0}_next(I){++this.count>this.total&&this.destination.next(I)}}function In(he){return I=>I.lift(new fr(he))}class fr{constructor(I){if(this._skipCount=I,this._skipCount<0)throw new ze.W}call(I,F){return F.subscribe(0===this._skipCount?new ue.L(I):new nr(I,this._skipCount))}}class nr extends ue.L{constructor(I,F){super(I),this._skipCount=F,this._count=0,this._ring=new Array(F)}_next(I){const F=this._skipCount,pe=this._count++;if(pe<F)this._ring[pe]=I;else{const Be=pe%F,ft=this._ring,rn=ft[Be];ft[Be]=I,this.destination.next(rn)}}}function qr(he){return I=>I.lift(new to(he))}class to{constructor(I){this.notifier=I}call(I,F){return F.subscribe(new kr(I,this.notifier))}}class kr extends b.Ds{constructor(I,F){super(I),this.hasValue=!1;const pe=new b.IY(this);this.add(pe),this.innerSubscription=pe;const Be=(0,b.ft)(F,pe);Be!==pe&&(this.add(Be),this.innerSubscription=Be)}_next(I){this.hasValue&&super._next(I)}notifyNext(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()}notifyComplete(){}}function no(he){return I=>I.lift(new bi(he))}class bi{constructor(I){this.predicate=I}call(I,F){return F.subscribe(new dn(I,this.predicate))}}class dn extends ue.L{constructor(I,F){super(I),this.predicate=F,this.skipping=!0,this.index=0}_next(I){const F=this.destination;this.skipping&&this.tryCallPredicate(I),this.skipping||F.next(I)}tryCallPredicate(I){try{const F=this.predicate(I,this.index++);this.skipping=Boolean(F)}catch(F){this.destination.error(F)}}}var pi=R(9761),Fo=R(9673),fo=R(3190),zo=R(4487);function Ia(){return(0,fo.w)(zo.y)}var cu=R(9499);function po(he){return I=>I.lift(new It(he))}class It{constructor(I){this.notifier=I}call(I,F){const pe=new Jn(I),Be=(0,b.ft)(this.notifier,new b.IY(pe));return Be&&!pe.seenValue?(pe.add(Be),F.subscribe(pe)):pe}}class Jn extends b.Ds{constructor(I){super(I),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function Da(he,I=!1){return F=>F.lift(new jr(he,I))}class jr{constructor(I,F){this.predicate=I,this.inclusive=F}call(I,F){return F.subscribe(new Ko(I,this.predicate,this.inclusive))}}class Ko extends ue.L{constructor(I,F,pe){super(I),this.predicate=F,this.inclusive=pe,this.index=0}_next(I){const F=this.destination;let pe;try{pe=this.predicate(I,this.index++)}catch(Be){return void F.error(Be)}this.nextOrComplete(I,pe)}nextOrComplete(I,F){const pe=this.destination;Boolean(F)?pe.next(I):(this.inclusive&&pe.next(I),pe.complete())}}var go=R(8307);const ls={leading:!0,trailing:!1};function Zo(he,I=ls){return F=>F.lift(new Ta(he,!!I.leading,!!I.trailing))}class Ta{constructor(I,F,pe){this.durationSelector=I,this.leading=F,this.trailing=pe}call(I,F){return F.subscribe(new $a(I,this.durationSelector,this.leading,this.trailing))}}class $a extends b.Ds{constructor(I,F,pe,Be){super(I),this.destination=I,this.durationSelector=F,this._leading=pe,this._trailing=Be,this._hasValue=!1}_next(I){this._hasValue=!0,this._sendValue=I,this._throttled||(this._leading?this.send():this.throttle(I))}send(){const{_hasValue:I,_sendValue:F}=this;I&&(this.destination.next(F),this.throttle(F)),this._hasValue=!1,this._sendValue=void 0}throttle(I){const F=this.tryDurationSelector(I);F&&this.add(this._throttled=(0,b.ft)(F,new b.IY(this)))}tryDurationSelector(I){try{return this.durationSelector(I)}catch(F){return this.destination.error(F),null}}throttlingDone(){const{_throttled:I,_trailing:F}=this;I&&I.unsubscribe(),this._throttled=void 0,F&&this.send()}notifyNext(){this.throttlingDone()}notifyComplete(){this.throttlingDone()}}function du(he,I=L.P,F=ls){return pe=>pe.lift(new ws(he,I,F.leading,F.trailing))}class ws{constructor(I,F,pe,Be){this.duration=I,this.scheduler=F,this.leading=pe,this.trailing=Be}call(I,F){return F.subscribe(new mo(I,this.duration,this.scheduler,this.leading,this.trailing))}}class mo extends ue.L{constructor(I,F,pe,Be,ft){super(I),this.duration=F,this.scheduler=pe,this.leading=Be,this.trailing=ft,this._hasTrailingValue=!1,this._trailingValue=null}_next(I){this.throttled?this.trailing&&(this._trailingValue=I,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Rr,this.duration,{subscriber:this})),this.leading?this.destination.next(I):this.trailing&&(this._trailingValue=I,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const I=this.throttled;I&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),I.unsubscribe(),this.remove(I),this.throttled=null)}}function Rr(he){const{subscriber:I}=he;I.clearThrottle()}var es=R(1439);function Vo(he=L.P){return I=>(0,es.P)(()=>I.pipe((0,Kr.R)(({current:F},pe)=>({value:pe,current:he.now(),last:F}),{current:he.now(),value:void 0,last:void 0}),(0,Tt.U)(({current:F,last:pe,value:Be})=>new $i(Be,F-pe))))}class $i{constructor(I,F){this.value=I,this.interval=F}}var Wi=R(5587);function hu(he,I,F=L.P){return pe=>{let Be=Qr(he),ft=Be?+he-F.now():Math.abs(he);return pe.lift(new Hr(ft,Be,I,F))}}class Hr{constructor(I,F,pe,Be){this.waitFor=I,this.absoluteTimeout=F,this.withObservable=pe,this.scheduler=Be}call(I,F){return F.subscribe(new qo(I,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class qo extends b.Ds{constructor(I,F,pe,Be,ft){super(I),this.absoluteTimeout=F,this.waitFor=pe,this.withObservable=Be,this.scheduler=ft,this.scheduleTimeout()}static dispatchTimeout(I){const{withObservable:F}=I;I._unsubscribeAndRecycle(),I.add((0,b.ft)(F,new b.IY(I)))}scheduleTimeout(){const{action:I}=this;I?this.action=I.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(qo.dispatchTimeout,this.waitFor,this))}_next(I){this.absoluteTimeout||this.scheduleTimeout(),super._next(I)}_unsubscribe(){this.action=void 0,this.scheduler=null,this.withObservable=null}}var Sa=R(205);function ua(he,I=L.P){return hu(he,(0,Sa._)(new Wi.W),I)}function yo(he=L.P){return(0,Tt.U)(I=>new Yo(I,he.now()))}class Yo{constructor(I,F){this.value=I,this.timestamp=F}}function _o(he,I,F){return 0===F?[I]:(he.push(I),he)}function la(){return ys(_o,[])}function vo(he){return function(F){return F.lift(new Ws(he))}}class Ws{constructor(I){this.windowBoundaries=I}call(I,F){const pe=new Wa(I),Be=F.subscribe(pe);return Be.closed||pe.add((0,b.ft)(this.windowBoundaries,new b.IY(pe))),Be}}class Wa extends b.Ds{constructor(I){super(I),this.window=new yr.xQ,I.next(this.window)}notifyNext(){this.openWindow()}notifyError(I){this._error(I)}notifyComplete(){this._complete()}_next(I){this.window.next(I)}_error(I){this.window.error(I),this.destination.error(I)}_complete(){this.window.complete(),this.destination.complete()}_unsubscribe(){this.window=null}openWindow(){const I=this.window;I&&I.complete();const F=this.destination,pe=this.window=new yr.xQ;F.next(pe)}}function ro(he,I=0){return function(pe){return pe.lift(new gi(he,I))}}class gi{constructor(I,F){this.windowSize=I,this.startWindowEvery=F}call(I,F){return F.subscribe(new Fu(I,this.windowSize,this.startWindowEvery))}}class Fu extends ue.L{constructor(I,F,pe){super(I),this.destination=I,this.windowSize=F,this.startWindowEvery=pe,this.windows=[new yr.xQ],this.count=0,I.next(this.windows[0])}_next(I){const F=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,pe=this.destination,Be=this.windowSize,ft=this.windows,rn=ft.length;for(let $r=0;$r<rn&&!this.closed;$r++)ft[$r].next(I);const pr=this.count-Be+1;if(pr>=0&&pr%F==0&&!this.closed&&ft.shift().complete(),++this.count%F==0&&!this.closed){const $r=new yr.xQ;ft.push($r),pe.next($r)}}_error(I){const F=this.windows;if(F)for(;F.length>0&&!this.closed;)F.shift().error(I);this.destination.error(I)}_complete(){const I=this.windows;if(I)for(;I.length>0&&!this.closed;)I.shift().complete();this.destination.complete()}_unsubscribe(){this.count=0,this.windows=null}}var Gs=R(6561);function ca(he){let I=L.P,F=null,pe=Number.POSITIVE_INFINITY;return(0,Ze.K)(arguments[3])&&(I=arguments[3]),(0,Ze.K)(arguments[2])?I=arguments[2]:(0,Gs.k)(arguments[2])&&(pe=Number(arguments[2])),(0,Ze.K)(arguments[1])?I=arguments[1]:(0,Gs.k)(arguments[1])&&(F=Number(arguments[1])),function(ft){return ft.lift(new Aa(he,F,pe,I))}}class Aa{constructor(I,F,pe,Be){this.windowTimeSpan=I,this.windowCreationInterval=F,this.maxWindowSize=pe,this.scheduler=Be}call(I,F){return F.subscribe(new Ps(I,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))}}class ei extends yr.xQ{constructor(){super(...arguments),this._numberOfNextedValues=0}next(I){this._numberOfNextedValues++,super.next(I)}get numberOfNextedValues(){return this._numberOfNextedValues}}class Ps extends ue.L{constructor(I,F,pe,Be,ft){super(I),this.destination=I,this.windowTimeSpan=F,this.windowCreationInterval=pe,this.maxWindowSize=Be,this.scheduler=ft,this.windows=[];const rn=this.openWindow();if(null!==pe&&pe>=0){const $r={windowTimeSpan:F,windowCreationInterval:pe,subscriber:this,scheduler:ft};this.add(ft.schedule(xa,F,{subscriber:this,window:rn,context:null})),this.add(ft.schedule(da,pe,$r))}else this.add(ft.schedule(Br,F,{subscriber:this,window:rn,windowTimeSpan:F}))}_next(I){const F=this.windows,pe=F.length;for(let Be=0;Be<pe;Be++){const ft=F[Be];ft.closed||(ft.next(I),ft.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(ft))}}_error(I){const F=this.windows;for(;F.length>0;)F.shift().error(I);this.destination.error(I)}_complete(){const I=this.windows;for(;I.length>0;){const F=I.shift();F.closed||F.complete()}this.destination.complete()}openWindow(){const I=new ei;return this.windows.push(I),this.destination.next(I),I}closeWindow(I){I.complete();const F=this.windows;F.splice(F.indexOf(I),1)}}function Br(he){const{subscriber:I,windowTimeSpan:F,window:pe}=he;pe&&I.closeWindow(pe),he.window=I.openWindow(),this.schedule(he,F)}function da(he){const{windowTimeSpan:I,subscriber:F,scheduler:pe,windowCreationInterval:Be}=he,ft=F.openWindow();let pr={action:this,subscription:null};pr.subscription=pe.schedule(xa,I,{subscriber:F,window:ft,context:pr}),this.add(pr.subscription),this.schedule(he,Be)}function xa(he){const{subscriber:I,window:F,context:pe}=he;pe&&pe.action&&pe.subscription&&pe.action.remove(pe.subscription),I.closeWindow(F)}function Ma(he,I){return F=>F.lift(new Eo(he,I))}class Eo{constructor(I,F){this.openings=I,this.closingSelector=F}call(I,F){return F.subscribe(new bo(I,this.openings,this.closingSelector))}}class bo extends Ot.L{constructor(I,F,pe){super(I),this.openings=F,this.closingSelector=pe,this.contexts=[],this.add(this.openSubscription=(0,Rt.D)(this,F,F))}_next(I){const{contexts:F}=this;if(F){const pe=F.length;for(let Be=0;Be<pe;Be++)F[Be].window.next(I)}}_error(I){const{contexts:F}=this;if(this.contexts=null,F){const pe=F.length;let Be=-1;for(;++Be<pe;){const ft=F[Be];ft.window.error(I),ft.subscription.unsubscribe()}}super._error(I)}_complete(){const{contexts:I}=this;if(this.contexts=null,I){const F=I.length;let pe=-1;for(;++pe<F;){const Be=I[pe];Be.window.complete(),Be.subscription.unsubscribe()}}super._complete()}_unsubscribe(){const{contexts:I}=this;if(this.contexts=null,I){const F=I.length;let pe=-1;for(;++pe<F;){const Be=I[pe];Be.window.unsubscribe(),Be.subscription.unsubscribe()}}}notifyNext(I,F,pe,Be,ft){if(I===this.openings){let rn;try{const{closingSelector:xr}=this;rn=xr(F)}catch(xr){return this.error(xr)}const pr=new yr.xQ,$r=new We.w,io={window:pr,subscription:$r};this.contexts.push(io);const so=(0,Rt.D)(this,rn,io);so.closed?this.closeWindow(this.contexts.length-1):(so.context=io,$r.add(so)),this.destination.next(pr)}else this.closeWindow(this.contexts.indexOf(I))}notifyError(I){this.error(I)}notifyComplete(I){I!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(I.context))}closeWindow(I){if(-1===I)return;const{contexts:F}=this,pe=F[I],{window:Be,subscription:ft}=pe;F.splice(I,1),Be.complete(),ft.unsubscribe()}}function Ga(he){return function(F){return F.lift(new wo(he))}}class wo{constructor(I){this.closingSelector=I}call(I,F){return F.subscribe(new ha(I,this.closingSelector))}}class ha extends Ot.L{constructor(I,F){super(I),this.destination=I,this.closingSelector=F,this.openWindow()}notifyNext(I,F,pe,Be,ft){this.openWindow(ft)}notifyError(I){this._error(I)}notifyComplete(I){this.openWindow(I)}_next(I){this.window.next(I)}_error(I){this.window.error(I),this.destination.error(I),this.unsubscribeClosingNotification()}_complete(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()}unsubscribeClosingNotification(){this.closingNotification&&this.closingNotification.unsubscribe()}openWindow(I=null){I&&(this.remove(I),I.unsubscribe());const F=this.window;F&&F.complete();const pe=this.window=new yr.xQ;let Be;this.destination.next(pe);try{const{closingSelector:ft}=this;Be=ft()}catch(ft){return this.destination.error(ft),void this.window.error(ft)}this.add(this.closingNotification=(0,Rt.D)(this,Be))}}function Cs(...he){return I=>{let F;return"function"==typeof he[he.length-1]&&(F=he.pop()),I.lift(new Co(he,F))}}class Co{constructor(I,F){this.observables=I,this.project=F}call(I,F){return F.subscribe(new Uo(I,this.observables,this.project))}}class Uo extends Ot.L{constructor(I,F,pe){super(I),this.observables=F,this.project=pe,this.toRespond=[];const Be=F.length;this.values=new Array(Be);for(let ft=0;ft<Be;ft++)this.toRespond.push(ft);for(let ft=0;ft<Be;ft++)this.add((0,Rt.D)(this,F[ft],void 0,ft))}notifyNext(I,F,pe){this.values[pe]=F;const Be=this.toRespond;if(Be.length>0){const ft=Be.indexOf(pe);-1!==ft&&Be.splice(ft,1)}}notifyComplete(){}_next(I){if(0===this.toRespond.length){const F=[I,...this.values];this.project?this._tryProject(F):this.destination.next(F)}}_tryProject(I){let F;try{F=this.project.apply(this,I)}catch(pe){return void this.destination.error(pe)}this.destination.next(F)}}var Oa=R(1571);function cs(...he){return function(F){return F.lift.call((0,Oa.$R)(F,...he))}}function Is(he){return I=>I.lift(new Oa.mx(he))}},8383:(yt,Me,R)=>{"use strict";R(7083)},189:(yt,Me,R)=>{"use strict";R.d(Me,{U:()=>oe});var b=R(7716),O=R(9895),se=R(8091);let oe=(()=>{class L{constructor(de,q){this.route=de,this.authSrv=q}canActivate(de,q){return null!=this.authSrv.getCurrentUserLS()||(this.route.navigate(["login"]),!1)}}return L.\u0275fac=function(de){return new(de||L)(b.LFG(O.F0),b.LFG(se.e))},L.\u0275prov=b.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})()},7082:(yt,Me,R)=>{"use strict";R.r(Me),R.d(Me,{JuegosModule:()=>Zt});var b=R(8583),O=R(9895),se=R(189);class oe{constructor(){this.palabrasJuego=["hola","inefable","super","etereo","sempiterno","petricor","perenne","luminiscencia","mondo","infinito","ademan","epoca","bonhomia","soledad","resiliencia","melancolia","nefelibata","melifluo","elocuencia","efervescencia","ataraxia","olvido","ascendrado","arrebol","sonambulo","serendipia","alba","epifania","incandescencia","nostalgia","inmarcesible","aurora","desenlace","messi"]}}var L=R(7716),re=R(1841);let de=(()=>{class ot{constructor(ke){this.http=ke}getPost(){return this.http.get("https://raw.githubusercontent.com/words/an-array-of-spanish-words/master/palabras.json")}}return ot.\u0275fac=function(ke){return new(ke||ot)(L.LFG(re.eN))},ot.\u0275prov=L.Yz7({token:ot,factory:ot.\u0275fac,providedIn:"root"}),ot})();var q=R(6692),J=R(8091);function Q(ot,vt){if(1&ot){const ke=L.EpF();L.TgZ(0,"div",5),L.TgZ(1,"h3"),L._uU(2),L.qZA(),L.TgZ(3,"h4"),L._uU(4),L.qZA(),L.TgZ(5,"button",8),L.NdJ("click",function(){return L.CHM(ke),L.oxw().reload()}),L._uU(6,"volver a intentarlo"),L.qZA(),L.qZA()}if(2&ot){const ke=L.oxw();L.xp6(2),L.hij(" ",ke.mensaje," "),L.xp6(2),L.hij("La palabra secreta era: ",ke.palabraoculta," ")}}function ue(ot,vt){if(1&ot){const ke=L.EpF();L.TgZ(0,"div",9),L.TgZ(1,"button",10),L.NdJ("click",function(){const un=L.CHM(ke).$implicit;return L.oxw().letraElegida(un)}),L._uU(2),L.qZA(),L.qZA()}if(2&ot){const ke=vt.$implicit;L.xp6(2),L.hij(" ",ke," ")}}let X=(()=>{class ot{constructor(ke,Je,Yt,un,ln){this._location=ke,this.route=Je,this.servicioPalabras=Yt,this.jugadoresSrv=un,this.authSrv=ln,this.URL_IMAGENES_PRE="assets/juegos/ahorcado/",this.URL_IMAGENES_EXT=".jpg",this.juegoOn=!0,this.juegoOff=!this.juegoOn,this.mascara="",this.abecedario=[],this.vidas=4,this.letrasUsadas="",this.mensaje="\xbfQu\xe9 desea hacer?",this.vidaImagen=this.URL_IMAGENES_PRE+"ahorcadoinicial"+this.URL_IMAGENES_EXT,this.palabritas=new oe;for(let tn=0;tn<26;tn++)this.abecedario[tn]=String.fromCharCode(97+tn)}letraElegida(ke){this.selectedLetter=ke,this.game()}ngOnInit(){this.getPalabras()}dibujarJuego(ke){this.palabraoculta=ke;let Je=[...ke];for(let Yt=0;Yt<ke.length;Yt++)Je[Yt]="-";this.mascara=Je.join("")}letrasEmpleadas(ke){let Je=[...this.letrasUsadas];Je[Je.length]=ke+" ",this.letrasUsadas=Je.join("")}game(){if(null!=this.selectedLetter){let ke=this.selectedLetter,Je=[...this.mascara],Yt=Je.length;for(let un=0;un<Je.length;un++)this.palabraoculta.charAt(un)==ke&&(Je[un]=ke,Yt--);Yt==Je.length&&(this.vidas--,this.lifes()),this.mascara=Je.join(""),this.letrasEmpleadas(ke),this.mascara==this.palabraoculta&&this.gameOver()}}lifes(){switch(this.vidas){case 4:this.vidaImagen=this.URL_IMAGENES_PRE+"ahorcadoinicial"+this.URL_IMAGENES_EXT;break;case 3:this.vidaImagen=this.URL_IMAGENES_PRE+"ahorcadounfallo"+this.URL_IMAGENES_EXT;break;case 2:this.vidaImagen=this.URL_IMAGENES_PRE+"ahorcadodosfallos"+this.URL_IMAGENES_EXT;break;case 1:this.vidaImagen=this.URL_IMAGENES_PRE+"ahorcadotresfallos"+this.URL_IMAGENES_EXT;break;case 0:this.vidaImagen=this.URL_IMAGENES_PRE+"ahorcadocompleto"+this.URL_IMAGENES_EXT,this.gameOver()}}getPalabras(){var ke;let Je=this.palabritas.palabrasJuego,Yt=Math.floor(Math.random()*(Je.length-0+1))+0;this.dibujarJuego(ke=Je[Yt]),console.log(ke)}gameOver(){let ke=this.authSrv.getCurrentUserLS().email,Je=new Date,Yt=Je.getDate()+"-"+Je.getMonth()+"-"+Je.getFullYear();this.juegoOn=!1,this.juegoOff=!this.juegoOn,0==this.vidas?(this.mascara=this.palabraoculta,this.jugadoresSrv.registrarResultados({email:ke,fecha:Yt,juego:"Ahorcado",puntaje:this.vidas}).then(ln=>{this.mensaje="HAS PERDIDO. EL JUEGO HA TERMINADO"})):(this.jugadoresSrv.registrarResultados({email:ke,fecha:Yt,juego:"Ahorcado",puntaje:this.vidas}).then(ln=>{this.mensaje="\xa1FELICIDADES! \xa1HAS GANADO!"}),clearInterval(this.interval))}reload(){window.location.reload()}backClicked(){this._location.back()}}return ot.\u0275fac=function(ke){return new(ke||ot)(L.Y36(b.Ye),L.Y36(O.F0),L.Y36(de),L.Y36(q.M),L.Y36(J.e))},ot.\u0275cmp=L.Xpm({type:ot,selectors:[["app-ahorcado"]],decls:18,vars:6,consts:[[1,"container",2,"background","slateblue"],[1,"row",2,"margin-top","20px"],[1,"column",2,"text-align","center"],["width","250",3,"src"],["class","column",4,"ngIf"],[1,"column"],[2,"margin-right","10px","margin-bottom","20px","background","slateblue"],["class","padre","style","background:slateblue;",4,"ngFor","ngForOf"],["role","button",1,"btn","btn-primary",2,"margin-right","5px",3,"click"],[1,"padre",2,"background","slateblue"],[1,"tecla",3,"click"]],template:function(ke,Je){1&ke&&(L.TgZ(0,"div",0),L.TgZ(1,"div",1),L.TgZ(2,"div",2),L.TgZ(3,"h1"),L._uU(4),L.qZA(),L._UZ(5,"img",3),L.qZA(),L.YNc(6,Q,7,2,"div",4),L.TgZ(7,"div",5),L.TgZ(8,"label",6),L._uU(9,"Seleccione una letra"),L.qZA(),L._UZ(10,"br"),L.YNc(11,ue,3,1,"div",7),L.TgZ(12,"h4"),L._uU(13),L.qZA(),L._UZ(14,"br"),L.TgZ(15,"h4"),L._uU(16),L.qZA(),L._UZ(17,"br"),L.qZA(),L.qZA(),L.qZA()),2&ke&&(L.xp6(4),L.hij("La palabra secreta es ",Je.mascara,""),L.xp6(1),L.s9C("src",Je.vidaImagen,L.LSH),L.xp6(1),L.Q6J("ngIf",Je.juegoOff),L.xp6(5),L.Q6J("ngForOf",Je.abecedario),L.xp6(2),L.hij("letras utilizadas: ",Je.letrasUsadas,""),L.xp6(3),L.hij("Vidas restantes: ",Je.vidas,""))},directives:[b.O5,b.sg],styles:[".column[_ngcontent-%COMP%]{float:left;width:40%;padding:50px}.tecla[_ngcontent-%COMP%]{border:1px solid #CCC;font-family:Arial,Helvetica,sans-serif;background-color:#f7f7f7;color:#333;box-shadow:0 1px #0003,0 0 0 2px #fff inset;border-radius:3px;display:inline-block;text-shadow:0px 1px 0px #FFF;line-height:1.4;white-space:nowrap;font-size:12px;cursor:pointer}.padre[_ngcontent-%COMP%]{border:1px;display:inline-block;width:28px;margin:3px;text-align:left}"]}),ot})();const fe=function(){return["/juegos/ahorcado"]},ye=function(){return["/juegos/preguntados"]},Pe=function(){return["/juegos/mayormenor"]},Ze=function(){return["/juegos/simon"]};let Xe=(()=>{class ot{constructor(){}ngOnInit(){}}return ot.\u0275fac=function(ke){return new(ke||ot)},ot.\u0275cmp=L.Xpm({type:ot,selectors:[["app-home-juegos"]],decls:27,vars:8,consts:[[1,"container"],[1,"row","row-cols-1","row-cols-md-4"],[1,"col"],[1,"card","bg-transparent","text-dark"],[1,"card-body"],[1,"btn","btn-dark",3,"routerLink"],["src","./../../../assets/juegos/ahorcado.png",1,"card-img-top","rounded-circle"],["src","./../../../assets/juegos/preguntados.jpg",1,"card-img-top","rounded-circle"],["src","./../../../assets/juegos/mayor-menor.jpg",1,"card-img-top","rounded-circle"],["src","./../../../assets/juegos/simon-dice.jpg",1,"card-img-top","rounded-circle"]],template:function(ke,Je){1&ke&&(L.TgZ(0,"div",0),L.TgZ(1,"div",1),L.TgZ(2,"div",2),L.TgZ(3,"div",3),L.TgZ(4,"div",4),L.TgZ(5,"a",5),L._uU(6,"Ahorcado"),L.qZA(),L.qZA(),L._UZ(7,"img",6),L.qZA(),L.qZA(),L.TgZ(8,"div",2),L.TgZ(9,"div",3),L.TgZ(10,"div",4),L.TgZ(11,"a",5),L._uU(12,"Preguntados"),L.qZA(),L.qZA(),L._UZ(13,"img",7),L.qZA(),L.qZA(),L.TgZ(14,"div",2),L.TgZ(15,"div",3),L.TgZ(16,"div",4),L.TgZ(17,"a",5),L._uU(18,"Mayor o menor"),L.qZA(),L.qZA(),L._UZ(19,"img",8),L.qZA(),L.qZA(),L.TgZ(20,"div",2),L.TgZ(21,"div",3),L.TgZ(22,"div",4),L.TgZ(23,"a",5),L._uU(24,"Simon dice"),L.qZA(),L.qZA(),L._UZ(25,"img",9),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L._UZ(26,"router-outlet")),2&ke&&(L.xp6(5),L.Q6J("routerLink",L.DdM(4,fe)),L.xp6(6),L.Q6J("routerLink",L.DdM(5,ye)),L.xp6(6),L.Q6J("routerLink",L.DdM(6,Pe)),L.xp6(6),L.Q6J("routerLink",L.DdM(7,Ze)))},directives:[O.yS,O.lC],styles:[""]}),ot})();function me(ot,vt){if(1&ot&&(L.TgZ(0,"label"),L._uU(1),L.qZA()),2&ot){const ke=L.oxw();L.xp6(1),L.hij("Termino el juego, su puntaje es : ",ke.cuenta,"")}}function _t(ot,vt){if(1&ot){const ke=L.EpF();L.TgZ(0,"button",9),L.NdJ("click",function(){return L.CHM(ke),L.oxw().reload()}),L._uU(1,"volver a intentarlo"),L.qZA()}}let sn=(()=>{class ot{constructor(ke,Je){this.jugadoresSrv=ke,this.authSrv=Je,this.cuenta=0,this.vidas=3,this.mostrarFin=!1,this.cartas=[{numero:1,pathImg:"./../../../../assets/juegos/mayorMenor/cartas/1.jpg"},{numero:2,pathImg:"./../../../../assets/juegos/mayorMenor/cartas/2.jpg"},{numero:3,pathImg:"./../../../../assets/juegos/mayorMenor/cartas/3.jpg"},{numero:4,pathImg:"./../../../../assets/juegos/mayorMenor/cartas/4.jpg"},{numero:5,pathImg:"./../../../../assets/juegos/mayorMenor/cartas/5.jpg"},{numero:6,pathImg:"./../../../../assets/juegos/mayorMenor/cartas/6.jpg"},{numero:7,pathImg:"./../../../../assets/juegos/mayorMenor/cartas/7.jpg"},{numero:9,pathImg:"./../../../../assets/juegos/mayorMenor/cartas/9.jpg"},{numero:10,pathImg:"./../../../../assets/juegos/mayorMenor/cartas/10.jpg"},{numero:11,pathImg:"./../../../../assets/juegos/mayorMenor/cartas/11.jpg"},{numero:12,pathImg:"./../../../../assets/juegos/mayorMenor/cartas/12.jpg"}],this.cartaPrincipal=this.calcularCartaRandom(),this.cartaSecundaria=this.calcularCartaRandom()}ngOnInit(){}calcularCartaRandom(){return this.cartas[Math.floor(Math.random()*this.cartas.length)]}play(ke){this.respuesta(ke)?(this.cuenta++,this.cartaPrincipal=this.cartaSecundaria,this.cartaSecundaria=this.calcularCartaRandom(),this.mensaje="BIEN!"):this.vidas>0&&(this.vidas--,this.mensaje="NO :(",this.cartaPrincipal=this.cartaSecundaria,this.cartaSecundaria=this.calcularCartaRandom(),0==this.vidas&&(this.mostrarFin=!0,this.guardarResultados()))}respuesta(ke){switch(ke){case"mayor":return this.cartaPrincipal.numero>this.cartaSecundaria.numero;case"igual":return this.cartaPrincipal.numero==this.cartaSecundaria.numero;case"menor":return this.cartaPrincipal.numero<this.cartaSecundaria.numero;default:return!1}}reload(){window.location.reload()}guardarResultados(){let ke=new Date,Je=ke.getDate()+"-"+ke.getMonth()+"-"+ke.getFullYear(),un={email:this.authSrv.getCurrentUserLS().email,fecha:Je,juego:"mayorMenor",puntaje:this.cuenta};this.jugadoresSrv.registrarResultados(un).then(ln=>{})}}return ot.\u0275fac=function(ke){return new(ke||ot)(L.Y36(q.M),L.Y36(J.e))},ot.\u0275cmp=L.Xpm({type:ot,selectors:[["app-mayormenor"]],decls:29,vars:6,consts:[[1,"container",2,"background","slateblue"],[1,"row",2,"text-align","center"],[1,"column",2,"min-width","50%","text-align","left","max-height","80px"],[1,"column"],[4,"ngIf"],["class","btn btn-primary","role","button","style","margin-right: 5px",3,"click",4,"ngIf"],[1,"row"],["width","100px",3,"src"],[3,"click"],["role","button",1,"btn","btn-primary",2,"margin-right","5px",3,"click"]],template:function(ke,Je){1&ke&&(L.TgZ(0,"div",0),L.TgZ(1,"div",1),L.TgZ(2,"div",2),L.TgZ(3,"h2"),L._uU(4),L.qZA(),L.TgZ(5,"h4"),L._uU(6),L.qZA(),L._UZ(7,"br"),L.qZA(),L.TgZ(8,"div",3),L.YNc(9,me,2,1,"label",4),L._UZ(10,"br"),L.YNc(11,_t,2,0,"button",5),L.qZA(),L.qZA(),L.TgZ(12,"div",6),L.TgZ(13,"h3"),L._uU(14),L.qZA(),L.qZA(),L.TgZ(15,"div",6),L.TgZ(16,"div",3),L._UZ(17,"img",7),L.qZA(),L.TgZ(18,"div",3),L.TgZ(19,"label"),L._uU(20,"Esta carta es: "),L.qZA(),L.TgZ(21,"button",8),L.NdJ("click",function(){return Je.play("mayor")}),L._uU(22,"Mayor"),L.qZA(),L.TgZ(23,"button",8),L.NdJ("click",function(){return Je.play("igual")}),L._uU(24,"Igual"),L.qZA(),L.TgZ(25,"button",8),L.NdJ("click",function(){return Je.play("menor")}),L._uU(26,"Menor"),L.qZA(),L.TgZ(27,"label"),L._uU(28,"que la siguiente"),L.qZA(),L.qZA(),L.qZA(),L.qZA()),2&ke&&(L.xp6(4),L.hij("Aciertos: ",Je.cuenta,""),L.xp6(2),L.hij("Vidas restantes: ",Je.vidas,""),L.xp6(3),L.Q6J("ngIf",Je.mostrarFin),L.xp6(2),L.Q6J("ngIf",Je.mostrarFin),L.xp6(3),L.hij(" ",Je.mensaje," "),L.xp6(3),L.s9C("src",Je.cartaPrincipal.pathImg,L.LSH))},directives:[b.O5],styles:["body[_ngcontent-%COMP%]{background:#ce4a4a}.login_div1[_ngcontent-%COMP%], .login_div2[_ngcontent-%COMP%]{background:white;padding:10px;float:none;border-radius:15px}#ID_DIV_1[_ngcontent-%COMP%], #ID_DIV_2[_ngcontent-%COMP%]{background:white;padding:10px;float:none;border-radius:15px}#player1_name[_ngcontent-%COMP%], #player2_name[_ngcontent-%COMP%]{display:inline-block;margin-left:20px}#word[_ngcontent-%COMP%]{width:60%}#word_display[_ngcontent-%COMP%]{letter-spacing:5px}#output[_ngcontent-%COMP%]{background:white;border-radius:10px;border-top:10px solid #AA4465;padding:10px;float:none;text-align:left}"]}),ot})(),bt=(()=>{class ot{constructor(ke){this.http=ke,this.peli={value:"",icon_url:"",id:"",url:""},this.peliculasUrl="https://api.themoviedb.org/3/movie/550?api_key=def57bc234b846fded75699293aaec59",this.APIURL="https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=def57bc234b846fded75699293aaec59&page=1",this.IMGPATH="https://image.tmdb.org/t/p/w1280",this.SEARCHAPI="https://api.themoviedb.org/3/search/movie?&api_key=04c35731a5ee918f014970082a0088b1&query="}getPelicula(){return this.http.get(this.APIURL)}}return ot.\u0275fac=function(ke){return new(ke||ot)(L.LFG(re.eN))},ot.\u0275prov=L.Yz7({token:ot,factory:ot.\u0275fac,providedIn:"root"}),ot})();function Ge(ot,vt){if(1&ot){const ke=L.EpF();L.TgZ(0,"div"),L.TgZ(1,"h4"),L._uU(2),L.qZA(),L.TgZ(3,"button",7),L.NdJ("click",function(){return L.CHM(ke),L.oxw().reload()}),L._uU(4,"volver a intentarlo"),L.qZA(),L.qZA()}if(2&ot){const ke=L.oxw();L.xp6(2),L.hij(" ",ke.mensaje," ")}}function $t(ot,vt){if(1&ot){const ke=L.EpF();L.TgZ(0,"ol",8),L.TgZ(1,"li"),L.TgZ(2,"input",9),L.NdJ("click",function(){const un=L.CHM(ke).$implicit;return L.oxw().play(un)}),L.qZA(),L.qZA(),L.qZA()}if(2&ot){const ke=vt.$implicit;L.xp6(2),L.s9C("value",ke)}}let We=(()=>{class ot{constructor(ke,Je,Yt){this.peliSrv=ke,this.authSrv=Je,this.jugadoresSrv=Yt,this.peliculas=[],this.baseUrl_img="https://image.tmdb.org/t/p/w1280",this.imgPath="",this.opciones_incorrectas=[],this.aciertos=0,this.vidas=3,this.mensaje="",this.respuesta_correcta=0,this.perdio=!1,this.mensaje="",this.peliSrv.getPelicula().subscribe(un=>{this.peliculas.push(un),this.peliculas=this.peliculas[0].results,this.generarPregunta()})}ngOnInit(){}generarPregunta(){this.pelicula_elegida=this.peliculas[Math.floor(Math.random()*this.peliculas.length)],this.imgPath=this.baseUrl_img+this.pelicula_elegida.poster_path,console.log(this.pelicula_elegida),this.opciones_incorrectas=[],this.opciones_incorrectas[this.respuesta_correcta]=this.pelicula_elegida.popularity,this.opciones_incorrectas.push(Math.floor(15454545*Math.random())),this.opciones_incorrectas.push(Math.floor(15454545*Math.random())),this.opciones_incorrectas.push(Math.floor(15454545*Math.random()))}play(ke){ke==this.pelicula_elegida.popularity?(this.aciertos++,this.mensaje="Bien!",this.generarPregunta(),this.mensaje=""):(this.vidas--,0==this.vidas?(this.guardarResultado(),this.perdio=!0,this.mensaje="PERDIO :( . Su punjate fue: "+this.aciertos):this.generarPregunta())}guardarResultado(){let ke=new Date,Je=ke.getDate()+"-"+ke.getMonth()+"-"+ke.getFullYear(),un={email:this.authSrv.getCurrentUserLS().email,fecha:Je,juego:"preguntados",puntaje:this.aciertos};this.jugadoresSrv.registrarResultados(un)}reload(){window.location.reload()}}return ot.\u0275fac=function(ke){return new(ke||ot)(L.Y36(bt),L.Y36(J.e),L.Y36(q.M))},ot.\u0275cmp=L.Xpm({type:ot,selectors:[["app-preguntados"]],decls:13,vars:5,consts:[["id","content"],["id","numRespuestasCorrectas",1,"bagge"],[4,"ngIf"],["id","tablero"],["id","pregunta-titulo"],["width","100px",3,"src"],["id","pregunta-respuestas",4,"ngFor","ngForOf"],["role","button",1,"btn","btn-primary",2,"margin-right","5px",3,"click"],["id","pregunta-respuestas"],["type","button",3,"value","click"]],template:function(ke,Je){1&ke&&(L.TgZ(0,"div",0),L._uU(1," Vidas:"),L.TgZ(2,"span",1),L._uU(3),L.qZA(),L._uU(4," Respuestas correctas: "),L.TgZ(5,"span",1),L._uU(6),L.qZA(),L.YNc(7,Ge,5,1,"div",2),L.TgZ(8,"div",3),L.TgZ(9,"h1",4),L._uU(10,"\xbfCual fue la audiencia de esta pelicula?"),L.qZA(),L._UZ(11,"img",5),L.YNc(12,$t,3,1,"ol",6),L.qZA(),L.qZA()),2&ke&&(L.xp6(3),L.hij(" ",Je.vidas," |"),L.xp6(3),L.hij(" ",Je.aciertos," "),L.xp6(1),L.Q6J("ngIf",Je.perdio),L.xp6(4),L.MGl("src","",Je.imgPath," ",L.LSH),L.xp6(1),L.Q6J("ngForOf",Je.opciones_incorrectas))},directives:[b.O5,b.sg],styles:["#tablero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:30px}#content[_ngcontent-%COMP%]{background:#000;color:#fff}#pregunta-respuestas[_ngcontent-%COMP%]{list-style:upper-alpha;background:#1A1A1A;border-radius:5px}#pregunta-respuestas[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:20px;background:#FF3A00;color:#fff;text-shadow:none;padding:5px;margin:2px 0;border-radius:5px;-moz-border-radius:5px;-webkit-border-radius:5px}#pregunta-respuestas[_ngcontent-%COMP%]   li#item-1[_ngcontent-%COMP%]{background:#8F002E}#pregunta-respuestas[_ngcontent-%COMP%]   li#item-2[_ngcontent-%COMP%]{background:#187200}#pregunta-respuestas[_ngcontent-%COMP%]   li#item-3[_ngcontent-%COMP%]{background:#001F72}ol#pregunta-respuestas[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#000!important;cursor:pointer;cursor:hand}#pregunta-respuestas[_ngcontent-%COMP%]   li#item-1.activo[_ngcontent-%COMP%], #pregunta-respuestas[_ngcontent-%COMP%]   li#item-2.activo[_ngcontent-%COMP%], #pregunta-respuestas[_ngcontent-%COMP%]   li#item-3.activo[_ngcontent-%COMP%], ol#pregunta-respuestas[_ngcontent-%COMP%]   li.activo[_ngcontent-%COMP%]{background:#4D4D4D;color:#bfbfbf}"]}),ot})();var Rt=R(7238);let Ot=(()=>{class ot{constructor(ke,Je){this.jugadoresSrv=ke,this.authSrv=Je,this.colorBlock=[{color:"red",animate:"large",audio:new Audio,posicion:0},{color:"green",animate:"large",audio:new Audio,posicion:1},{color:"yellow",animate:"large",audio:new Audio,posicion:2},{color:"blue",animate:"large",audio:new Audio,posicion:3}],this.colorSeries=[],this.level=0,this.index=0,this.lastClicked=0,this.playerChoise=[],this.addLevelFlag=!0,this.clickMulti=!0,this.hideStartButton=!0,this.playingAuth=!1,this.failSound=new Audio,this.buttonClick=new Audio,this.timeWait=1500,this.showLose=!1,this.mensaje="",this.loadSounds()}loadSounds(){Object.values(this.colorBlock).forEach(Je=>{console.log(Je.audio),Je.audio.src=`./../assets/juegos/simon/Audio/${Je.posicion}.wav`,Je.audio.load()}),this.failSound.src="./../assets/juegos/simon/Audio/fail.mp3",this.failSound.load(),this.buttonClick.src="./../assets/juegos/simon/Audio/button.mp3",this.buttonClick.load()}runGame(){this.failSound.pause(),this.hideStartButton=!1,this.playingAuth=!1,this.getNewIndex(),setTimeout(()=>{this.index<this.colorSeries.length?(this.animateMe(this.colorSeries[this.index]),this.index++,this.runGame()):(this.playingAuth=!0,this.index=0,this.addLevelFlag=!0)},this.timeWait)}animateMe(ke){this.lastClicked&&this.colorBlock[this.lastClicked].audio.pause(),this.colorBlock[ke].audio.play(),this.colorBlock[ke].animate="small",this.clickMulti=!1,setTimeout(()=>{this.lastClicked=ke,this.colorBlock[ke].animate="large",this.clickMulti=!0},500)}getNewIndex(){if(this.addLevelFlag)return this.colorSeries.push(Math.floor(4*Math.random()+0)),void(this.addLevelFlag=!1)}addPlayerChoise(ke){this.animateMe(ke),this.playerChoise.push(ke),this.checkChoisePath(ke)?this.playerChoise.length==this.colorSeries.length&&this.levelUp():this.restLevel()}checkChoisePath(ke){return this.colorSeries[this.playerChoise.length-1]==ke}restLevel(){this.mensaje="PERDIO. PUNTAJE: "+this.level,this.registrarResultado(this.level),this.colorSeries=[],this.playerChoise=[],this.hideStartButton=!0,this.playingAuth=!1,this.failSound.play(),this.showLose=!0,setTimeout(()=>{this.showLose=!1,this.mensaje="",this.level=0},5e3)}levelUp(){this.level++,this.playerChoise=[],this.timeWait-=10,this.runGame()}registrarResultado(ke){let Je=new Date,Yt=Je.getDate()+"-"+Je.getMonth()+"-"+Je.getFullYear(),ln={email:this.authSrv.getCurrentUserLS().email,fecha:Yt,juego:"simon",puntaje:ke};this.jugadoresSrv.registrarResultados(ln).then(tn=>{})}}return ot.\u0275fac=function(ke){return new(ke||ot)(L.LFG(q.M),L.LFG(J.e))},ot.\u0275prov=L.Yz7({token:ot,factory:ot.\u0275fac,providedIn:"root"}),ot})();function xe(ot,vt){if(1&ot){const ke=L.EpF();L.TgZ(0,"button",6),L.NdJ("click",function(){return L.CHM(ke),L.oxw(2).ServService.runGame()})("click",function(){return L.CHM(ke),L.oxw(2).ServService.buttonClick.play()}),L._uU(1,"Start"),L.qZA()}}function $e(ot,vt){if(1&ot){const ke=L.EpF();L.TgZ(0,"div",7),L.NdJ("click",function(){const un=L.CHM(ke).index,ln=L.oxw(2);return ln.ServService.clickMulti&&ln.ServService.playingAuth&&ln.ServService.addPlayerChoise(un)}),L.qZA()}if(2&ot){const ke=vt.$implicit,Je=vt.index,Yt=L.oxw(2);L.Gre("color ",ke.color,""),L.Q6J("@fade",Yt.colorBlock[Je].animate)}}function Re(ot,vt){if(1&ot&&(L.TgZ(0,"div",3),L.YNc(1,xe,2,0,"button",4),L.YNc(2,$e,1,4,"div",5),L.qZA()),2&ot){const ke=L.oxw();L.xp6(1),L.Q6J("ngIf",ke.ServService.hideStartButton),L.xp6(1),L.Q6J("ngForOf",ke.colorBlock)}}const Ye=[{path:"",component:Xe,children:[{path:"ahorcado",component:X,canActivate:[se.U]},{path:"preguntados",component:We,canActivate:[se.U]},{path:"mayormenor",component:sn,canActivate:[se.U]},{path:"simon",component:(()=>{class ot{constructor(ke){this.ServService=ke,this.colorSeries=[],this.clickMulti=!0,this.ServService=ke,this.colorBlock=ke.colorBlock,this.colorSeries=ke.colorSeries,this.ServService=ke}ngOnInit(){}}return ot.\u0275fac=function(ke){return new(ke||ot)(L.Y36(Ot))},ot.\u0275cmp=L.Xpm({type:ot,selectors:[["app-main"]],decls:7,vars:3,consts:[[1,"container",2,"background","slateblue"],["id","numRespuestasCorrectas",1,"bagge"],["id","circle",4,"ngIf"],["id","circle"],["type","button","id","start","class","btn btn4 round4",3,"click",4,"ngIf"],[3,"class","click",4,"ngFor","ngForOf"],["type","button","id","start",1,"btn","btn4","round4",3,"click"],[3,"click"]],template:function(ke,Je){1&ke&&(L.TgZ(0,"div",0),L._uU(1," Nivel: "),L.TgZ(2,"span",1),L._uU(3),L.qZA(),L.TgZ(4,"h3"),L._uU(5),L.qZA(),L.YNc(6,Re,3,2,"div",2),L.qZA()),2&ke&&(L.xp6(3),L.hij(" ",Je.ServService.level," "),L.xp6(2),L.hij(" ",Je.ServService.mensaje," "),L.xp6(1),L.Q6J("ngIf",!Je.ServService.showLose))},directives:[b.O5,b.sg],styles:["#circle[_ngcontent-%COMP%]{width:40%;height:60%;border-radius:50%;float:none;margin:0 auto;position:absolute;border-style:solid;border-width:20px;background-color:#000;left:50%;top:50%;transform:translate(-50%,-50%)}.button[_ngcontent-%COMP%]{background-color:#4caf50;border:none;color:#fff;padding:20px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:4px 2px;cursor:pointer}#start[_ngcontent-%COMP%]{border-radius:50%;background-color:#483d8b;color:#fff;width:50PX;height:50PX;border-style:solid;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);z-index:1000}.color[_ngcontent-%COMP%]{position:absolute;width:48%;height:48%;border-style:solid;border-width:5%}.green[_ngcontent-%COMP%]{border-bottom-right-radius:100%;background-color:green;bottom:0;right:0}.red[_ngcontent-%COMP%]{border-bottom-left-radius:100%;background-color:red;bottom:0}.yellow[_ngcontent-%COMP%]{border-top-left-radius:100%;background-color:#ff0;bottom:0;top:0}.blue[_ngcontent-%COMP%]{border-top-right-radius:100%;background-color:#00f;bottom:0;right:0;top:0}.color[_ngcontent-%COMP%]:hover{opacity:.2}@media only screen{#start[_ngcontent-%COMP%]{border-radius:50%;background-color:#483d8b;color:#fff;width:50PX;height:50PX;border-style:solid;position:absolute;z-index:1000}}@media only screen and (max-width: 800px){#circle[_ngcontent-%COMP%]{height:40%;width:50%}#start[_ngcontent-%COMP%]{border-radius:50%;background-color:#483d8b;color:#fff;width:50PX;height:50PX;border-style:solid;position:absolute;z-index:1000}}@media only screen and (max-width: 500px){#circle[_ngcontent-%COMP%]{height:35%;width:60%;border-width:10px}#start[_ngcontent-%COMP%]{width:40PX;height:40PX;text-align:center;font-size:10px}}@media only screen and (max-width: 360px){#circle[_ngcontent-%COMP%]{height:35%;width:80%}}"],data:{animation:[(0,Rt.X$)("fade",[(0,Rt.SB)("small",(0,Rt.oB)({opacity:"0.1"})),(0,Rt.SB)("large",(0,Rt.oB)({opacity:"1"})),(0,Rt.eR)("small <=> large",(0,Rt.jt)(500))])]}}),ot})(),canActivate:[se.U]}]},{path:"homejuegos",component:Xe,pathMatch:"full"}];let Ne=(()=>{class ot{}return ot.\u0275fac=function(ke){return new(ke||ot)},ot.\u0275mod=L.oAB({type:ot}),ot.\u0275inj=L.cJS({imports:[[O.Bz.forChild(Ye)],O.Bz]}),ot})();var Dt=R(3679);let Zt=(()=>{class ot{}return ot.\u0275fac=function(ke){return new(ke||ot)},ot.\u0275mod=L.oAB({type:ot}),ot.\u0275inj=L.cJS({imports:[[b.ez,Ne,Dt.u5]]}),ot})()},8091:(yt,Me,R)=>{"use strict";R.d(Me,{e:()=>L});var b=R(8239),se=(R(8383),R(7716)),oe=R(1325);let L=(()=>{class re{constructor(q){this.afAuth=q}registerUser(q,J){var Q=this;return(0,b.Z)(function*(){return yield Q.afAuth.createUserWithEmailAndPassword(q,J)})()}loginUser(q,J){var Q=this;return(0,b.Z)(function*(){return Q.afAuth.signInWithEmailAndPassword(q,J)})()}LogOut(){var q=this;return(0,b.Z)(function*(){localStorage.removeItem("usuario_juegos"),q.afAuth.signOut()})()}getCurrentUserFirebase(){return this.afAuth.authState}getCurrentUserLS(){const q=localStorage.getItem("usuario_juegos");return null!=q?JSON.parse(q):null}}return re.\u0275fac=function(q){return new(q||re)(se.LFG(oe.zQ))},re.\u0275prov=se.Yz7({token:re,factory:re.\u0275fac}),re})()},6692:(yt,Me,R)=>{"use strict";R.d(Me,{M:()=>se});var b=R(7716),O=R(2825);let se=(()=>{class oe{constructor(re){this.afs=re,this.jugadoresCollection=re.collection("jugadores"),this.items=this.jugadoresCollection.valueChanges(),this.sesionesCollection=re.collection("sesiones"),this.sesiones=this.sesionesCollection.valueChanges(),this.resultadosCollection=re.collection("resultados"),this.resultados=this.resultadosCollection.valueChanges(),this.encuestasCollection=re.collection("encuestas"),this.encuestas=this.encuestasCollection.valueChanges()}registrarNuevoJugador(re){this.jugadoresCollection.add(Object.assign({},re)),this.registrarNuevaSesion(re.email)}setItemWithId(re,de){return this.jugadoresCollection.doc(de).set(Object.assign({},re))}TraerJugadores(){return this.jugadoresCollection.valueChanges({idField:"doc_id"})}registrarNuevaSesion(re){let de=new Date;const J={fecha:de.getDate().toString()+"-"+de.getMonth().toString()+"-"+de.getFullYear().toString()+" "+de.getHours().toString()+":"+de.getMinutes().toString(),email_user:re};this.sesionesCollection.add(Object.assign({},J))}registrarResultados(re){return this.resultadosCollection.add(Object.assign({},re))}registrarEncuesta(re){return this.encuestasCollection=this.afs.collection("encuestas"),this.encuestasCollection.add(Object.assign({},re))}traerResultados(){return this.resultadosCollection=this.afs.collection("resultados",re=>re.orderBy("fecha","desc")),this.resultadosCollection.valueChanges()}}return oe.\u0275fac=function(re){return new(re||oe)(b.LFG(O.ST))},oe.\u0275prov=b.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})()},6120:(yt,Me,R)=>{"use strict";var b=R(8583),O=R(7716);class se extends b.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class oe extends se{static makeCurrent(){(0,b.HT)(new oe)}onAndCancel(y,_,T){return y.addEventListener(_,T,!1),()=>{y.removeEventListener(_,T,!1)}}dispatchEvent(y,_){y.dispatchEvent(_)}remove(y){y.parentNode&&y.parentNode.removeChild(y)}createElement(y,_){return(_=_||this.getDefaultDocument()).createElement(y)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(y){return y.nodeType===Node.ELEMENT_NODE}isShadowRoot(y){return y instanceof DocumentFragment}getGlobalEventTarget(y,_){return"window"===_?window:"document"===_?y:"body"===_?y.body:null}getBaseHref(y){const _=(L=L||document.querySelector("base"),L?L.getAttribute("href"):null);return null==_?null:function(N){de=de||document.createElement("a"),de.setAttribute("href",N);const y=de.pathname;return"/"===y.charAt(0)?y:`/${y}`}(_)}resetBaseElement(){L=null}getUserAgent(){return window.navigator.userAgent}getCookie(y){return(0,b.Mx)(document.cookie,y)}}let de,L=null;const J=new O.OlP("TRANSITION_ID"),ue=[{provide:O.ip1,useFactory:function(N,y,_){return()=>{_.get(O.CZH).donePromise.then(()=>{const T=(0,b.q)(),W=y.querySelectorAll(`style[ng-transition="${N}"]`);for(let ne=0;ne<W.length;ne++)T.remove(W[ne])})}},deps:[J,b.K0,O.zs3],multi:!0}];class X{static init(){(0,O.VLi)(new X)}addToWindow(y){O.dqk.getAngularTestability=(T,W=!0)=>{const ne=y.findTestabilityInTree(T,W);if(null==ne)throw new Error("Could not find testability for element.");return ne},O.dqk.getAllAngularTestabilities=()=>y.getAllTestabilities(),O.dqk.getAllAngularRootElements=()=>y.getAllRootElements(),O.dqk.frameworkStabilizers||(O.dqk.frameworkStabilizers=[]),O.dqk.frameworkStabilizers.push(T=>{const W=O.dqk.getAllAngularTestabilities();let ne=W.length,Ee=!1;const Te=function(je){Ee=Ee||je,ne--,0==ne&&T(Ee)};W.forEach(function(je){je.whenStable(Te)})})}findTestabilityInTree(y,_,T){if(null==_)return null;const W=y.getTestability(_);return null!=W?W:T?(0,b.q)().isShadowRoot(_)?this.findTestabilityInTree(y,_.host,!0):this.findTestabilityInTree(y,_.parentElement,!0):null}}let fe=(()=>{class N{build(){return new XMLHttpRequest}}return N.\u0275fac=function(_){return new(_||N)},N.\u0275prov=O.Yz7({token:N,factory:N.\u0275fac}),N})();const Re=new O.OlP("EventManagerPlugins");let Qe=(()=>{class N{constructor(_,T){this._zone=T,this._eventNameToPlugin=new Map,_.forEach(W=>W.manager=this),this._plugins=_.slice().reverse()}addEventListener(_,T,W){return this._findPluginFor(T).addEventListener(_,T,W)}addGlobalEventListener(_,T,W){return this._findPluginFor(T).addGlobalEventListener(_,T,W)}getZone(){return this._zone}_findPluginFor(_){const T=this._eventNameToPlugin.get(_);if(T)return T;const W=this._plugins;for(let ne=0;ne<W.length;ne++){const Ee=W[ne];if(Ee.supports(_))return this._eventNameToPlugin.set(_,Ee),Ee}throw new Error(`No event manager plugin found for event ${_}`)}}return N.\u0275fac=function(_){return new(_||N)(O.LFG(Re),O.LFG(O.R0b))},N.\u0275prov=O.Yz7({token:N,factory:N.\u0275fac}),N})();class Ye{constructor(y){this._doc=y}addGlobalEventListener(y,_,T){const W=(0,b.q)().getGlobalEventTarget(this._doc,y);if(!W)throw new Error(`Unsupported event target ${W} for event ${_}`);return this.addEventListener(W,_,T)}}let Ne=(()=>{class N{constructor(){this._stylesSet=new Set}addStyles(_){const T=new Set;_.forEach(W=>{this._stylesSet.has(W)||(this._stylesSet.add(W),T.add(W))}),this.onStylesAdded(T)}onStylesAdded(_){}getAllStyles(){return Array.from(this._stylesSet)}}return N.\u0275fac=function(_){return new(_||N)},N.\u0275prov=O.Yz7({token:N,factory:N.\u0275fac}),N})(),Dt=(()=>{class N extends Ne{constructor(_){super(),this._doc=_,this._hostNodes=new Map,this._hostNodes.set(_.head,[])}_addStylesToHost(_,T,W){_.forEach(ne=>{const Ee=this._doc.createElement("style");Ee.textContent=ne,W.push(T.appendChild(Ee))})}addHost(_){const T=[];this._addStylesToHost(this._stylesSet,_,T),this._hostNodes.set(_,T)}removeHost(_){const T=this._hostNodes.get(_);T&&T.forEach(Zt),this._hostNodes.delete(_)}onStylesAdded(_){this._hostNodes.forEach((T,W)=>{this._addStylesToHost(_,W,T)})}ngOnDestroy(){this._hostNodes.forEach(_=>_.forEach(Zt))}}return N.\u0275fac=function(_){return new(_||N)(O.LFG(b.K0))},N.\u0275prov=O.Yz7({token:N,factory:N.\u0275fac}),N})();function Zt(N){(0,b.q)().remove(N)}const ot={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},vt=/%COMP%/g;function cr(N,y,_){for(let T=0;T<y.length;T++){let W=y[T];Array.isArray(W)?cr(N,W,_):(W=W.replace(vt,N),_.push(W))}return _}function jn(N){return y=>{if("__ngUnwrap__"===y)return N;!1===N(y)&&(y.preventDefault(),y.returnValue=!1)}}let yn=(()=>{class N{constructor(_,T,W){this.eventManager=_,this.sharedStylesHost=T,this.appId=W,this.rendererByCompId=new Map,this.defaultRenderer=new qt(_)}createRenderer(_,T){if(!_||!T)return this.defaultRenderer;switch(T.encapsulation){case O.ifc.Emulated:{let W=this.rendererByCompId.get(T.id);return W||(W=new dr(this.eventManager,this.sharedStylesHost,T,this.appId),this.rendererByCompId.set(T.id,W)),W.applyToHost(_),W}case 1:case O.ifc.ShadowDom:return new Ki(this.eventManager,this.sharedStylesHost,_,T);default:if(!this.rendererByCompId.has(T.id)){const W=cr(T.id,T.styles,[]);this.sharedStylesHost.addStyles(W),this.rendererByCompId.set(T.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return N.\u0275fac=function(_){return new(_||N)(O.LFG(Qe),O.LFG(Dt),O.LFG(O.AFp))},N.\u0275prov=O.Yz7({token:N,factory:N.\u0275fac}),N})();class qt{constructor(y){this.eventManager=y,this.data=Object.create(null)}destroy(){}createElement(y,_){return _?document.createElementNS(ot[_]||_,y):document.createElement(y)}createComment(y){return document.createComment(y)}createText(y){return document.createTextNode(y)}appendChild(y,_){y.appendChild(_)}insertBefore(y,_,T){y&&y.insertBefore(_,T)}removeChild(y,_){y&&y.removeChild(_)}selectRootElement(y,_){let T="string"==typeof y?document.querySelector(y):y;if(!T)throw new Error(`The selector "${y}" did not match any elements`);return _||(T.textContent=""),T}parentNode(y){return y.parentNode}nextSibling(y){return y.nextSibling}setAttribute(y,_,T,W){if(W){_=W+":"+_;const ne=ot[W];ne?y.setAttributeNS(ne,_,T):y.setAttribute(_,T)}else y.setAttribute(_,T)}removeAttribute(y,_,T){if(T){const W=ot[T];W?y.removeAttributeNS(W,_):y.removeAttribute(`${T}:${_}`)}else y.removeAttribute(_)}addClass(y,_){y.classList.add(_)}removeClass(y,_){y.classList.remove(_)}setStyle(y,_,T,W){W&(O.JOm.DashCase|O.JOm.Important)?y.style.setProperty(_,T,W&O.JOm.Important?"important":""):y.style[_]=T}removeStyle(y,_,T){T&O.JOm.DashCase?y.style.removeProperty(_):y.style[_]=""}setProperty(y,_,T){y[_]=T}setValue(y,_){y.nodeValue=_}listen(y,_,T){return"string"==typeof y?this.eventManager.addGlobalEventListener(y,_,jn(T)):this.eventManager.addEventListener(y,_,jn(T))}}class dr extends qt{constructor(y,_,T,W){super(y),this.component=T;const ne=cr(W+"-"+T.id,T.styles,[]);_.addStyles(ne),this.contentAttr="_ngcontent-%COMP%".replace(vt,W+"-"+T.id),this.hostAttr="_nghost-%COMP%".replace(vt,W+"-"+T.id)}applyToHost(y){super.setAttribute(y,this.hostAttr,"")}createElement(y,_){const T=super.createElement(y,_);return super.setAttribute(T,this.contentAttr,""),T}}class Ki extends qt{constructor(y,_,T,W){super(y),this.sharedStylesHost=_,this.hostEl=T,this.shadowRoot=T.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const ne=cr(W.id,W.styles,[]);for(let Ee=0;Ee<ne.length;Ee++){const Te=document.createElement("style");Te.textContent=ne[Ee],this.shadowRoot.appendChild(Te)}}nodeOrShadowRoot(y){return y===this.hostEl?this.shadowRoot:y}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(y,_){return super.appendChild(this.nodeOrShadowRoot(y),_)}insertBefore(y,_,T){return super.insertBefore(this.nodeOrShadowRoot(y),_,T)}removeChild(y,_){return super.removeChild(this.nodeOrShadowRoot(y),_)}parentNode(y){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(y)))}}let mr=(()=>{class N extends Ye{constructor(_){super(_)}supports(_){return!0}addEventListener(_,T,W){return _.addEventListener(T,W,!1),()=>this.removeEventListener(_,T,W)}removeEventListener(_,T,W){return _.removeEventListener(T,W)}}return N.\u0275fac=function(_){return new(_||N)(O.LFG(b.K0))},N.\u0275prov=O.Yz7({token:N,factory:N.\u0275fac}),N})();const Lt=["alt","control","meta","shift"],Ft={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},On={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Nn={alt:N=>N.altKey,control:N=>N.ctrlKey,meta:N=>N.metaKey,shift:N=>N.shiftKey};let en=(()=>{class N extends Ye{constructor(_){super(_)}supports(_){return null!=N.parseEventName(_)}addEventListener(_,T,W){const ne=N.parseEventName(T),Ee=N.eventCallback(ne.fullKey,W,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,b.q)().onAndCancel(_,ne.domEventName,Ee))}static parseEventName(_){const T=_.toLowerCase().split("."),W=T.shift();if(0===T.length||"keydown"!==W&&"keyup"!==W)return null;const ne=N._normalizeKey(T.pop());let Ee="";if(Lt.forEach(je=>{const pt=T.indexOf(je);pt>-1&&(T.splice(pt,1),Ee+=je+".")}),Ee+=ne,0!=T.length||0===ne.length)return null;const Te={};return Te.domEventName=W,Te.fullKey=Ee,Te}static getEventFullKey(_){let T="",W=function(N){let y=N.key;if(null==y){if(y=N.keyIdentifier,null==y)return"Unidentified";y.startsWith("U+")&&(y=String.fromCharCode(parseInt(y.substring(2),16)),3===N.location&&On.hasOwnProperty(y)&&(y=On[y]))}return Ft[y]||y}(_);return W=W.toLowerCase()," "===W?W="space":"."===W&&(W="dot"),Lt.forEach(ne=>{ne!=W&&Nn[ne](_)&&(T+=ne+".")}),T+=W,T}static eventCallback(_,T,W){return ne=>{N.getEventFullKey(ne)===_&&W.runGuarded(()=>T(ne))}}static _normalizeKey(_){switch(_){case"esc":return"escape";default:return _}}}return N.\u0275fac=function(_){return new(_||N)(O.LFG(b.K0))},N.\u0275prov=O.Yz7({token:N,factory:N.\u0275fac}),N})();const rt=(0,O.eFA)(O._c5,"browser",[{provide:O.Lbi,useValue:b.bD},{provide:O.g9A,useValue:function(){oe.makeCurrent(),X.init()},multi:!0},{provide:b.K0,useFactory:function(){return(0,O.RDi)(document),document},deps:[]}]),et=[[],{provide:O.zSh,useValue:"root"},{provide:O.qLn,useFactory:function(){return new O.qLn},deps:[]},{provide:Re,useClass:mr,multi:!0,deps:[b.K0,O.R0b,O.Lbi]},{provide:Re,useClass:en,multi:!0,deps:[b.K0]},[],{provide:yn,useClass:yn,deps:[Qe,Dt,O.AFp]},{provide:O.FYo,useExisting:yn},{provide:Ne,useExisting:Dt},{provide:Dt,useClass:Dt,deps:[b.K0]},{provide:O.dDg,useClass:O.dDg,deps:[O.R0b]},{provide:Qe,useClass:Qe,deps:[Re,O.R0b]},{provide:b.JF,useClass:fe,deps:[]},[]];let it=(()=>{class N{constructor(_){if(_)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(_){return{ngModule:N,providers:[{provide:O.AFp,useValue:_.appId},{provide:J,useExisting:O.AFp},ue]}}}return N.\u0275fac=function(_){return new(_||N)(O.LFG(N,12))},N.\u0275mod=O.oAB({type:N}),N.\u0275inj=O.cJS({providers:et,imports:[b.ez,O.hGG]}),N})();"undefined"!=typeof window&&window;var Zi=R(3679),li=R(9895),ss=R(189),qi=R(6692);function zr(N,y){if(1&N&&(O.TgZ(0,"tr"),O.TgZ(1,"td"),O._uU(2),O.qZA(),O.TgZ(3,"td"),O._uU(4),O.qZA(),O.TgZ(5,"td"),O._uU(6),O.qZA(),O.TgZ(7,"td"),O._uU(8),O.qZA(),O.qZA()),2&N){const _=y.$implicit;O.xp6(2),O.Oqu(_.fecha),O.xp6(2),O.Oqu(_.email),O.xp6(2),O.Oqu(_.juego),O.xp6(2),O.Oqu(_.puntaje)}}const Hi=[{path:"quiensoy",loadChildren:()=>R.e(882).then(R.bind(R,9882)).then(N=>N.QuiensoyModule)},{path:"chat",loadChildren:()=>R.e(23).then(R.bind(R,2023)).then(N=>N.ChatModule)},{path:"error",loadChildren:()=>R.e(473).then(R.bind(R,8473)).then(N=>N.ErrorModule)},{path:"home",loadChildren:()=>R.e(720).then(R.bind(R,6720)).then(N=>N.HomeModule)},{path:"juegos",loadChildren:()=>Promise.resolve().then(R.bind(R,7082)).then(N=>N.JuegosModule)},{path:"login",loadChildren:()=>R.e(180).then(R.bind(R,180)).then(N=>N.LoginModule)},{path:"cerrarSesion",loadChildren:()=>R.e(180).then(R.bind(R,180)).then(N=>N.LoginModule),canActivate:[ss.U]},{path:"registro",loadChildren:()=>R.e(220).then(R.bind(R,2220)).then(N=>N.RegistroModule)},{path:"encuesta",loadChildren:()=>R.e(717).then(R.bind(R,717)).then(N=>N.EncuestaModule)},{path:"listado",component:(()=>{class N{constructor(_){this.jugadoresSrv=_,this.resultados=[]}ngOnInit(){this.jugadoresSrv.traerResultados().subscribe(_=>{this.resultados=_})}}return N.\u0275fac=function(_){return new(_||N)(O.Y36(qi.M))},N.\u0275cmp=O.Xpm({type:N,selectors:[["app-listado-resultado"]],decls:16,vars:1,consts:[[1,"container"],[1,"table","tabla"],[4,"ngFor","ngForOf"]],template:function(_,T){1&_&&(O.TgZ(0,"div",0),O.TgZ(1,"h2"),O._uU(2,"Resultados"),O.qZA(),O.TgZ(3,"table",1),O.TgZ(4,"thead"),O.TgZ(5,"tr"),O.TgZ(6,"th"),O._uU(7,"Fecha"),O.qZA(),O.TgZ(8,"th"),O._uU(9,"Usuario"),O.qZA(),O.TgZ(10,"th"),O._uU(11,"Juego"),O.qZA(),O.TgZ(12,"th"),O._uU(13,"Puntaje"),O.qZA(),O.qZA(),O.qZA(),O.TgZ(14,"tbody"),O.YNc(15,zr,9,4,"tr",2),O.qZA(),O.qZA(),O.qZA()),2&_&&(O.xp6(15),O.Q6J("ngForOf",T.resultados))},directives:[b.sg],styles:[".tabla[_ngcontent-%COMP%]{background:#232324;color:#fff}"]}),N})()},{path:"",redirectTo:"home",pathMatch:"full"},{path:"**",redirectTo:"home",pathMatch:"full"}];let Kr=(()=>{class N{}return N.\u0275fac=function(_){return new(_||N)},N.\u0275mod=O.oAB({type:N}),N.\u0275inj=O.cJS({imports:[[li.Bz.forRoot(Hi)],li.Bz]}),N})();var Gn=R(8239),Yi=R(8091);function ys(N,y){1&N&&(O.TgZ(0,"li",12),O.TgZ(1,"a",13),O._uU(2," Login "),O.qZA(),O.qZA())}function _s(N,y){1&N&&(O.TgZ(0,"li",12),O.TgZ(1,"a",14),O._uU(2," Registro "),O.qZA(),O.qZA())}function Qs(N,y){if(1&N&&(O.TgZ(0,"li",12),O._uU(1),O.qZA()),2&N){const _=O.oxw();O.xp6(1),O.Oqu(_.nombre_usuario)}}function ci(N,y){if(1&N){const _=O.EpF();O.TgZ(0,"li",12),O.TgZ(1,"button",15),O.NdJ("click",function(){return O.CHM(_),O.oxw().cerrarSesion()}),O._uU(2,"Cerrar sesion"),O.qZA(),O.qZA()}}function yi(N,y){1&N&&(O.TgZ(0,"li"),O.TgZ(1,"a",16),O._uU(2,"Chat"),O.qZA(),O.qZA())}const di=function(){return["/listado"]},Or=function(){return["/encuesta/"]};let Js=(()=>{class N{constructor(_,T){this.authSv=_,this.router=T,this.titulo="Sala de Juegos",this.usuarioActual(),console.log("estado: "+this.estado_activo)}ngOnInit(){this.usuarioActual()}cerrarSesion(){var _=this;return(0,Gn.Z)(function*(){try{yield _.authSv.LogOut(),_.router.navigate(["/login"]).then(()=>_.usuarioActual())}catch(T){console.log("Error al cerrar sesion"+T)}})()}usuarioActual(){let _=this.authSv.getCurrentUserLS();null==_?this.estado_activo=!1:null!=_&&"activa"==_.sesion&&(this.nombre_usuario=_.email,this.estado_activo=!0)}}return N.\u0275fac=function(_){return new(_||N)(O.Y36(Yi.e),O.Y36(li.F0))},N.\u0275cmp=O.Xpm({type:N,selectors:[["app-navbar"]],decls:28,vars:10,consts:[[1,"header","px-3","py-2","bg-dark","text-white"],[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container"],[1,"d-flex","flex-wrap","align-items-center","justify-content-center","justify-content-lg-start"],["routerLink","",1,"d-flex","align-items-center","my-2","my-lg-0","me-lg-auto","text-white","text-decoration-none"],[1,"nav","col-12","col-lg-auto","my-2","justify-content-center","my-md-0","text-small"],["href","home",1,"nav-link","text-white"],["href","juegos",1,"nav-link","text-white"],[1,"nav-link","text-white",3,"routerLink"],["href","quiensoy",1,"nav-link","text-white"],["class","nav-link text-white",4,"ngIf"],[4,"ngIf"],[1,"nav-link","text-white"],["href","login"],["href","registro"],[1,"btn","btn-danger",3,"click"],["href","chat",1,"btn-flotante"]],template:function(_,T){1&_&&(O.TgZ(0,"header",0),O.TgZ(1,"nav",1),O.TgZ(2,"div",2),O.TgZ(3,"div",3),O.TgZ(4,"a",4),O.TgZ(5,"h2"),O._uU(6),O.qZA(),O.qZA(),O.TgZ(7,"ul",5),O.TgZ(8,"li"),O.TgZ(9,"a",6),O._uU(10," Inicio "),O.qZA(),O.qZA(),O.TgZ(11,"li"),O.TgZ(12,"a",7),O._uU(13," Juegos "),O.qZA(),O.qZA(),O.TgZ(14,"li"),O.TgZ(15,"a",8),O._uU(16," Listados "),O.qZA(),O.qZA(),O.TgZ(17,"li"),O.TgZ(18,"a",8),O._uU(19," Encuesta "),O.qZA(),O.qZA(),O.TgZ(20,"li"),O.TgZ(21,"a",9),O._uU(22," Quien soy "),O.qZA(),O.qZA(),O.YNc(23,ys,3,0,"li",10),O.YNc(24,_s,3,0,"li",10),O.YNc(25,Qs,2,1,"li",10),O.YNc(26,ci,3,0,"li",10),O.YNc(27,yi,3,0,"li",11),O.qZA(),O.qZA(),O.qZA(),O.qZA(),O.qZA()),2&_&&(O.xp6(6),O.hij(" ",T.titulo," "),O.xp6(9),O.Q6J("routerLink",O.DdM(8,di)),O.xp6(3),O.Q6J("routerLink",O.DdM(9,Or)),O.xp6(5),O.Q6J("ngIf",!T.estado_activo||null==T.estado_activo),O.xp6(1),O.Q6J("ngIf",!T.estado_activo||null==T.estado_activo),O.xp6(1),O.Q6J("ngIf",T.estado_activo),O.xp6(1),O.Q6J("ngIf",T.estado_activo),O.xp6(1),O.Q6J("ngIf",T.estado_activo))},directives:[li.yS,b.O5],styles:[".btn-flotante[_ngcontent-%COMP%]{font-size:16px;text-transform:uppercase;font-weight:bold;color:#fff;border-radius:5px;letter-spacing:2px;background-color:#e91e63;padding:18px 30px;position:fixed;bottom:30px;right:30px;transition:all .3s ease 0ms;box-shadow:0 8px 15px #0000001a;z-index:99}.btn-flotante[_ngcontent-%COMP%]:hover{background-color:#2c2fa5;box-shadow:0 15px 20px #0000004d;transform:translateY(-7px)}@media only screen and (max-width: 600px){.btn-flotante[_ngcontent-%COMP%]{font-size:7px;padding:6px 10px;bottom:10px;right:10px}}"]}),N})(),Pi=(()=>{class N{constructor(){}ngOnInit(){}}return N.\u0275fac=function(_){return new(_||N)},N.\u0275cmp=O.Xpm({type:N,selectors:[["app-root"]],decls:2,vars:0,template:function(_,T){1&_&&(O._UZ(0,"app-navbar"),O._UZ(1,"router-outlet"))},directives:[Js,li.lC],styles:[".btn-flotante[_ngcontent-%COMP%]{font-size:16px;text-transform:uppercase;font-weight:bold;color:#fff;border-radius:5px;letter-spacing:2px;background-color:#e91e63;padding:18px 30px;position:fixed;bottom:40px;right:40px;transition:all .3s ease 0ms;box-shadow:0 8px 15px #0000001a;z-index:99}.btn-flotante[_ngcontent-%COMP%]:hover{background-color:#2c2fa5;box-shadow:0 15px 20px #0000004d;transform:translateY(-7px)}@media only screen and (max-width: 600px){.btn-flotante[_ngcontent-%COMP%]{font-size:14px;padding:12px 20px;bottom:20px;right:20px}}"]}),N})();var _i=R(9958),xi=R(1325),vi=R(2825);const Li={apiKey:"AIzaSyCG3nz2o6PJdP1vbPrkgE5ASRMoywy8P3Y",authDomain:"salajuegos-a1a0a.firebaseapp.com",projectId:"salajuegos-a1a0a",storageBucket:"salajuegos-a1a0a.appspot.com",messagingSenderId:"354051480346",appId:"1:354051480346:web:390fd127b2c87b30f46aa3"};var Vr=R(1841),Fn=R(7238);function Mi(){return"undefined"!=typeof window&&void 0!==window.document}function vs(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function hi(N){switch(N.length){case 0:return new Fn.ZN;case 1:return N[0];default:return new Fn.ZE(N)}}function ho(N,y,_,T,W={},ne={}){const Ee=[],Te=[];let je=-1,pt=null;if(T.forEach(Vt=>{const on=Vt.offset,Un=on==je,gr=Un&&pt||{};Object.keys(Vt).forEach(gn=>{let Hn=gn,rr=Vt[gn];if("offset"!==gn)switch(Hn=y.normalizePropertyName(Hn,Ee),rr){case Fn.k1:rr=W[gn];break;case Fn.l3:rr=ne[gn];break;default:rr=y.normalizeStyleValue(gn,Hn,rr,Ee)}gr[Hn]=rr}),Un||Te.push(gr),pt=gr,je=on}),Ee.length){const Vt="\n - ";throw new Error(`Unable to animate due to the following errors:${Vt}${Ee.join(Vt)}`)}return Te}function Ur(N,y,_,T){switch(y){case"start":N.onStart(()=>T(_&&Po(_,"start",N)));break;case"done":N.onDone(()=>T(_&&Po(_,"done",N)));break;case"destroy":N.onDestroy(()=>T(_&&Po(_,"destroy",N)))}}function Po(N,y,_){const T=_.totalTime,ne=os(N.element,N.triggerName,N.fromState,N.toState,y||N.phaseName,null==T?N.totalTime:T,!!_.disabled),Ee=N._data;return null!=Ee&&(ne._data=Ee),ne}function os(N,y,_,T,W="",ne=0,Ee){return{element:N,triggerName:y,fromState:_,toState:T,phaseName:W,totalTime:ne,disabled:!!Ee}}function yr(N,y,_){let T;return N instanceof Map?(T=N.get(y),T||N.set(y,T=_)):(T=N[y],T||(T=N[y]=_)),T}function Lo(N){const y=N.indexOf(":");return[N.substring(1,y),N.substr(y+1)]}let Es=(N,y)=>!1,Hs=(N,y)=>!1,Os=(N,y,_)=>[];const Xs=vs();(Xs||"undefined"!=typeof Element)&&(Es=Mi()?(N,y)=>{for(;y&&y!==document.documentElement;){if(y===N)return!0;y=y.parentNode||y.host}return!1}:(N,y)=>N.contains(y),Hs=(()=>{if(Xs||Element.prototype.matches)return(N,y)=>N.matches(y);{const N=Element.prototype,y=N.matchesSelector||N.mozMatchesSelector||N.msMatchesSelector||N.oMatchesSelector||N.webkitMatchesSelector;return y?(_,T)=>y.apply(_,[T]):Hs}})(),Os=(N,y,_)=>{let T=[];if(_){const W=N.querySelectorAll(y);for(let ne=0;ne<W.length;ne++)T.push(W[ne])}else{const W=N.querySelector(y);W&&T.push(W)}return T});let Lr=null,fi=!1;function eo(N){Lr||(Lr=("undefined"!=typeof document?document.body:null)||{},fi=!!Lr.style&&"WebkitAppearance"in Lr.style);let y=!0;return Lr.style&&!function(N){return"ebkit"==N.substring(1,6)}(N)&&(y=N in Lr.style,!y&&fi&&(y="Webkit"+N.charAt(0).toUpperCase()+N.substr(1)in Lr.style)),y}const Ns=Hs,Ji=Es,Xi=Os;function Xr(N){const y={};return Object.keys(N).forEach(_=>{const T=_.replace(/([a-z])([A-Z])/g,"$1-$2");y[T]=N[_]}),y}let bs=(()=>{class N{validateStyleProperty(_){return eo(_)}matchesElement(_,T){return Ns(_,T)}containsElement(_,T){return Ji(_,T)}query(_,T,W){return Xi(_,T,W)}computeStyle(_,T,W){return W||""}animate(_,T,W,ne,Ee,Te=[],je){return new Fn.ZN(W,ne)}}return N.\u0275fac=function(_){return new(_||N)},N.\u0275prov=O.Yz7({token:N,factory:N.\u0275fac}),N})(),$s=(()=>{class N{}return N.NOOP=new bs,N})();const G="ng-enter",j="ng-leave",tt="ng-trigger",Gt=".ng-trigger",sr="ng-animating",Zr=".ng-animating";function ii(N){if("number"==typeof N)return N;const y=N.match(/^(-?[\.\d]+)(m?s)/);return!y||y.length<2?0:ko(parseFloat(y[1]),y[2])}function ko(N,y){switch(y){case"s":return 1e3*N;default:return N}}function U(N,y,_){return N.hasOwnProperty("duration")?N:function(N,y,_){let W,ne=0,Ee="";if("string"==typeof N){const Te=N.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Te)return y.push(`The provided timing value "${N}" is invalid.`),{duration:0,delay:0,easing:""};W=ko(parseFloat(Te[1]),Te[2]);const je=Te[3];null!=je&&(ne=ko(parseFloat(je),Te[4]));const pt=Te[5];pt&&(Ee=pt)}else W=N;if(!_){let Te=!1,je=y.length;W<0&&(y.push("Duration values below 0 are not allowed for this animation step."),Te=!0),ne<0&&(y.push("Delay values below 0 are not allowed for this animation step."),Te=!0),Te&&y.splice(je,0,`The provided timing value "${N}" is invalid.`)}return{duration:W,delay:ne,easing:Ee}}(N,y,_)}function $(N,y={}){return Object.keys(N).forEach(_=>{y[_]=N[_]}),y}function Ie(N,y,_={}){if(y)for(let T in N)_[T]=N[T];else $(N,_);return _}function at(N,y,_){return _?y+":"+_+";":""}function ht(N){let y="";for(let _=0;_<N.style.length;_++){const T=N.style.item(_);y+=at(0,T,N.style.getPropertyValue(T))}for(const _ in N.style)N.style.hasOwnProperty(_)&&!_.startsWith("_")&&(y+=at(0,no(_),N.style[_]));N.setAttribute("style",y)}function zt(N,y,_){N.style&&(Object.keys(y).forEach(T=>{const W=kr(T);_&&!_.hasOwnProperty(T)&&(_[T]=N.style[W]),N.style[W]=y[T]}),vs()&&ht(N))}function vn(N,y){N.style&&(Object.keys(y).forEach(_=>{const T=kr(_);N.style[T]=""}),vs()&&ht(N))}function hr(N){return Array.isArray(N)?1==N.length?N[0]:(0,Fn.vP)(N):N}const In=new RegExp("{{\\s*(.+?)\\s*}}","g");function fr(N){let y=[];if("string"==typeof N){let _;for(;_=In.exec(N);)y.push(_[1]);In.lastIndex=0}return y}function nr(N,y,_){const T=N.toString(),W=T.replace(In,(ne,Ee)=>{let Te=y[Ee];return y.hasOwnProperty(Ee)||(_.push(`Please provide a value for the animation param ${Ee}`),Te=""),Te.toString()});return W==T?N:W}function qr(N){const y=[];let _=N.next();for(;!_.done;)y.push(_.value),_=N.next();return y}const to=/-+([a-z0-9])/g;function kr(N){return N.replace(to,(...y)=>y[1].toUpperCase())}function no(N){return N.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function bi(N,y){return 0===N||0===y}function dn(N,y,_){const T=Object.keys(_);if(T.length&&y.length){let ne=y[0],Ee=[];if(T.forEach(Te=>{ne.hasOwnProperty(Te)||Ee.push(Te),ne[Te]=_[Te]}),Ee.length)for(var W=1;W<y.length;W++){let Te=y[W];Ee.forEach(function(je){Te[je]=Fo(N,je)})}}return y}function pi(N,y,_){switch(y.type){case 7:return N.visitTrigger(y,_);case 0:return N.visitState(y,_);case 1:return N.visitTransition(y,_);case 2:return N.visitSequence(y,_);case 3:return N.visitGroup(y,_);case 4:return N.visitAnimate(y,_);case 5:return N.visitKeyframes(y,_);case 6:return N.visitStyle(y,_);case 8:return N.visitReference(y,_);case 9:return N.visitAnimateChild(y,_);case 10:return N.visitAnimateRef(y,_);case 11:return N.visitQuery(y,_);case 12:return N.visitStagger(y,_);default:throw new Error(`Unable to resolve animation metadata node #${y.type}`)}}function Fo(N,y){return window.getComputedStyle(N)[y]}function zo(N,y){const _=[];return"string"==typeof N?N.split(/\s*,\s*/).forEach(T=>function(N,y,_){if(":"==N[0]){const je=function(N,y){switch(N){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(_,T)=>parseFloat(T)>parseFloat(_);case":decrement":return(_,T)=>parseFloat(T)<parseFloat(_);default:return y.push(`The transition alias value "${N}" is not supported`),"* => *"}}(N,_);if("function"==typeof je)return void y.push(je);N=je}const T=N.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==T||T.length<4)return _.push(`The provided transition expression "${N}" is not supported`),y;const W=T[1],ne=T[2],Ee=T[3];y.push(Jn(W,Ee));"<"==ne[0]&&!("*"==W&&"*"==Ee)&&y.push(Jn(Ee,W))}(T,_,y)):_.push(N),_}const po=new Set(["true","1"]),It=new Set(["false","0"]);function Jn(N,y){const _=po.has(N)||It.has(N),T=po.has(y)||It.has(y);return(W,ne)=>{let Ee="*"==N||N==W,Te="*"==y||y==ne;return!Ee&&_&&"boolean"==typeof W&&(Ee=W?po.has(N):It.has(N)),!Te&&T&&"boolean"==typeof ne&&(Te=ne?po.has(y):It.has(y)),Ee&&Te}}const jr=new RegExp("s*:selfs*,?","g");function Ko(N,y,_){return new ls(N).build(y,_)}class ls{constructor(y){this._driver=y}build(y,_){const T=new $a(_);return this._resetContextStyleTimingState(T),pi(this,hr(y),T)}_resetContextStyleTimingState(y){y.currentQuerySelector="",y.collectedStyles={},y.collectedStyles[""]={},y.currentTime=0}visitTrigger(y,_){let T=_.queryCount=0,W=_.depCount=0;const ne=[],Ee=[];return"@"==y.name.charAt(0)&&_.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),y.definitions.forEach(Te=>{if(this._resetContextStyleTimingState(_),0==Te.type){const je=Te,pt=je.name;pt.toString().split(/\s*,\s*/).forEach(Vt=>{je.name=Vt,ne.push(this.visitState(je,_))}),je.name=pt}else if(1==Te.type){const je=this.visitTransition(Te,_);T+=je.queryCount,W+=je.depCount,Ee.push(je)}else _.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:y.name,states:ne,transitions:Ee,queryCount:T,depCount:W,options:null}}visitState(y,_){const T=this.visitStyle(y.styles,_),W=y.options&&y.options.params||null;if(T.containsDynamicStyles){const ne=new Set,Ee=W||{};if(T.styles.forEach(Te=>{if(ws(Te)){const je=Te;Object.keys(je).forEach(pt=>{fr(je[pt]).forEach(Vt=>{Ee.hasOwnProperty(Vt)||ne.add(Vt)})})}}),ne.size){const Te=qr(ne.values());_.errors.push(`state("${y.name}", ...) must define default values for all the following style substitutions: ${Te.join(", ")}`)}}return{type:0,name:y.name,style:T,options:W?{params:W}:null}}visitTransition(y,_){_.queryCount=0,_.depCount=0;const T=pi(this,hr(y.animation),_);return{type:1,matchers:zo(y.expr,_.errors),animation:T,queryCount:_.queryCount,depCount:_.depCount,options:Rr(y.options)}}visitSequence(y,_){return{type:2,steps:y.steps.map(T=>pi(this,T,_)),options:Rr(y.options)}}visitGroup(y,_){const T=_.currentTime;let W=0;const ne=y.steps.map(Ee=>{_.currentTime=T;const Te=pi(this,Ee,_);return W=Math.max(W,_.currentTime),Te});return _.currentTime=W,{type:3,steps:ne,options:Rr(y.options)}}visitAnimate(y,_){const T=function(N,y){let _=null;if(N.hasOwnProperty("duration"))_=N;else if("number"==typeof N)return es(U(N,y).duration,0,"");const T=N;if(T.split(/\s+/).some(ne=>"{"==ne.charAt(0)&&"{"==ne.charAt(1))){const ne=es(0,0,"");return ne.dynamic=!0,ne.strValue=T,ne}return _=_||U(T,y),es(_.duration,_.delay,_.easing)}(y.timings,_.errors);_.currentAnimateTimings=T;let W,ne=y.styles?y.styles:(0,Fn.oB)({});if(5==ne.type)W=this.visitKeyframes(ne,_);else{let Ee=y.styles,Te=!1;if(!Ee){Te=!0;const pt={};T.easing&&(pt.easing=T.easing),Ee=(0,Fn.oB)(pt)}_.currentTime+=T.duration+T.delay;const je=this.visitStyle(Ee,_);je.isEmptyStep=Te,W=je}return _.currentAnimateTimings=null,{type:4,timings:T,style:W,options:null}}visitStyle(y,_){const T=this._makeStyleAst(y,_);return this._validateStyleAst(T,_),T}_makeStyleAst(y,_){const T=[];Array.isArray(y.styles)?y.styles.forEach(Ee=>{"string"==typeof Ee?Ee==Fn.l3?T.push(Ee):_.errors.push(`The provided style string value ${Ee} is not allowed.`):T.push(Ee)}):T.push(y.styles);let W=!1,ne=null;return T.forEach(Ee=>{if(ws(Ee)){const Te=Ee,je=Te.easing;if(je&&(ne=je,delete Te.easing),!W)for(let pt in Te)if(Te[pt].toString().indexOf("{{")>=0){W=!0;break}}}),{type:6,styles:T,easing:ne,offset:y.offset,containsDynamicStyles:W,options:null}}_validateStyleAst(y,_){const T=_.currentAnimateTimings;let W=_.currentTime,ne=_.currentTime;T&&ne>0&&(ne-=T.duration+T.delay),y.styles.forEach(Ee=>{"string"!=typeof Ee&&Object.keys(Ee).forEach(Te=>{if(!this._driver.validateStyleProperty(Te))return void _.errors.push(`The provided animation property "${Te}" is not a supported CSS property for animations`);const je=_.collectedStyles[_.currentQuerySelector],pt=je[Te];let Vt=!0;pt&&(ne!=W&&ne>=pt.startTime&&W<=pt.endTime&&(_.errors.push(`The CSS property "${Te}" that exists between the times of "${pt.startTime}ms" and "${pt.endTime}ms" is also being animated in a parallel animation between the times of "${ne}ms" and "${W}ms"`),Vt=!1),ne=pt.startTime),Vt&&(je[Te]={startTime:ne,endTime:W}),_.options&&function(N,y,_){const T=y.params||{},W=fr(N);W.length&&W.forEach(ne=>{T.hasOwnProperty(ne)||_.push(`Unable to resolve the local animation param ${ne} in the given list of values`)})}(Ee[Te],_.options,_.errors)})})}visitKeyframes(y,_){const T={type:5,styles:[],options:null};if(!_.currentAnimateTimings)return _.errors.push("keyframes() must be placed inside of a call to animate()"),T;let ne=0;const Ee=[];let Te=!1,je=!1,pt=0;const Vt=y.steps.map(si=>{const ni=this._makeStyleAst(si,_);let Fi=null!=ni.offset?ni.offset:function(N){if("string"==typeof N)return null;let y=null;if(Array.isArray(N))N.forEach(_=>{if(ws(_)&&_.hasOwnProperty("offset")){const T=_;y=parseFloat(T.offset),delete T.offset}});else if(ws(N)&&N.hasOwnProperty("offset")){const _=N;y=parseFloat(_.offset),delete _.offset}return y}(ni.styles),Wr=0;return null!=Fi&&(ne++,Wr=ni.offset=Fi),je=je||Wr<0||Wr>1,Te=Te||Wr<pt,pt=Wr,Ee.push(Wr),ni});je&&_.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),Te&&_.errors.push("Please ensure that all keyframe offsets are in order");const on=y.steps.length;let Un=0;ne>0&&ne<on?_.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==ne&&(Un=1/(on-1));const gr=on-1,gn=_.currentTime,Hn=_.currentAnimateTimings,rr=Hn.duration;return Vt.forEach((si,ni)=>{const Fi=Un>0?ni==gr?1:Un*ni:Ee[ni],Wr=Fi*rr;_.currentTime=gn+Hn.delay+Wr,Hn.duration=Wr,this._validateStyleAst(si,_),si.offset=Fi,T.styles.push(si)}),T}visitReference(y,_){return{type:8,animation:pi(this,hr(y.animation),_),options:Rr(y.options)}}visitAnimateChild(y,_){return _.depCount++,{type:9,options:Rr(y.options)}}visitAnimateRef(y,_){return{type:10,animation:this.visitReference(y.animation,_),options:Rr(y.options)}}visitQuery(y,_){const T=_.currentQuerySelector,W=y.options||{};_.queryCount++,_.currentQuery=y;const[ne,Ee]=function(N){const y=!!N.split(/\s*,\s*/).find(_=>":self"==_);return y&&(N=N.replace(jr,"")),[N=N.replace(/@\*/g,Gt).replace(/@\w+/g,_=>Gt+"-"+_.substr(1)).replace(/:animating/g,Zr),y]}(y.selector);_.currentQuerySelector=T.length?T+" "+ne:ne,yr(_.collectedStyles,_.currentQuerySelector,{});const Te=pi(this,hr(y.animation),_);return _.currentQuery=null,_.currentQuerySelector=T,{type:11,selector:ne,limit:W.limit||0,optional:!!W.optional,includeSelf:Ee,animation:Te,originalSelector:y.selector,options:Rr(y.options)}}visitStagger(y,_){_.currentQuery||_.errors.push("stagger() can only be used inside of query()");const T="full"===y.timings?{duration:0,delay:0,easing:"full"}:U(y.timings,_.errors,!0);return{type:12,animation:pi(this,hr(y.animation),_),timings:T,options:null}}}class $a{constructor(y){this.errors=y,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function ws(N){return!Array.isArray(N)&&"object"==typeof N}function Rr(N){return N?(N=$(N)).params&&(N.params=function(N){return N?$(N):null}(N.params)):N={},N}function es(N,y,_){return{duration:N,delay:y,easing:_}}function Vo(N,y,_,T,W,ne,Ee=null,Te=!1){return{type:1,element:N,keyframes:y,preStyleProps:_,postStyleProps:T,duration:W,delay:ne,totalTime:W+ne,easing:Ee,subTimeline:Te}}class $i{constructor(){this._map=new Map}consume(y){let _=this._map.get(y);return _?this._map.delete(y):_=[],_}append(y,_){let T=this._map.get(y);T||this._map.set(y,T=[]),T.push(..._)}has(y){return this._map.has(y)}clear(){this._map.clear()}}const Hr=new RegExp(":enter","g"),Sa=new RegExp(":leave","g");function ua(N,y,_,T,W,ne={},Ee={},Te,je,pt=[]){return(new yo).buildKeyframes(N,y,_,T,W,ne,Ee,Te,je,pt)}class yo{buildKeyframes(y,_,T,W,ne,Ee,Te,je,pt,Vt=[]){pt=pt||new $i;const on=new _o(y,_,pt,W,ne,Vt,[]);on.options=je,on.currentTimeline.setStyles([Ee],null,on.errors,je),pi(this,T,on);const Un=on.timelines.filter(gr=>gr.containsAnimation());if(Un.length&&Object.keys(Te).length){const gr=Un[Un.length-1];gr.allowOnlyTimelineStyles()||gr.setStyles([Te],null,on.errors,je)}return Un.length?Un.map(gr=>gr.buildKeyframes()):[Vo(_,[],[],[],0,0,"",!1)]}visitTrigger(y,_){}visitState(y,_){}visitTransition(y,_){}visitAnimateChild(y,_){const T=_.subInstructions.consume(_.element);if(T){const W=_.createSubContext(y.options),ne=_.currentTimeline.currentTime,Ee=this._visitSubInstructions(T,W,W.options);ne!=Ee&&_.transformIntoNewTimeline(Ee)}_.previousNode=y}visitAnimateRef(y,_){const T=_.createSubContext(y.options);T.transformIntoNewTimeline(),this.visitReference(y.animation,T),_.transformIntoNewTimeline(T.currentTimeline.currentTime),_.previousNode=y}_visitSubInstructions(y,_,T){let ne=_.currentTimeline.currentTime;const Ee=null!=T.duration?ii(T.duration):null,Te=null!=T.delay?ii(T.delay):null;return 0!==Ee&&y.forEach(je=>{const pt=_.appendInstructionToTimeline(je,Ee,Te);ne=Math.max(ne,pt.duration+pt.delay)}),ne}visitReference(y,_){_.updateOptions(y.options,!0),pi(this,y.animation,_),_.previousNode=y}visitSequence(y,_){const T=_.subContextCount;let W=_;const ne=y.options;if(ne&&(ne.params||ne.delay)&&(W=_.createSubContext(ne),W.transformIntoNewTimeline(),null!=ne.delay)){6==W.previousNode.type&&(W.currentTimeline.snapshotCurrentStyles(),W.previousNode=Yo);const Ee=ii(ne.delay);W.delayNextStep(Ee)}y.steps.length&&(y.steps.forEach(Ee=>pi(this,Ee,W)),W.currentTimeline.applyStylesToKeyframe(),W.subContextCount>T&&W.transformIntoNewTimeline()),_.previousNode=y}visitGroup(y,_){const T=[];let W=_.currentTimeline.currentTime;const ne=y.options&&y.options.delay?ii(y.options.delay):0;y.steps.forEach(Ee=>{const Te=_.createSubContext(y.options);ne&&Te.delayNextStep(ne),pi(this,Ee,Te),W=Math.max(W,Te.currentTimeline.currentTime),T.push(Te.currentTimeline)}),T.forEach(Ee=>_.currentTimeline.mergeTimelineCollectedStyles(Ee)),_.transformIntoNewTimeline(W),_.previousNode=y}_visitTiming(y,_){if(y.dynamic){const T=y.strValue;return U(_.params?nr(T,_.params,_.errors):T,_.errors)}return{duration:y.duration,delay:y.delay,easing:y.easing}}visitAnimate(y,_){const T=_.currentAnimateTimings=this._visitTiming(y.timings,_),W=_.currentTimeline;T.delay&&(_.incrementTime(T.delay),W.snapshotCurrentStyles());const ne=y.style;5==ne.type?this.visitKeyframes(ne,_):(_.incrementTime(T.duration),this.visitStyle(ne,_),W.applyStylesToKeyframe()),_.currentAnimateTimings=null,_.previousNode=y}visitStyle(y,_){const T=_.currentTimeline,W=_.currentAnimateTimings;!W&&T.getCurrentStyleProperties().length&&T.forwardFrame();const ne=W&&W.easing||y.easing;y.isEmptyStep?T.applyEmptyStep(ne):T.setStyles(y.styles,ne,_.errors,_.options),_.previousNode=y}visitKeyframes(y,_){const T=_.currentAnimateTimings,W=_.currentTimeline.duration,ne=T.duration,Te=_.createSubContext().currentTimeline;Te.easing=T.easing,y.styles.forEach(je=>{Te.forwardTime((je.offset||0)*ne),Te.setStyles(je.styles,je.easing,_.errors,_.options),Te.applyStylesToKeyframe()}),_.currentTimeline.mergeTimelineCollectedStyles(Te),_.transformIntoNewTimeline(W+ne),_.previousNode=y}visitQuery(y,_){const T=_.currentTimeline.currentTime,W=y.options||{},ne=W.delay?ii(W.delay):0;ne&&(6===_.previousNode.type||0==T&&_.currentTimeline.getCurrentStyleProperties().length)&&(_.currentTimeline.snapshotCurrentStyles(),_.previousNode=Yo);let Ee=T;const Te=_.invokeQuery(y.selector,y.originalSelector,y.limit,y.includeSelf,!!W.optional,_.errors);_.currentQueryTotal=Te.length;let je=null;Te.forEach((pt,Vt)=>{_.currentQueryIndex=Vt;const on=_.createSubContext(y.options,pt);ne&&on.delayNextStep(ne),pt===_.element&&(je=on.currentTimeline),pi(this,y.animation,on),on.currentTimeline.applyStylesToKeyframe(),Ee=Math.max(Ee,on.currentTimeline.currentTime)}),_.currentQueryIndex=0,_.currentQueryTotal=0,_.transformIntoNewTimeline(Ee),je&&(_.currentTimeline.mergeTimelineCollectedStyles(je),_.currentTimeline.snapshotCurrentStyles()),_.previousNode=y}visitStagger(y,_){const T=_.parentContext,W=_.currentTimeline,ne=y.timings,Ee=Math.abs(ne.duration),Te=Ee*(_.currentQueryTotal-1);let je=Ee*_.currentQueryIndex;switch(ne.duration<0?"reverse":ne.easing){case"reverse":je=Te-je;break;case"full":je=T.currentStaggerTime}const Vt=_.currentTimeline;je&&Vt.delayNextStep(je);const on=Vt.currentTime;pi(this,y.animation,_),_.previousNode=y,T.currentStaggerTime=W.currentTime-on+(W.startTime-T.currentTimeline.startTime)}}const Yo={};class _o{constructor(y,_,T,W,ne,Ee,Te,je){this._driver=y,this.element=_,this.subInstructions=T,this._enterClassName=W,this._leaveClassName=ne,this.errors=Ee,this.timelines=Te,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Yo,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=je||new la(this._driver,_,0),Te.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(y,_){if(!y)return;const T=y;let W=this.options;null!=T.duration&&(W.duration=ii(T.duration)),null!=T.delay&&(W.delay=ii(T.delay));const ne=T.params;if(ne){let Ee=W.params;Ee||(Ee=this.options.params={}),Object.keys(ne).forEach(Te=>{(!_||!Ee.hasOwnProperty(Te))&&(Ee[Te]=nr(ne[Te],Ee,this.errors))})}}_copyOptions(){const y={};if(this.options){const _=this.options.params;if(_){const T=y.params={};Object.keys(_).forEach(W=>{T[W]=_[W]})}}return y}createSubContext(y=null,_,T){const W=_||this.element,ne=new _o(this._driver,W,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(W,T||0));return ne.previousNode=this.previousNode,ne.currentAnimateTimings=this.currentAnimateTimings,ne.options=this._copyOptions(),ne.updateOptions(y),ne.currentQueryIndex=this.currentQueryIndex,ne.currentQueryTotal=this.currentQueryTotal,ne.parentContext=this,this.subContextCount++,ne}transformIntoNewTimeline(y){return this.previousNode=Yo,this.currentTimeline=this.currentTimeline.fork(this.element,y),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(y,_,T){const W={duration:null!=_?_:y.duration,delay:this.currentTimeline.currentTime+(null!=T?T:0)+y.delay,easing:""},ne=new vo(this._driver,y.element,y.keyframes,y.preStyleProps,y.postStyleProps,W,y.stretchStartingKeyframe);return this.timelines.push(ne),W}incrementTime(y){this.currentTimeline.forwardTime(this.currentTimeline.duration+y)}delayNextStep(y){y>0&&this.currentTimeline.delayNextStep(y)}invokeQuery(y,_,T,W,ne,Ee){let Te=[];if(W&&Te.push(this.element),y.length>0){y=(y=y.replace(Hr,"."+this._enterClassName)).replace(Sa,"."+this._leaveClassName);let pt=this._driver.query(this.element,y,1!=T);0!==T&&(pt=T<0?pt.slice(pt.length+T,pt.length):pt.slice(0,T)),Te.push(...pt)}return!ne&&0==Te.length&&Ee.push(`\`query("${_}")\` returned zero elements. (Use \`query("${_}", { optional: true })\` if you wish to allow this.)`),Te}}class la{constructor(y,_,T,W){this._driver=y,this.element=_,this.startTime=T,this._elementTimelineStylesLookup=W,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(_),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(_,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(y){const _=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||_?(this.forwardTime(this.currentTime+y),_&&this.snapshotCurrentStyles()):this.startTime+=y}fork(y,_){return this.applyStylesToKeyframe(),new la(this._driver,y,_||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(y){this.applyStylesToKeyframe(),this.duration=y,this._loadKeyframe()}_updateStyle(y,_){this._localTimelineStyles[y]=_,this._globalTimelineStyles[y]=_,this._styleSummary[y]={time:this.currentTime,value:_}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(y){y&&(this._previousKeyframe.easing=y),Object.keys(this._globalTimelineStyles).forEach(_=>{this._backFill[_]=this._globalTimelineStyles[_]||Fn.l3,this._currentKeyframe[_]=Fn.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(y,_,T,W){_&&(this._previousKeyframe.easing=_);const ne=W&&W.params||{},Ee=function(N,y){const _={};let T;return N.forEach(W=>{"*"===W?(T=T||Object.keys(y),T.forEach(ne=>{_[ne]=Fn.l3})):Ie(W,!1,_)}),_}(y,this._globalTimelineStyles);Object.keys(Ee).forEach(Te=>{const je=nr(Ee[Te],ne,T);this._pendingStyles[Te]=je,this._localTimelineStyles.hasOwnProperty(Te)||(this._backFill[Te]=this._globalTimelineStyles.hasOwnProperty(Te)?this._globalTimelineStyles[Te]:Fn.l3),this._updateStyle(Te,je)})}applyStylesToKeyframe(){const y=this._pendingStyles,_=Object.keys(y);0!=_.length&&(this._pendingStyles={},_.forEach(T=>{this._currentKeyframe[T]=y[T]}),Object.keys(this._localTimelineStyles).forEach(T=>{this._currentKeyframe.hasOwnProperty(T)||(this._currentKeyframe[T]=this._localTimelineStyles[T])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(y=>{const _=this._localTimelineStyles[y];this._pendingStyles[y]=_,this._updateStyle(y,_)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const y=[];for(let _ in this._currentKeyframe)y.push(_);return y}mergeTimelineCollectedStyles(y){Object.keys(y._styleSummary).forEach(_=>{const T=this._styleSummary[_],W=y._styleSummary[_];(!T||W.time>T.time)&&this._updateStyle(_,W.value)})}buildKeyframes(){this.applyStylesToKeyframe();const y=new Set,_=new Set,T=1===this._keyframes.size&&0===this.duration;let W=[];this._keyframes.forEach((Te,je)=>{const pt=Ie(Te,!0);Object.keys(pt).forEach(Vt=>{const on=pt[Vt];on==Fn.k1?y.add(Vt):on==Fn.l3&&_.add(Vt)}),T||(pt.offset=je/this.duration),W.push(pt)});const ne=y.size?qr(y.values()):[],Ee=_.size?qr(_.values()):[];if(T){const Te=W[0],je=$(Te);Te.offset=0,je.offset=1,W=[Te,je]}return Vo(this.element,W,ne,Ee,this.duration,this.startTime,this.easing,!1)}}class vo extends la{constructor(y,_,T,W,ne,Ee,Te=!1){super(y,_,Ee.delay),this.keyframes=T,this.preStyleProps=W,this.postStyleProps=ne,this._stretchStartingKeyframe=Te,this.timings={duration:Ee.duration,delay:Ee.delay,easing:Ee.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let y=this.keyframes,{delay:_,duration:T,easing:W}=this.timings;if(this._stretchStartingKeyframe&&_){const ne=[],Ee=T+_,Te=_/Ee,je=Ie(y[0],!1);je.offset=0,ne.push(je);const pt=Ie(y[0],!1);pt.offset=Ws(Te),ne.push(pt);const Vt=y.length-1;for(let on=1;on<=Vt;on++){let Un=Ie(y[on],!1);Un.offset=Ws((_+Un.offset*T)/Ee),ne.push(Un)}T=Ee,_=0,W="",y=ne}return Vo(this.element,y,this.preStyleProps,this.postStyleProps,T,_,W,!0)}}function Ws(N,y=3){const _=Math.pow(10,y-1);return Math.round(N*_)/_}class gi{}class Gs extends gi{normalizePropertyName(y,_){return kr(y)}normalizeStyleValue(y,_,T,W){let ne="";const Ee=T.toString().trim();if(Aa[_]&&0!==T&&"0"!==T)if("number"==typeof T)ne="px";else{const Te=T.match(/^[+-]?[\d\.]+([a-z]*)$/);Te&&0==Te[1].length&&W.push(`Please provide a CSS unit value for ${y}:${T}`)}return Ee+ne}}const Aa=(()=>function(N){const y={};return N.forEach(_=>y[_]=!0),y}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Ps(N,y,_,T,W,ne,Ee,Te,je,pt,Vt,on,Un){return{type:0,element:N,triggerName:y,isRemovalTransition:W,fromState:_,fromStyles:ne,toState:T,toStyles:Ee,timelines:Te,queriedElements:je,preStyleProps:pt,postStyleProps:Vt,totalTime:on,errors:Un}}const Br={};class da{constructor(y,_,T){this._triggerName=y,this.ast=_,this._stateStyles=T}match(y,_,T,W){return function(N,y,_,T,W){return N.some(ne=>ne(y,_,T,W))}(this.ast.matchers,y,_,T,W)}buildStyles(y,_,T){const W=this._stateStyles["*"],ne=this._stateStyles[y],Ee=W?W.buildStyles(_,T):{};return ne?ne.buildStyles(_,T):Ee}build(y,_,T,W,ne,Ee,Te,je,pt,Vt){const on=[],Un=this.ast.options&&this.ast.options.params||Br,gn=this.buildStyles(T,Te&&Te.params||Br,on),Hn=je&&je.params||Br,rr=this.buildStyles(W,Hn,on),si=new Set,ni=new Map,Fi=new Map,Wr="void"===W,Ya={params:Object.assign(Object.assign({},Un),Hn)},zs=Vt?[]:ua(y,_,this.ast.animation,ne,Ee,gn,rr,Ya,pt,on);let Ci=0;if(zs.forEach(Ho=>{Ci=Math.max(Ho.duration+Ho.delay,Ci)}),on.length)return Ps(_,this._triggerName,T,W,Wr,gn,rr,[],[],ni,Fi,Ci,on);zs.forEach(Ho=>{const _r=Ho.element,Qa=yr(ni,_r,{});Ho.preStyleProps.forEach(Ts=>Qa[Ts]=!0);const Ja=yr(Fi,_r,{});Ho.postStyleProps.forEach(Ts=>Ja[Ts]=!0),_r!==_&&si.add(_r)});const Ii=qr(si.values());return Ps(_,this._triggerName,T,W,Wr,gn,rr,zs,Ii,ni,Fi,Ci)}}class Ma{constructor(y,_,T){this.styles=y,this.defaultParams=_,this.normalizer=T}buildStyles(y,_){const T={},W=$(this.defaultParams);return Object.keys(y).forEach(ne=>{const Ee=y[ne];null!=Ee&&(W[ne]=Ee)}),this.styles.styles.forEach(ne=>{if("string"!=typeof ne){const Ee=ne;Object.keys(Ee).forEach(Te=>{let je=Ee[Te];je.length>1&&(je=nr(je,W,_));const pt=this.normalizer.normalizePropertyName(Te,_);je=this.normalizer.normalizeStyleValue(Te,pt,je,_),T[pt]=je})}}),T}}class bo{constructor(y,_,T){this.name=y,this.ast=_,this._normalizer=T,this.transitionFactories=[],this.states={},_.states.forEach(W=>{this.states[W.name]=new Ma(W.style,W.options&&W.options.params||{},T)}),wo(this.states,"true","1"),wo(this.states,"false","0"),_.transitions.forEach(W=>{this.transitionFactories.push(new da(y,W,this.states))}),this.fallbackTransition=function(N,y,_){return new da(N,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Ee,Te)=>!0],options:null,queryCount:0,depCount:0},y)}(y,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(y,_,T,W){return this.transitionFactories.find(Ee=>Ee.match(y,_,T,W))||null}matchStyles(y,_,T){return this.fallbackTransition.buildStyles(y,_,T)}}function wo(N,y,_){N.hasOwnProperty(y)?N.hasOwnProperty(_)||(N[_]=N[y]):N.hasOwnProperty(_)&&(N[y]=N[_])}const ha=new $i;class Cs{constructor(y,_,T){this.bodyNode=y,this._driver=_,this._normalizer=T,this._animations={},this._playersById={},this.players=[]}register(y,_){const T=[],W=Ko(this._driver,_,T);if(T.length)throw new Error(`Unable to build the animation due to the following errors: ${T.join("\n")}`);this._animations[y]=W}_buildPlayer(y,_,T){const W=y.element,ne=ho(0,this._normalizer,0,y.keyframes,_,T);return this._driver.animate(W,ne,y.duration,y.delay,y.easing,[],!0)}create(y,_,T={}){const W=[],ne=this._animations[y];let Ee;const Te=new Map;if(ne?(Ee=ua(this._driver,_,ne,G,j,{},{},T,ha,W),Ee.forEach(Vt=>{const on=yr(Te,Vt.element,{});Vt.postStyleProps.forEach(Un=>on[Un]=null)})):(W.push("The requested animation doesn't exist or has already been destroyed"),Ee=[]),W.length)throw new Error(`Unable to create the animation due to the following errors: ${W.join("\n")}`);Te.forEach((Vt,on)=>{Object.keys(Vt).forEach(Un=>{Vt[Un]=this._driver.computeStyle(on,Un,Fn.l3)})});const pt=hi(Ee.map(Vt=>{const on=Te.get(Vt.element);return this._buildPlayer(Vt,{},on)}));return this._playersById[y]=pt,pt.onDestroy(()=>this.destroy(y)),this.players.push(pt),pt}destroy(y){const _=this._getPlayer(y);_.destroy(),delete this._playersById[y];const T=this.players.indexOf(_);T>=0&&this.players.splice(T,1)}_getPlayer(y){const _=this._playersById[y];if(!_)throw new Error(`Unable to find the timeline player referenced by ${y}`);return _}listen(y,_,T,W){const ne=os(_,"","","");return Ur(this._getPlayer(y),T,ne,W),()=>{}}command(y,_,T,W){if("register"==T)return void this.register(y,W[0]);if("create"==T)return void this.create(y,_,W[0]||{});const ne=this._getPlayer(y);switch(T){case"play":ne.play();break;case"pause":ne.pause();break;case"reset":ne.reset();break;case"restart":ne.restart();break;case"finish":ne.finish();break;case"init":ne.init();break;case"setPosition":ne.setPosition(parseFloat(W[0]));break;case"destroy":this.destroy(y)}}}const Co="ng-animate-queued",Oa="ng-animate-disabled",cs=".ng-animate-disabled",I=[],F={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},pe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Be="__ng_removed";class ft{constructor(y,_=""){this.namespaceId=_;const T=y&&y.hasOwnProperty("value");if(this.value=null!=(N=T?y.value:y)?N:null,T){const ne=$(y);delete ne.value,this.options=ne}else this.options={};var N;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(y){const _=y.params;if(_){const T=this.options.params;Object.keys(_).forEach(W=>{null==T[W]&&(T[W]=_[W])})}}}const rn="void",pr=new ft(rn);class $r{constructor(y,_,T){this.id=y,this.hostElement=_,this._engine=T,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+y,Ae(_,this._hostClassName)}listen(y,_,T,W){if(!this._triggers.hasOwnProperty(_))throw new Error(`Unable to listen on the animation trigger event "${T}" because the animation trigger "${_}" doesn't exist!`);if(null==T||0==T.length)throw new Error(`Unable to listen on the animation trigger "${_}" because the provided event is undefined!`);if("start"!=(N=T)&&"done"!=N)throw new Error(`The provided animation trigger event "${T}" for the animation trigger "${_}" is not supported!`);var N;const ne=yr(this._elementListeners,y,[]),Ee={name:_,phase:T,callback:W};ne.push(Ee);const Te=yr(this._engine.statesByElement,y,{});return Te.hasOwnProperty(_)||(Ae(y,tt),Ae(y,tt+"-"+_),Te[_]=pr),()=>{this._engine.afterFlush(()=>{const je=ne.indexOf(Ee);je>=0&&ne.splice(je,1),this._triggers[_]||delete Te[_]})}}register(y,_){return!this._triggers[y]&&(this._triggers[y]=_,!0)}_getTrigger(y){const _=this._triggers[y];if(!_)throw new Error(`The provided animation trigger "${y}" has not been registered!`);return _}trigger(y,_,T,W=!0){const ne=this._getTrigger(_),Ee=new so(this.id,_,y);let Te=this._engine.statesByElement.get(y);Te||(Ae(y,tt),Ae(y,tt+"-"+_),this._engine.statesByElement.set(y,Te={}));let je=Te[_];const pt=new ft(T,this.id);if(!(T&&T.hasOwnProperty("value"))&&je&&pt.absorbOptions(je.options),Te[_]=pt,je||(je=pr),pt.value!==rn&&je.value===pt.value){if(!function(N,y){const _=Object.keys(N),T=Object.keys(y);if(_.length!=T.length)return!1;for(let W=0;W<_.length;W++){const ne=_[W];if(!y.hasOwnProperty(ne)||N[ne]!==y[ne])return!1}return!0}(je.params,pt.params)){const Hn=[],rr=ne.matchStyles(je.value,je.params,Hn),si=ne.matchStyles(pt.value,pt.params,Hn);Hn.length?this._engine.reportError(Hn):this._engine.afterFlush(()=>{vn(y,rr),zt(y,si)})}return}const Un=yr(this._engine.playersByElement,y,[]);Un.forEach(Hn=>{Hn.namespaceId==this.id&&Hn.triggerName==_&&Hn.queued&&Hn.destroy()});let gr=ne.matchTransition(je.value,pt.value,y,pt.params),gn=!1;if(!gr){if(!W)return;gr=ne.fallbackTransition,gn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:_,transition:gr,fromState:je,toState:pt,player:Ee,isFallbackTransition:gn}),gn||(Ae(y,Co),Ee.onStart(()=>{ct(y,Co)})),Ee.onDone(()=>{let Hn=this.players.indexOf(Ee);Hn>=0&&this.players.splice(Hn,1);const rr=this._engine.playersByElement.get(y);if(rr){let si=rr.indexOf(Ee);si>=0&&rr.splice(si,1)}}),this.players.push(Ee),Un.push(Ee),Ee}deregister(y){delete this._triggers[y],this._engine.statesByElement.forEach((_,T)=>{delete _[y]}),this._elementListeners.forEach((_,T)=>{this._elementListeners.set(T,_.filter(W=>W.name!=y))})}clearElementCache(y){this._engine.statesByElement.delete(y),this._elementListeners.delete(y);const _=this._engine.playersByElement.get(y);_&&(_.forEach(T=>T.destroy()),this._engine.playersByElement.delete(y))}_signalRemovalForInnerTriggers(y,_){const T=this._engine.driver.query(y,Gt,!0);T.forEach(W=>{if(W[Be])return;const ne=this._engine.fetchNamespacesByElement(W);ne.size?ne.forEach(Ee=>Ee.triggerLeaveAnimation(W,_,!1,!0)):this.clearElementCache(W)}),this._engine.afterFlushAnimationsDone(()=>T.forEach(W=>this.clearElementCache(W)))}triggerLeaveAnimation(y,_,T,W){const ne=this._engine.statesByElement.get(y);if(ne){const Ee=[];if(Object.keys(ne).forEach(Te=>{if(this._triggers[Te]){const je=this.trigger(y,Te,rn,W);je&&Ee.push(je)}}),Ee.length)return this._engine.markElementAsRemoved(this.id,y,!0,_),T&&hi(Ee).onDone(()=>this._engine.processLeaveNode(y)),!0}return!1}prepareLeaveAnimationListeners(y){const _=this._elementListeners.get(y),T=this._engine.statesByElement.get(y);if(_&&T){const W=new Set;_.forEach(ne=>{const Ee=ne.name;if(W.has(Ee))return;W.add(Ee);const je=this._triggers[Ee].fallbackTransition,pt=T[Ee]||pr,Vt=new ft(rn),on=new so(this.id,Ee,y);this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:Ee,transition:je,fromState:pt,toState:Vt,player:on,isFallbackTransition:!0})})}}removeNode(y,_){const T=this._engine;if(y.childElementCount&&this._signalRemovalForInnerTriggers(y,_),this.triggerLeaveAnimation(y,_,!0))return;let W=!1;if(T.totalAnimations){const ne=T.players.length?T.playersByQueriedElement.get(y):[];if(ne&&ne.length)W=!0;else{let Ee=y;for(;Ee=Ee.parentNode;)if(T.statesByElement.get(Ee)){W=!0;break}}}if(this.prepareLeaveAnimationListeners(y),W)T.markElementAsRemoved(this.id,y,!1,_);else{const ne=y[Be];(!ne||ne===F)&&(T.afterFlush(()=>this.clearElementCache(y)),T.destroyInnerAnimations(y),T._onRemovalComplete(y,_))}}insertNode(y,_){Ae(y,this._hostClassName)}drainQueuedTransitions(y){const _=[];return this._queue.forEach(T=>{const W=T.player;if(W.destroyed)return;const ne=T.element,Ee=this._elementListeners.get(ne);Ee&&Ee.forEach(Te=>{if(Te.name==T.triggerName){const je=os(ne,T.triggerName,T.fromState.value,T.toState.value);je._data=y,Ur(T.player,Te.phase,je,Te.callback)}}),W.markedForDestroy?this._engine.afterFlush(()=>{W.destroy()}):_.push(T)}),this._queue=[],_.sort((T,W)=>{const ne=T.transition.ast.depCount,Ee=W.transition.ast.depCount;return 0==ne||0==Ee?ne-Ee:this._engine.driver.containsElement(T.element,W.element)?1:-1})}destroy(y){this.players.forEach(_=>_.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,y)}elementContainsData(y){let _=!1;return this._elementListeners.has(y)&&(_=!0),_=!!this._queue.find(T=>T.element===y)||_,_}}class io{constructor(y,_,T){this.bodyNode=y,this.driver=_,this._normalizer=T,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(W,ne)=>{}}_onRemovalComplete(y,_){this.onRemovalComplete(y,_)}get queuedPlayers(){const y=[];return this._namespaceList.forEach(_=>{_.players.forEach(T=>{T.queued&&y.push(T)})}),y}createNamespace(y,_){const T=new $r(y,_,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,_)?this._balanceNamespaceList(T,_):(this.newHostElements.set(_,T),this.collectEnterElement(_)),this._namespaceLookup[y]=T}_balanceNamespaceList(y,_){const T=this._namespaceList.length-1;if(T>=0){let W=!1;for(let ne=T;ne>=0;ne--)if(this.driver.containsElement(this._namespaceList[ne].hostElement,_)){this._namespaceList.splice(ne+1,0,y),W=!0;break}W||this._namespaceList.splice(0,0,y)}else this._namespaceList.push(y);return this.namespacesByHostElement.set(_,y),y}register(y,_){let T=this._namespaceLookup[y];return T||(T=this.createNamespace(y,_)),T}registerTrigger(y,_,T){let W=this._namespaceLookup[y];W&&W.register(_,T)&&this.totalAnimations++}destroy(y,_){if(!y)return;const T=this._fetchNamespace(y);this.afterFlush(()=>{this.namespacesByHostElement.delete(T.hostElement),delete this._namespaceLookup[y];const W=this._namespaceList.indexOf(T);W>=0&&this._namespaceList.splice(W,1)}),this.afterFlushAnimationsDone(()=>T.destroy(_))}_fetchNamespace(y){return this._namespaceLookup[y]}fetchNamespacesByElement(y){const _=new Set,T=this.statesByElement.get(y);if(T){const W=Object.keys(T);for(let ne=0;ne<W.length;ne++){const Ee=T[W[ne]].namespaceId;if(Ee){const Te=this._fetchNamespace(Ee);Te&&_.add(Te)}}}return _}trigger(y,_,T,W){if(P(_)){const ne=this._fetchNamespace(y);if(ne)return ne.trigger(_,T,W),!0}return!1}insertNode(y,_,T,W){if(!P(_))return;const ne=_[Be];if(ne&&ne.setForRemoval){ne.setForRemoval=!1,ne.setForMove=!0;const Ee=this.collectedLeaveElements.indexOf(_);Ee>=0&&this.collectedLeaveElements.splice(Ee,1)}if(y){const Ee=this._fetchNamespace(y);Ee&&Ee.insertNode(_,T)}W&&this.collectEnterElement(_)}collectEnterElement(y){this.collectedEnterElements.push(y)}markElementAsDisabled(y,_){_?this.disabledNodes.has(y)||(this.disabledNodes.add(y),Ae(y,Oa)):this.disabledNodes.has(y)&&(this.disabledNodes.delete(y),ct(y,Oa))}removeNode(y,_,T,W){if(P(_)){const ne=y?this._fetchNamespace(y):null;if(ne?ne.removeNode(_,W):this.markElementAsRemoved(y,_,!1,W),T){const Ee=this.namespacesByHostElement.get(_);Ee&&Ee.id!==y&&Ee.removeNode(_,W)}}else this._onRemovalComplete(_,W)}markElementAsRemoved(y,_,T,W){this.collectedLeaveElements.push(_),_[Be]={namespaceId:y,setForRemoval:W,hasAnimation:T,removedBeforeQueried:!1}}listen(y,_,T,W,ne){return P(_)?this._fetchNamespace(y).listen(_,T,W,ne):()=>{}}_buildInstruction(y,_,T,W,ne){return y.transition.build(this.driver,y.element,y.fromState.value,y.toState.value,T,W,y.fromState.options,y.toState.options,_,ne)}destroyInnerAnimations(y){let _=this.driver.query(y,Gt,!0);_.forEach(T=>this.destroyActiveAnimationsForElement(T)),0!=this.playersByQueriedElement.size&&(_=this.driver.query(y,Zr,!0),_.forEach(T=>this.finishActiveQueriedAnimationOnElement(T)))}destroyActiveAnimationsForElement(y){const _=this.playersByElement.get(y);_&&_.forEach(T=>{T.queued?T.markedForDestroy=!0:T.destroy()})}finishActiveQueriedAnimationOnElement(y){const _=this.playersByQueriedElement.get(y);_&&_.forEach(T=>T.finish())}whenRenderingDone(){return new Promise(y=>{if(this.players.length)return hi(this.players).onDone(()=>y());y()})}processLeaveNode(y){const _=y[Be];if(_&&_.setForRemoval){if(y[Be]=F,_.namespaceId){this.destroyInnerAnimations(y);const T=this._fetchNamespace(_.namespaceId);T&&T.clearElementCache(y)}this._onRemovalComplete(y,_.setForRemoval)}this.driver.matchesElement(y,cs)&&this.markElementAsDisabled(y,!1),this.driver.query(y,cs,!0).forEach(T=>{this.markElementAsDisabled(T,!1)})}flush(y=-1){let _=[];if(this.newHostElements.size&&(this.newHostElements.forEach((T,W)=>this._balanceNamespaceList(T,W)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let T=0;T<this.collectedEnterElements.length;T++)Ae(this.collectedEnterElements[T],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const T=[];try{_=this._flushAnimations(T,y)}finally{for(let W=0;W<T.length;W++)T[W]()}}else for(let T=0;T<this.collectedLeaveElements.length;T++)this.processLeaveNode(this.collectedLeaveElements[T]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(T=>T()),this._flushFns=[],this._whenQuietFns.length){const T=this._whenQuietFns;this._whenQuietFns=[],_.length?hi(_).onDone(()=>{T.forEach(W=>W())}):T.forEach(W=>W())}}reportError(y){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${y.join("\n")}`)}_flushAnimations(y,_){const T=new $i,W=[],ne=new Map,Ee=[],Te=new Map,je=new Map,pt=new Map,Vt=new Set;this.disabledNodes.forEach(nn=>{Vt.add(nn);const cn=this.driver.query(nn,".ng-animate-queued",!0);for(let Bn=0;Bn<cn.length;Bn++)Vt.add(cn[Bn])});const on=this.bodyNode,Un=Array.from(this.statesByElement.keys()),gr=Z(Un,this.collectedEnterElements),gn=new Map;let Hn=0;gr.forEach((nn,cn)=>{const Bn=G+Hn++;gn.set(cn,Bn),nn.forEach(Xn=>Ae(Xn,Bn))});const rr=[],si=new Set,ni=new Set;for(let nn=0;nn<this.collectedLeaveElements.length;nn++){const cn=this.collectedLeaveElements[nn],Bn=cn[Be];Bn&&Bn.setForRemoval&&(rr.push(cn),si.add(cn),Bn.hasAnimation?this.driver.query(cn,".ng-star-inserted",!0).forEach(Xn=>si.add(Xn)):ni.add(cn))}const Fi=new Map,Wr=Z(Un,Array.from(si));Wr.forEach((nn,cn)=>{const Bn=j+Hn++;Fi.set(cn,Bn),nn.forEach(Xn=>Ae(Xn,Bn))}),y.push(()=>{gr.forEach((nn,cn)=>{const Bn=gn.get(cn);nn.forEach(Xn=>ct(Xn,Bn))}),Wr.forEach((nn,cn)=>{const Bn=Fi.get(cn);nn.forEach(Xn=>ct(Xn,Bn))}),rr.forEach(nn=>{this.processLeaveNode(nn)})});const Ya=[],zs=[];for(let nn=this._namespaceList.length-1;nn>=0;nn--)this._namespaceList[nn].drainQueuedTransitions(_).forEach(Bn=>{const Xn=Bn.player,Gr=Bn.element;if(Ya.push(Xn),this.collectedEnterElements.length){const Ks=Gr[Be];if(Ks&&Ks.setForMove)return void Xn.destroy()}const Ss=!on||!this.driver.containsElement(on,Gr),oi=Fi.get(Gr),Do=gn.get(Gr),mi=this._buildInstruction(Bn,T,Do,oi,Ss);if(mi.errors&&mi.errors.length)zs.push(mi);else{if(Ss)return Xn.onStart(()=>vn(Gr,mi.fromStyles)),Xn.onDestroy(()=>zt(Gr,mi.toStyles)),void W.push(Xn);if(Bn.isFallbackTransition)return Xn.onStart(()=>vn(Gr,mi.fromStyles)),Xn.onDestroy(()=>zt(Gr,mi.toStyles)),void W.push(Xn);mi.timelines.forEach(Ks=>Ks.stretchStartingKeyframe=!0),T.append(Gr,mi.timelines),Ee.push({instruction:mi,player:Xn,element:Gr}),mi.queriedElements.forEach(Ks=>yr(Te,Ks,[]).push(Xn)),mi.preStyleProps.forEach((Ks,Xa)=>{const eu=Object.keys(Ks);if(eu.length){let tu=je.get(Xa);tu||je.set(Xa,tu=new Set),eu.forEach(Pa=>tu.add(Pa))}}),mi.postStyleProps.forEach((Ks,Xa)=>{const eu=Object.keys(Ks);let tu=pt.get(Xa);tu||pt.set(Xa,tu=new Set),eu.forEach(Pa=>tu.add(Pa))})}});if(zs.length){const nn=[];zs.forEach(cn=>{nn.push(`@${cn.triggerName} has failed due to:\n`),cn.errors.forEach(Bn=>nn.push(`- ${Bn}\n`))}),Ya.forEach(cn=>cn.destroy()),this.reportError(nn)}const Ci=new Map,Ii=new Map;Ee.forEach(nn=>{const cn=nn.element;T.has(cn)&&(Ii.set(cn,cn),this._beforeAnimationBuild(nn.player.namespaceId,nn.instruction,Ci))}),W.forEach(nn=>{const cn=nn.element;this._getPreviousPlayers(cn,!1,nn.namespaceId,nn.triggerName,null).forEach(Xn=>{yr(Ci,cn,[]).push(Xn),Xn.destroy()})});const Ho=rr.filter(nn=>mn(nn,je,pt)),_r=new Map;H(_r,this.driver,ni,pt,Fn.l3).forEach(nn=>{mn(nn,je,pt)&&Ho.push(nn)});const Ja=new Map;gr.forEach((nn,cn)=>{H(Ja,this.driver,new Set(nn),je,Fn.k1)}),Ho.forEach(nn=>{const cn=_r.get(nn),Bn=Ja.get(nn);_r.set(nn,Object.assign(Object.assign({},cn),Bn))});const Ts=[],Jo=[],fl={};Ee.forEach(nn=>{const{element:cn,player:Bn,instruction:Xn}=nn;if(T.has(cn)){if(Vt.has(cn))return Bn.onDestroy(()=>zt(cn,Xn.toStyles)),Bn.disabled=!0,Bn.overrideTotalTime(Xn.totalTime),void W.push(Bn);let Gr=fl;if(Ii.size>1){let oi=cn;const Do=[];for(;oi=oi.parentNode;){const mi=Ii.get(oi);if(mi){Gr=mi;break}Do.push(oi)}Do.forEach(mi=>Ii.set(mi,Gr))}const Ss=this._buildAnimation(Bn.namespaceId,Xn,Ci,ne,Ja,_r);if(Bn.setRealPlayer(Ss),Gr===fl)Ts.push(Bn);else{const oi=this.playersByElement.get(Gr);oi&&oi.length&&(Bn.parentPlayer=hi(oi)),W.push(Bn)}}else vn(cn,Xn.fromStyles),Bn.onDestroy(()=>zt(cn,Xn.toStyles)),Jo.push(Bn),Vt.has(cn)&&W.push(Bn)}),Jo.forEach(nn=>{const cn=ne.get(nn.element);if(cn&&cn.length){const Bn=hi(cn);nn.setRealPlayer(Bn)}}),W.forEach(nn=>{nn.parentPlayer?nn.syncPlayerEvents(nn.parentPlayer):nn.destroy()});for(let nn=0;nn<rr.length;nn++){const cn=rr[nn],Bn=cn[Be];if(ct(cn,j),Bn&&Bn.hasAnimation)continue;let Xn=[];if(Te.size){let Ss=Te.get(cn);Ss&&Ss.length&&Xn.push(...Ss);let oi=this.driver.query(cn,Zr,!0);for(let Do=0;Do<oi.length;Do++){let mi=Te.get(oi[Do]);mi&&mi.length&&Xn.push(...mi)}}const Gr=Xn.filter(Ss=>!Ss.destroyed);Gr.length?Wt(this,cn,Gr):this.processLeaveNode(cn)}return rr.length=0,Ts.forEach(nn=>{this.players.push(nn),nn.onDone(()=>{nn.destroy();const cn=this.players.indexOf(nn);this.players.splice(cn,1)}),nn.play()}),Ts}elementContainsData(y,_){let T=!1;const W=_[Be];return W&&W.setForRemoval&&(T=!0),this.playersByElement.has(_)&&(T=!0),this.playersByQueriedElement.has(_)&&(T=!0),this.statesByElement.has(_)&&(T=!0),this._fetchNamespace(y).elementContainsData(_)||T}afterFlush(y){this._flushFns.push(y)}afterFlushAnimationsDone(y){this._whenQuietFns.push(y)}_getPreviousPlayers(y,_,T,W,ne){let Ee=[];if(_){const Te=this.playersByQueriedElement.get(y);Te&&(Ee=Te)}else{const Te=this.playersByElement.get(y);if(Te){const je=!ne||ne==rn;Te.forEach(pt=>{pt.queued||!je&&pt.triggerName!=W||Ee.push(pt)})}}return(T||W)&&(Ee=Ee.filter(Te=>!(T&&T!=Te.namespaceId||W&&W!=Te.triggerName))),Ee}_beforeAnimationBuild(y,_,T){const ne=_.element,Ee=_.isRemovalTransition?void 0:y,Te=_.isRemovalTransition?void 0:_.triggerName;for(const je of _.timelines){const pt=je.element,Vt=pt!==ne,on=yr(T,pt,[]);this._getPreviousPlayers(pt,Vt,Ee,Te,_.toState).forEach(gr=>{const gn=gr.getRealPlayer();gn.beforeDestroy&&gn.beforeDestroy(),gr.destroy(),on.push(gr)})}vn(ne,_.fromStyles)}_buildAnimation(y,_,T,W,ne,Ee){const Te=_.triggerName,je=_.element,pt=[],Vt=new Set,on=new Set,Un=_.timelines.map(gn=>{const Hn=gn.element;Vt.add(Hn);const rr=Hn[Be];if(rr&&rr.removedBeforeQueried)return new Fn.ZN(gn.duration,gn.delay);const si=Hn!==je,ni=function(N){const y=[];return zn(N,y),y}((T.get(Hn)||I).map(Ci=>Ci.getRealPlayer())).filter(Ci=>!!Ci.element&&Ci.element===Hn),Fi=ne.get(Hn),Wr=Ee.get(Hn),Ya=ho(0,this._normalizer,0,gn.keyframes,Fi,Wr),zs=this._buildPlayer(gn,Ya,ni);if(gn.subTimeline&&W&&on.add(Hn),si){const Ci=new so(y,Te,Hn);Ci.setRealPlayer(zs),pt.push(Ci)}return zs});pt.forEach(gn=>{yr(this.playersByQueriedElement,gn.element,[]).push(gn),gn.onDone(()=>function(N,y,_){let T;if(N instanceof Map){if(T=N.get(y),T){if(T.length){const W=T.indexOf(_);T.splice(W,1)}0==T.length&&N.delete(y)}}else if(T=N[y],T){if(T.length){const W=T.indexOf(_);T.splice(W,1)}0==T.length&&delete N[y]}return T}(this.playersByQueriedElement,gn.element,gn))}),Vt.forEach(gn=>Ae(gn,sr));const gr=hi(Un);return gr.onDestroy(()=>{Vt.forEach(gn=>ct(gn,sr)),zt(je,_.toStyles)}),on.forEach(gn=>{yr(W,gn,[]).push(gr)}),gr}_buildPlayer(y,_,T){return _.length>0?this.driver.animate(y.element,_,y.duration,y.delay,y.easing,T):new Fn.ZN(y.duration,y.delay)}}class so{constructor(y,_,T){this.namespaceId=y,this.triggerName=_,this.element=T,this._player=new Fn.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(y){this._containsRealPlayer||(this._player=y,Object.keys(this._queuedCallbacks).forEach(_=>{this._queuedCallbacks[_].forEach(T=>Ur(y,_,void 0,T))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(y.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(y){this.totalTime=y}syncPlayerEvents(y){const _=this._player;_.triggerCallback&&y.onStart(()=>_.triggerCallback("start")),y.onDone(()=>this.finish()),y.onDestroy(()=>this.destroy())}_queueEvent(y,_){yr(this._queuedCallbacks,y,[]).push(_)}onDone(y){this.queued&&this._queueEvent("done",y),this._player.onDone(y)}onStart(y){this.queued&&this._queueEvent("start",y),this._player.onStart(y)}onDestroy(y){this.queued&&this._queueEvent("destroy",y),this._player.onDestroy(y)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(y){this.queued||this._player.setPosition(y)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(y){const _=this._player;_.triggerCallback&&_.triggerCallback(y)}}function P(N){return N&&1===N.nodeType}function D(N,y){const _=N.style.display;return N.style.display=null!=y?y:"none",_}function H(N,y,_,T,W){const ne=[];_.forEach(je=>ne.push(D(je)));const Ee=[];T.forEach((je,pt)=>{const Vt={};je.forEach(on=>{const Un=Vt[on]=y.computeStyle(pt,on,W);(!Un||0==Un.length)&&(pt[Be]=pe,Ee.push(pt))}),N.set(pt,Vt)});let Te=0;return _.forEach(je=>D(je,ne[Te++])),Ee}function Z(N,y){const _=new Map;if(N.forEach(Te=>_.set(Te,[])),0==y.length)return _;const W=new Set(y),ne=new Map;function Ee(Te){if(!Te)return 1;let je=ne.get(Te);if(je)return je;const pt=Te.parentNode;return je=_.has(pt)?pt:W.has(pt)?1:Ee(pt),ne.set(Te,je),je}return y.forEach(Te=>{const je=Ee(Te);1!==je&&_.get(je).push(Te)}),_}const ie="$$classes";function Ae(N,y){if(N.classList)N.classList.add(y);else{let _=N[ie];_||(_=N[ie]={}),_[y]=!0}}function ct(N,y){if(N.classList)N.classList.remove(y);else{let _=N[ie];_&&delete _[y]}}function Wt(N,y,_){hi(_).onDone(()=>N.processLeaveNode(y))}function zn(N,y){for(let _=0;_<N.length;_++){const T=N[_];T instanceof Fn.ZE?zn(T.players,y):y.push(T)}}function mn(N,y,_){const T=_.get(N);if(!T)return!1;let W=y.get(N);return W?T.forEach(ne=>W.add(ne)):y.set(N,T),_.delete(N),!0}class wi{constructor(y,_,T){this.bodyNode=y,this._driver=_,this._normalizer=T,this._triggerCache={},this.onRemovalComplete=(W,ne)=>{},this._transitionEngine=new io(y,_,T),this._timelineEngine=new Cs(y,_,T),this._transitionEngine.onRemovalComplete=(W,ne)=>this.onRemovalComplete(W,ne)}registerTrigger(y,_,T,W,ne){const Ee=y+"-"+W;let Te=this._triggerCache[Ee];if(!Te){const je=[],pt=Ko(this._driver,ne,je);if(je.length)throw new Error(`The animation trigger "${W}" has failed to build due to the following errors:\n - ${je.join("\n - ")}`);Te=function(N,y,_){return new bo(N,y,_)}(W,pt,this._normalizer),this._triggerCache[Ee]=Te}this._transitionEngine.registerTrigger(_,W,Te)}register(y,_){this._transitionEngine.register(y,_)}destroy(y,_){this._transitionEngine.destroy(y,_)}onInsert(y,_,T,W){this._transitionEngine.insertNode(y,_,T,W)}onRemove(y,_,T,W){this._transitionEngine.removeNode(y,_,W||!1,T)}disableAnimations(y,_){this._transitionEngine.markElementAsDisabled(y,_)}process(y,_,T,W){if("@"==T.charAt(0)){const[ne,Ee]=Lo(T);this._timelineEngine.command(ne,_,Ee,W)}else this._transitionEngine.trigger(y,_,T,W)}listen(y,_,T,W,ne){if("@"==T.charAt(0)){const[Ee,Te]=Lo(T);return this._timelineEngine.listen(Ee,_,Te,ne)}return this._transitionEngine.listen(y,_,T,W,ne)}flush(y=-1){this._transitionEngine.flush(y)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function ds(N,y){let _=null,T=null;return Array.isArray(y)&&y.length?(_=pn(y[0]),y.length>1&&(T=pn(y[y.length-1]))):y&&(_=pn(y)),_||T?new Jt(N,_,T):null}let Jt=(()=>{class N{constructor(_,T,W){this._element=_,this._startStyles=T,this._endStyles=W,this._state=0;let ne=N.initialStylesByElement.get(_);ne||N.initialStylesByElement.set(_,ne={}),this._initialStyles=ne}start(){this._state<1&&(this._startStyles&&zt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(zt(this._element,this._initialStyles),this._endStyles&&(zt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(N.initialStylesByElement.delete(this._element),this._startStyles&&(vn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(vn(this._element,this._endStyles),this._endStyles=null),zt(this._element,this._initialStyles),this._state=3)}}return N.initialStylesByElement=new WeakMap,N})();function pn(N){let y=null;const _=Object.keys(N);for(let T=0;T<_.length;T++){const W=_[T];fa(W)&&(y=y||{},y[W]=N[W])}return y}function fa(N){return"display"===N||"position"===N}const st="animation",xt="animationend";class Vu{constructor(y,_,T,W,ne,Ee,Te){this._element=y,this._name=_,this._duration=T,this._delay=W,this._easing=ne,this._fillMode=Ee,this._onDoneFn=Te,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=je=>this._handleCallback(je)}apply(){(function(N,y){const _=ga(N,"").trim();let T=0;_.length&&(function(N,y){let _=0;for(let T=0;T<N.length;T++)","===N.charAt(T)&&_++;return _}(_)+1,y=`${_}, ${y}`),pu(N,"",y)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Ls(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){fu(this._element,this._name,"paused")}resume(){fu(this._element,this._name,"running")}setPosition(y){const _=ll(this._element,this._name);this._position=y*this._duration,pu(this._element,"Delay",`-${this._position}ms`,_)}getPosition(){return this._position}_handleCallback(y){const _=y._ngTestManualTimestamp||Date.now(),T=1e3*parseFloat(y.elapsedTime.toFixed(3));y.animationName==this._name&&Math.max(_-this._startTime,0)>=this._delay&&T>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Ls(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(N,y){const T=ga(N,"").split(","),W=pa(T,y);W>=0&&(T.splice(W,1),pu(N,"",T.join(",")))}(this._element,this._name))}}function fu(N,y,_){pu(N,"PlayState",_,ll(N,y))}function ll(N,y){const _=ga(N,"");return _.indexOf(",")>0?pa(_.split(","),y):pa([_],y)}function pa(N,y){for(let _=0;_<N.length;_++)if(N[_].indexOf(y)>=0)return _;return-1}function Ls(N,y,_){_?N.removeEventListener(xt,y):N.addEventListener(xt,y)}function pu(N,y,_,T){const W=st+y;if(null!=T){const ne=N.style[W];if(ne.length){const Ee=ne.split(",");Ee[T]=_,_=Ee.join(",")}}N.style[W]=_}function ga(N,y){return N.style[st+y]||""}class ti{constructor(y,_,T,W,ne,Ee,Te,je){this.element=y,this.keyframes=_,this.animationName=T,this._duration=W,this._delay=ne,this._finalStyles=Te,this._specialStyles=je,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=Ee||"linear",this.totalTime=W+ne,this._buildStyler()}onStart(y){this._onStartFns.push(y)}onDone(y){this._onDoneFns.push(y)}onDestroy(y){this._onDestroyFns.push(y)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(y=>y()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(y=>y()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(y=>y()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(y){this._styler.setPosition(y)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Vu(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(y){const _="start"==y?this._onStartFns:this._onDoneFns;_.forEach(T=>T()),_.length=0}beforeDestroy(){this.init();const y={};if(this.hasStarted()){const _=this._state>=3;Object.keys(this._finalStyles).forEach(T=>{"offset"!=T&&(y[T]=_?this._finalStyles[T]:Fo(this.element,T))})}this.currentSnapshot=y}}class Kn extends Fn.ZN{constructor(y,_){super(),this.element=y,this._startingStyles={},this.__initialized=!1,this._styles=Xr(_)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(y=>{this._startingStyles[y]=this.element.style[y]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(y=>this.element.style.setProperty(y,this._styles[y])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(y=>{const _=this._startingStyles[y];_?this.element.style.setProperty(y,_):this.element.style.removeProperty(y)}),this._startingStyles=null,super.destroy())}}class Ic{constructor(){this._count=0}validateStyleProperty(y){return eo(y)}matchesElement(y,_){return Ns(y,_)}containsElement(y,_){return Ji(y,_)}query(y,_,T){return Xi(y,_,T)}computeStyle(y,_,T){return window.getComputedStyle(y)[_]}buildKeyframeElement(y,_,T){T=T.map(Te=>Xr(Te));let W=`@keyframes ${_} {\n`,ne="";T.forEach(Te=>{ne=" ";const je=parseFloat(Te.offset);W+=`${ne}${100*je}% {\n`,ne+=" ",Object.keys(Te).forEach(pt=>{const Vt=Te[pt];switch(pt){case"offset":return;case"easing":return void(Vt&&(W+=`${ne}animation-timing-function: ${Vt};\n`));default:return void(W+=`${ne}${pt}: ${Vt};\n`)}}),W+=`${ne}}\n`}),W+="}\n";const Ee=document.createElement("style");return Ee.textContent=W,Ee}animate(y,_,T,W,ne,Ee=[],Te){const je=Ee.filter(rr=>rr instanceof ti),pt={};bi(T,W)&&je.forEach(rr=>{let si=rr.currentSnapshot;Object.keys(si).forEach(ni=>pt[ni]=si[ni])});const Vt=function(N){let y={};return N&&(Array.isArray(N)?N:[N]).forEach(T=>{Object.keys(T).forEach(W=>{"offset"==W||"easing"==W||(y[W]=T[W])})}),y}(_=dn(y,_,pt));if(0==T)return new Kn(y,Vt);const on="gen_css_kf_"+this._count++,Un=this.buildKeyframeElement(y,on,_);(function(N){var y;const _=null===(y=N.getRootNode)||void 0===y?void 0:y.call(N);return"undefined"!=typeof ShadowRoot&&_ instanceof ShadowRoot?_:document.head})(y).appendChild(Un);const gn=ds(y,_),Hn=new ti(y,_,on,T,W,ne,Vt,gn);return Hn.onDestroy(()=>{var N;(N=Un).parentNode.removeChild(N)}),Hn}}class ju{constructor(y,_,T,W){this.element=y,this.keyframes=_,this.options=T,this._specialStyles=W,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=T.duration,this._delay=T.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(y=>y()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const y=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,y,this.options),this._finalKeyframe=y.length?y[y.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(y,_,T){return y.animate(_,T)}onStart(y){this._onStartFns.push(y)}onDone(y){this._onDoneFns.push(y)}onDestroy(y){this._onDestroyFns.push(y)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(y=>y()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(y=>y()),this._onDestroyFns=[])}setPosition(y){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=y*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const y={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(_=>{"offset"!=_&&(y[_]=this._finished?this._finalKeyframe[_]:Fo(this.element,_))}),this.currentSnapshot=y}triggerCallback(y){const _="start"==y?this._onStartFns:this._onDoneFns;_.forEach(T=>T()),_.length=0}}class hs{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Na().toString()),this._cssKeyframesDriver=new Ic}validateStyleProperty(y){return eo(y)}matchesElement(y,_){return Ns(y,_)}containsElement(y,_){return Ji(y,_)}query(y,_,T){return Xi(y,_,T)}computeStyle(y,_,T){return window.getComputedStyle(y)[_]}overrideWebAnimationsSupport(y){this._isNativeImpl=y}animate(y,_,T,W,ne,Ee=[],Te){if(!Te&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(y,_,T,W,ne,Ee);const Vt={duration:T,delay:W,fill:0==W?"both":"forwards"};ne&&(Vt.easing=ne);const on={},Un=Ee.filter(gn=>gn instanceof ju);bi(T,W)&&Un.forEach(gn=>{let Hn=gn.currentSnapshot;Object.keys(Hn).forEach(rr=>on[rr]=Hn[rr])});const gr=ds(y,_=dn(y,_=_.map(gn=>Ie(gn,!1)),on));return new ju(y,_,Vt,gr)}}function Na(){return Mi()&&Element.prototype.animate||{}}let Ri=(()=>{class N extends Fn._j{constructor(_,T){super(),this._nextAnimationId=0,this._renderer=_.createRenderer(T.body,{id:"0",encapsulation:O.ifc.None,styles:[],data:{animation:[]}})}build(_){const T=this._nextAnimationId.toString();this._nextAnimationId++;const W=Array.isArray(_)?(0,Fn.vP)(_):_;return $u(this._renderer,null,T,"register",[W]),new Hu(T,this._renderer)}}return N.\u0275fac=function(_){return new(_||N)(O.LFG(O.FYo),O.LFG(b.K0))},N.\u0275prov=O.Yz7({token:N,factory:N.\u0275fac}),N})();class Hu extends Fn.LC{constructor(y,_){super(),this._id=y,this._renderer=_}create(y,_){return new cl(this._id,y,_||{},this._renderer)}}class cl{constructor(y,_,T,W){this.id=y,this.element=_,this._renderer=W,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",T)}_listen(y,_){return this._renderer.listen(this.element,`@@${this.id}:${y}`,_)}_command(y,..._){return $u(this._renderer,this.element,this.id,y,_)}onDone(y){this._listen("done",y)}onStart(y){this._listen("start",y)}onDestroy(y){this._listen("destroy",y)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(y){this._command("setPosition",y)}getPosition(){var y,_;return null!==(_=null===(y=this._renderer.engine.players[+this.id])||void 0===y?void 0:y.getPosition())&&void 0!==_?_:0}}function $u(N,y,_,T,W){return N.setProperty(y,`@@${_}:${T}`,W)}const Za="@.disabled";let Qo=(()=>{class N{constructor(_,T,W){this.delegate=_,this.engine=T,this._zone=W,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),T.onRemovalComplete=(ne,Ee)=>{Ee&&Ee.parentNode(ne)&&Ee.removeChild(ne.parentNode,ne)}}createRenderer(_,T){const ne=this.delegate.createRenderer(_,T);if(!(_&&T&&T.data&&T.data.animation)){let Vt=this._rendererCache.get(ne);return Vt||(Vt=new gu("",ne,this.engine),this._rendererCache.set(ne,Vt)),Vt}const Ee=T.id,Te=T.id+"-"+this._currentId;this._currentId++,this.engine.register(Te,_);const je=Vt=>{Array.isArray(Vt)?Vt.forEach(je):this.engine.registerTrigger(Ee,Te,_,Vt.name,Vt)};return T.data.animation.forEach(je),new Bt(this,Te,ne,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(_,T,W){_>=0&&_<this._microtaskId?this._zone.run(()=>T(W)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(ne=>{const[Ee,Te]=ne;Ee(Te)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([T,W]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return N.\u0275fac=function(_){return new(_||N)(O.LFG(O.FYo),O.LFG(wi),O.LFG(O.R0b))},N.\u0275prov=O.Yz7({token:N,factory:N.\u0275fac}),N})();class gu{constructor(y,_,T){this.namespaceId=y,this.delegate=_,this.engine=T,this.destroyNode=this.delegate.destroyNode?W=>_.destroyNode(W):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(y,_){return this.delegate.createElement(y,_)}createComment(y){return this.delegate.createComment(y)}createText(y){return this.delegate.createText(y)}appendChild(y,_){this.delegate.appendChild(y,_),this.engine.onInsert(this.namespaceId,_,y,!1)}insertBefore(y,_,T,W=!0){this.delegate.insertBefore(y,_,T),this.engine.onInsert(this.namespaceId,_,y,W)}removeChild(y,_,T){this.engine.onRemove(this.namespaceId,_,this.delegate,T)}selectRootElement(y,_){return this.delegate.selectRootElement(y,_)}parentNode(y){return this.delegate.parentNode(y)}nextSibling(y){return this.delegate.nextSibling(y)}setAttribute(y,_,T,W){this.delegate.setAttribute(y,_,T,W)}removeAttribute(y,_,T){this.delegate.removeAttribute(y,_,T)}addClass(y,_){this.delegate.addClass(y,_)}removeClass(y,_){this.delegate.removeClass(y,_)}setStyle(y,_,T,W){this.delegate.setStyle(y,_,T,W)}removeStyle(y,_,T){this.delegate.removeStyle(y,_,T)}setProperty(y,_,T){"@"==_.charAt(0)&&_==Za?this.disableAnimations(y,!!T):this.delegate.setProperty(y,_,T)}setValue(y,_){this.delegate.setValue(y,_)}listen(y,_,T){return this.delegate.listen(y,_,T)}disableAnimations(y,_){this.engine.disableAnimations(y,_)}}class Bt extends gu{constructor(y,_,T,W){super(_,T,W),this.factory=y,this.namespaceId=_}setProperty(y,_,T){"@"==_.charAt(0)?"."==_.charAt(1)&&_==Za?this.disableAnimations(y,T=void 0===T||!!T):this.engine.process(this.namespaceId,y,_.substr(1),T):this.delegate.setProperty(y,_,T)}listen(y,_,T){if("@"==_.charAt(0)){const W=function(N){switch(N){case"body":return document.body;case"document":return document;case"window":return window;default:return N}}(y);let ne=_.substr(1),Ee="";return"@"!=ne.charAt(0)&&([ne,Ee]=function(N){const y=N.indexOf(".");return[N.substring(0,y),N.substr(y+1)]}(ne)),this.engine.listen(this.namespaceId,W,ne,Ee,Te=>{this.factory.scheduleListenerCallback(Te._data||-1,T,Te)})}return this.delegate.listen(y,_,T)}}let dl=(()=>{class N extends wi{constructor(_,T,W){super(_.body,T,W)}ngOnDestroy(){this.flush()}}return N.\u0275fac=function(_){return new(_||N)(O.LFG(b.K0),O.LFG($s),O.LFG(gi))},N.\u0275prov=O.Yz7({token:N,factory:N.\u0275fac}),N})();const qa=new O.OlP("AnimationModuleType"),jo=[{provide:Fn._j,useClass:Ri},{provide:gi,useFactory:function(){return new Gs}},{provide:wi,useClass:dl},{provide:O.FYo,useFactory:function(N,y,_){return new Qo(N,y,_)},deps:[yn,wi,O.R0b]}],uo=[{provide:$s,useFactory:function(){return"function"==typeof Na()?new hs:new Ic}},{provide:qa,useValue:"BrowserAnimations"},...jo],Wu=[{provide:$s,useClass:bs},{provide:qa,useValue:"NoopAnimations"},...jo];let hl=(()=>{class N{static withConfig(_){return{ngModule:N,providers:_.disableAnimations?Wu:uo}}}return N.\u0275fac=function(_){return new(_||N)},N.\u0275mod=O.oAB({type:N}),N.\u0275inj=O.cJS({providers:uo,imports:[it]}),N})();var Gu=R(7082);let yu=(()=>{class N{}return N.\u0275fac=function(_){return new(_||N)},N.\u0275mod=O.oAB({type:N,bootstrap:[Pi]}),N.\u0275inj=O.cJS({providers:[Yi.e,qi.M],imports:[[it,Kr,Zi.u5,_i.hO.initializeApp(Li),xi.ww,vi.yb,Vr.JF,Gu.JuegosModule],hl]}),N})();(0,O.G48)(),rt().bootstrapModule(yu).catch(N=>console.error(N))},4762:(yt,Me,R)=>{"use strict";R.d(Me,{ZT:()=>O,pi:()=>se,_T:()=>oe,mG:()=>q,Jh:()=>J,XA:()=>X,CR:()=>fe,ev:()=>Ze});var b=function(xe,$e){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Re,Qe){Re.__proto__=Qe}||function(Re,Qe){for(var Ye in Qe)Object.prototype.hasOwnProperty.call(Qe,Ye)&&(Re[Ye]=Qe[Ye])})(xe,$e)};function O(xe,$e){if("function"!=typeof $e&&null!==$e)throw new TypeError("Class extends value "+String($e)+" is not a constructor or null");function Re(){this.constructor=xe}b(xe,$e),xe.prototype=null===$e?Object.create($e):(Re.prototype=$e.prototype,new Re)}var se=function(){return(se=Object.assign||function($e){for(var Re,Qe=1,Ye=arguments.length;Qe<Ye;Qe++)for(var Ne in Re=arguments[Qe])Object.prototype.hasOwnProperty.call(Re,Ne)&&($e[Ne]=Re[Ne]);return $e}).apply(this,arguments)};function oe(xe,$e){var Re={};for(var Qe in xe)Object.prototype.hasOwnProperty.call(xe,Qe)&&$e.indexOf(Qe)<0&&(Re[Qe]=xe[Qe]);if(null!=xe&&"function"==typeof Object.getOwnPropertySymbols){var Ye=0;for(Qe=Object.getOwnPropertySymbols(xe);Ye<Qe.length;Ye++)$e.indexOf(Qe[Ye])<0&&Object.prototype.propertyIsEnumerable.call(xe,Qe[Ye])&&(Re[Qe[Ye]]=xe[Qe[Ye]])}return Re}function q(xe,$e,Re,Qe){return new(Re||(Re=Promise))(function(Ne,Dt){function Zt(ke){try{vt(Qe.next(ke))}catch(Je){Dt(Je)}}function ot(ke){try{vt(Qe.throw(ke))}catch(Je){Dt(Je)}}function vt(ke){ke.done?Ne(ke.value):function(Ne){return Ne instanceof Re?Ne:new Re(function(Dt){Dt(Ne)})}(ke.value).then(Zt,ot)}vt((Qe=Qe.apply(xe,$e||[])).next())})}function J(xe,$e){var Qe,Ye,Ne,Dt,Re={label:0,sent:function(){if(1&Ne[0])throw Ne[1];return Ne[1]},trys:[],ops:[]};return Dt={next:Zt(0),throw:Zt(1),return:Zt(2)},"function"==typeof Symbol&&(Dt[Symbol.iterator]=function(){return this}),Dt;function Zt(vt){return function(ke){return function(vt){if(Qe)throw new TypeError("Generator is already executing.");for(;Re;)try{if(Qe=1,Ye&&(Ne=2&vt[0]?Ye.return:vt[0]?Ye.throw||((Ne=Ye.return)&&Ne.call(Ye),0):Ye.next)&&!(Ne=Ne.call(Ye,vt[1])).done)return Ne;switch(Ye=0,Ne&&(vt=[2&vt[0],Ne.value]),vt[0]){case 0:case 1:Ne=vt;break;case 4:return Re.label++,{value:vt[1],done:!1};case 5:Re.label++,Ye=vt[1],vt=[0];continue;case 7:vt=Re.ops.pop(),Re.trys.pop();continue;default:if(!(Ne=(Ne=Re.trys).length>0&&Ne[Ne.length-1])&&(6===vt[0]||2===vt[0])){Re=0;continue}if(3===vt[0]&&(!Ne||vt[1]>Ne[0]&&vt[1]<Ne[3])){Re.label=vt[1];break}if(6===vt[0]&&Re.label<Ne[1]){Re.label=Ne[1],Ne=vt;break}if(Ne&&Re.label<Ne[2]){Re.label=Ne[2],Re.ops.push(vt);break}Ne[2]&&Re.ops.pop(),Re.trys.pop();continue}vt=$e.call(xe,Re)}catch(ke){vt=[6,ke],Ye=0}finally{Qe=Ne=0}if(5&vt[0])throw vt[1];return{value:vt[0]?vt[1]:void 0,done:!0}}([vt,ke])}}}function X(xe){var $e="function"==typeof Symbol&&Symbol.iterator,Re=$e&&xe[$e],Qe=0;if(Re)return Re.call(xe);if(xe&&"number"==typeof xe.length)return{next:function(){return xe&&Qe>=xe.length&&(xe=void 0),{value:xe&&xe[Qe++],done:!xe}}};throw new TypeError($e?"Object is not iterable.":"Symbol.iterator is not defined.")}function fe(xe,$e){var Re="function"==typeof Symbol&&xe[Symbol.iterator];if(!Re)return xe;var Ye,Dt,Qe=Re.call(xe),Ne=[];try{for(;(void 0===$e||$e-- >0)&&!(Ye=Qe.next()).done;)Ne.push(Ye.value)}catch(Zt){Dt={error:Zt}}finally{try{Ye&&!Ye.done&&(Re=Qe.return)&&Re.call(Qe)}finally{if(Dt)throw Dt.error}}return Ne}function Ze(xe,$e,Re){if(Re||2===arguments.length)for(var Ne,Qe=0,Ye=$e.length;Qe<Ye;Qe++)(Ne||!(Qe in $e))&&(Ne||(Ne=Array.prototype.slice.call($e,0,Qe)),Ne[Qe]=$e[Qe]);return xe.concat(Ne||Array.prototype.slice.call($e))}},8239:(yt,Me,R)=>{"use strict";function b(se,oe,L,re,de,q,J){try{var Q=se[q](J),ue=Q.value}catch(X){return void L(X)}Q.done?oe(ue):Promise.resolve(ue).then(re,de)}function O(se){return function(){var oe=this,L=arguments;return new Promise(function(re,de){var q=se.apply(oe,L);function J(ue){b(q,re,de,J,Q,"next",ue)}function Q(ue){b(q,re,de,J,Q,"throw",ue)}J(void 0)})}}R.d(Me,{Z:()=>O})}},yt=>{yt(yt.s=6120)}]);